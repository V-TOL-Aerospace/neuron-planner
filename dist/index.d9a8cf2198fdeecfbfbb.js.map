{"version":3,"file":"index.d9a8cf2198fdeecfbfbb.js","mappings":"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A;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,kBAAkB,iBAAiB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,oBAAoB,4BAA4B;AAChD;AACA;AACA;AACA;;AAEA;;AAEA,qBAAqB,6BAA6B;AAClD;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;ACvGa;;AAEb;AACA;;AAEA;AACA;AACA,sDAAsD;;AAEtD;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;ACtCa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;ACVa;;AAEb;AACA;AACA,cAAc,KAAwC,GAAG,sBAAiB,GAAG,CAAI;;AAEjF;AACA;AACA;AACA;;AAEA;;;;;;;;;;ACXa;;AAEb;AACA;AACA;;AAEA;AACA,kDAAkD;AAClD;;AAEA;AACA,0CAA0C;AAC1C;;AAEA;;AAEA;AACA,iFAAiF;AACjF;;AAEA;;AAEA;AACA,aAAa;AACb;;AAEA;AACA,aAAa;AACb;;AAEA;AACA,aAAa;AACb;;AAEA;;AAEA;AACA,yDAAyD;AACzD,IAAI;;AAEJ;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;ACrEa;;AAEb;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;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","sources":["webpack://vtol-neuron/./node_modules/leaflet/dist/leaflet.css","webpack://vtol-neuron/./src/css/brief.css","webpack://vtol-neuron/./src/css/index.css","webpack://vtol-neuron/./src/css/map.css","webpack://vtol-neuron/./src/css/plan.css","webpack://vtol-neuron/./src/css/responsive.css","webpack://vtol-neuron/./src/css/stats_options.css","webpack://vtol-neuron/./node_modules/css-loader/dist/runtime/api.js","webpack://vtol-neuron/./node_modules/css-loader/dist/runtime/getUrl.js","webpack://vtol-neuron/./node_modules/css-loader/dist/runtime/sourceMaps.js","webpack://vtol-neuron/./node_modules/leaflet/dist/leaflet.css?b9a3","webpack://vtol-neuron/./src/css/brief.css?d739","webpack://vtol-neuron/./src/css/index.css?f7ea","webpack://vtol-neuron/./src/css/map.css?9a45","webpack://vtol-neuron/./src/css/plan.css?e090","webpack://vtol-neuron/./src/css/responsive.css?0bb5","webpack://vtol-neuron/./src/css/stats_options.css?667b","webpack://vtol-neuron/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://vtol-neuron/./node_modules/style-loader/dist/runtime/insertBySelector.js","webpack://vtol-neuron/./node_modules/style-loader/dist/runtime/insertStyleElement.js","webpack://vtol-neuron/./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js","webpack://vtol-neuron/./node_modules/style-loader/dist/runtime/styleDomAPI.js","webpack://vtol-neuron/./node_modules/style-loader/dist/runtime/styleTagTransform.js","webpack://vtol-neuron/./src/js/index.ts","webpack://vtol-neuron/./src/js/interface_fontawesome.ts","webpack://vtol-neuron/./src/js/interface_leaflet.ts","webpack://vtol-neuron/./src/js/interface_proj4.ts","webpack://vtol-neuron/./src/js/neuron_brief.ts","webpack://vtol-neuron/./src/js/neuron_dom_factory.ts","webpack://vtol-neuron/./src/js/neuron_feature_base.ts","webpack://vtol-neuron/./src/js/neuron_feature_point.ts","webpack://vtol-neuron/./src/js/neuron_feature_polygon.ts","webpack://vtol-neuron/./src/js/neuron_feature_survey.ts","webpack://vtol-neuron/./src/js/neuron_feature_waypoint.ts","webpack://vtol-neuron/./src/js/neuron_help.ts","webpack://vtol-neuron/./src/js/neuron_interfaces.ts","webpack://vtol-neuron/./src/js/neuron_map.ts","webpack://vtol-neuron/./src/js/neuron_options.ts","webpack://vtol-neuron/./src/js/neuron_planner.ts","webpack://vtol-neuron/./src/js/neuron_statistics.ts","webpack://vtol-neuron/./src/js/neuron_tools_common.ts","webpack://vtol-neuron/./src/js/neuron_tools_files.ts","webpack://vtol-neuron/./src/js/neuron_tools_kml.ts","webpack://vtol-neuron/./src/js/neuron_tools_survey.ts"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_GET_URL_IMPORT___ from \"../../css-loader/dist/runtime/getUrl.js\";\nvar ___CSS_LOADER_URL_IMPORT_0___ = new URL(\"images/layers.png\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_1___ = new URL(\"images/layers-2x.png\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_2___ = new URL(\"images/marker-icon.png\", import.meta.url);\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\nvar ___CSS_LOADER_URL_REPLACEMENT_1___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_1___);\nvar ___CSS_LOADER_URL_REPLACEMENT_2___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_2___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"/* required styles */\\r\\n\\r\\n.leaflet-pane,\\r\\n.leaflet-tile,\\r\\n.leaflet-marker-icon,\\r\\n.leaflet-marker-shadow,\\r\\n.leaflet-tile-container,\\r\\n.leaflet-pane > svg,\\r\\n.leaflet-pane > canvas,\\r\\n.leaflet-zoom-box,\\r\\n.leaflet-image-layer,\\r\\n.leaflet-layer {\\r\\n\\tposition: absolute;\\r\\n\\tleft: 0;\\r\\n\\ttop: 0;\\r\\n\\t}\\r\\n.leaflet-container {\\r\\n\\toverflow: hidden;\\r\\n\\t}\\r\\n.leaflet-tile,\\r\\n.leaflet-marker-icon,\\r\\n.leaflet-marker-shadow {\\r\\n\\t-webkit-user-select: none;\\r\\n\\t   -moz-user-select: none;\\r\\n\\t        user-select: none;\\r\\n\\t  -webkit-user-drag: none;\\r\\n\\t}\\r\\n/* Prevents IE11 from highlighting tiles in blue */\\r\\n.leaflet-tile::selection {\\r\\n\\tbackground: transparent;\\r\\n}\\r\\n/* Safari renders non-retina tile on retina better with this, but Chrome is worse */\\r\\n.leaflet-safari .leaflet-tile {\\r\\n\\timage-rendering: -webkit-optimize-contrast;\\r\\n\\t}\\r\\n/* hack that prevents hw layers \\\"stretching\\\" when loading new tiles */\\r\\n.leaflet-safari .leaflet-tile-container {\\r\\n\\twidth: 1600px;\\r\\n\\theight: 1600px;\\r\\n\\t-webkit-transform-origin: 0 0;\\r\\n\\t}\\r\\n.leaflet-marker-icon,\\r\\n.leaflet-marker-shadow {\\r\\n\\tdisplay: block;\\r\\n\\t}\\r\\n/* .leaflet-container svg: reset svg max-width decleration shipped in Joomla! (joomla.org) 3.x */\\r\\n/* .leaflet-container img: map is broken in FF if you have max-width: 100% on tiles */\\r\\n.leaflet-container .leaflet-overlay-pane svg {\\r\\n\\tmax-width: none !important;\\r\\n\\tmax-height: none !important;\\r\\n\\t}\\r\\n.leaflet-container .leaflet-marker-pane img,\\r\\n.leaflet-container .leaflet-shadow-pane img,\\r\\n.leaflet-container .leaflet-tile-pane img,\\r\\n.leaflet-container img.leaflet-image-layer,\\r\\n.leaflet-container .leaflet-tile {\\r\\n\\tmax-width: none !important;\\r\\n\\tmax-height: none !important;\\r\\n\\twidth: auto;\\r\\n\\tpadding: 0;\\r\\n\\t}\\r\\n\\r\\n.leaflet-container.leaflet-touch-zoom {\\r\\n\\t-ms-touch-action: pan-x pan-y;\\r\\n\\ttouch-action: pan-x pan-y;\\r\\n\\t}\\r\\n.leaflet-container.leaflet-touch-drag {\\r\\n\\t-ms-touch-action: pinch-zoom;\\r\\n\\t/* Fallback for FF which doesn't support pinch-zoom */\\r\\n\\ttouch-action: none;\\r\\n\\ttouch-action: pinch-zoom;\\r\\n}\\r\\n.leaflet-container.leaflet-touch-drag.leaflet-touch-zoom {\\r\\n\\t-ms-touch-action: none;\\r\\n\\ttouch-action: none;\\r\\n}\\r\\n.leaflet-container {\\r\\n\\t-webkit-tap-highlight-color: transparent;\\r\\n}\\r\\n.leaflet-container a {\\r\\n\\t-webkit-tap-highlight-color: rgba(51, 181, 229, 0.4);\\r\\n}\\r\\n.leaflet-tile {\\r\\n\\tfilter: inherit;\\r\\n\\tvisibility: hidden;\\r\\n\\t}\\r\\n.leaflet-tile-loaded {\\r\\n\\tvisibility: inherit;\\r\\n\\t}\\r\\n.leaflet-zoom-box {\\r\\n\\twidth: 0;\\r\\n\\theight: 0;\\r\\n\\t-moz-box-sizing: border-box;\\r\\n\\t     box-sizing: border-box;\\r\\n\\tz-index: 800;\\r\\n\\t}\\r\\n/* workaround for https://bugzilla.mozilla.org/show_bug.cgi?id=888319 */\\r\\n.leaflet-overlay-pane svg {\\r\\n\\t-moz-user-select: none;\\r\\n\\t}\\r\\n\\r\\n.leaflet-pane         { z-index: 400; }\\r\\n\\r\\n.leaflet-tile-pane    { z-index: 200; }\\r\\n.leaflet-overlay-pane { z-index: 400; }\\r\\n.leaflet-shadow-pane  { z-index: 500; }\\r\\n.leaflet-marker-pane  { z-index: 600; }\\r\\n.leaflet-tooltip-pane   { z-index: 650; }\\r\\n.leaflet-popup-pane   { z-index: 700; }\\r\\n\\r\\n.leaflet-map-pane canvas { z-index: 100; }\\r\\n.leaflet-map-pane svg    { z-index: 200; }\\r\\n\\r\\n.leaflet-vml-shape {\\r\\n\\twidth: 1px;\\r\\n\\theight: 1px;\\r\\n\\t}\\r\\n.lvml {\\r\\n\\tbehavior: url(#default#VML);\\r\\n\\tdisplay: inline-block;\\r\\n\\tposition: absolute;\\r\\n\\t}\\r\\n\\r\\n\\r\\n/* control positioning */\\r\\n\\r\\n.leaflet-control {\\r\\n\\tposition: relative;\\r\\n\\tz-index: 800;\\r\\n\\tpointer-events: visiblePainted; /* IE 9-10 doesn't have auto */\\r\\n\\tpointer-events: auto;\\r\\n\\t}\\r\\n.leaflet-top,\\r\\n.leaflet-bottom {\\r\\n\\tposition: absolute;\\r\\n\\tz-index: 1000;\\r\\n\\tpointer-events: none;\\r\\n\\t}\\r\\n.leaflet-top {\\r\\n\\ttop: 0;\\r\\n\\t}\\r\\n.leaflet-right {\\r\\n\\tright: 0;\\r\\n\\t}\\r\\n.leaflet-bottom {\\r\\n\\tbottom: 0;\\r\\n\\t}\\r\\n.leaflet-left {\\r\\n\\tleft: 0;\\r\\n\\t}\\r\\n.leaflet-control {\\r\\n\\tfloat: left;\\r\\n\\tclear: both;\\r\\n\\t}\\r\\n.leaflet-right .leaflet-control {\\r\\n\\tfloat: right;\\r\\n\\t}\\r\\n.leaflet-top .leaflet-control {\\r\\n\\tmargin-top: 10px;\\r\\n\\t}\\r\\n.leaflet-bottom .leaflet-control {\\r\\n\\tmargin-bottom: 10px;\\r\\n\\t}\\r\\n.leaflet-left .leaflet-control {\\r\\n\\tmargin-left: 10px;\\r\\n\\t}\\r\\n.leaflet-right .leaflet-control {\\r\\n\\tmargin-right: 10px;\\r\\n\\t}\\r\\n\\r\\n\\r\\n/* zoom and fade animations */\\r\\n\\r\\n.leaflet-fade-anim .leaflet-popup {\\r\\n\\topacity: 0;\\r\\n\\t-webkit-transition: opacity 0.2s linear;\\r\\n\\t   -moz-transition: opacity 0.2s linear;\\r\\n\\t        transition: opacity 0.2s linear;\\r\\n\\t}\\r\\n.leaflet-fade-anim .leaflet-map-pane .leaflet-popup {\\r\\n\\topacity: 1;\\r\\n\\t}\\r\\n.leaflet-zoom-animated {\\r\\n\\t-webkit-transform-origin: 0 0;\\r\\n\\t    -ms-transform-origin: 0 0;\\r\\n\\t        transform-origin: 0 0;\\r\\n\\t}\\r\\nsvg.leaflet-zoom-animated {\\r\\n\\twill-change: transform;\\r\\n}\\r\\n\\r\\n.leaflet-zoom-anim .leaflet-zoom-animated {\\r\\n\\t-webkit-transition: -webkit-transform 0.25s cubic-bezier(0,0,0.25,1);\\r\\n\\t   -moz-transition:    -moz-transform 0.25s cubic-bezier(0,0,0.25,1);\\r\\n\\t        transition:         transform 0.25s cubic-bezier(0,0,0.25,1);\\r\\n\\t}\\r\\n.leaflet-zoom-anim .leaflet-tile,\\r\\n.leaflet-pan-anim .leaflet-tile {\\r\\n\\t-webkit-transition: none;\\r\\n\\t   -moz-transition: none;\\r\\n\\t        transition: none;\\r\\n\\t}\\r\\n\\r\\n.leaflet-zoom-anim .leaflet-zoom-hide {\\r\\n\\tvisibility: hidden;\\r\\n\\t}\\r\\n\\r\\n\\r\\n/* cursors */\\r\\n\\r\\n.leaflet-interactive {\\r\\n\\tcursor: pointer;\\r\\n\\t}\\r\\n.leaflet-grab {\\r\\n\\tcursor: -webkit-grab;\\r\\n\\tcursor:    -moz-grab;\\r\\n\\tcursor:         grab;\\r\\n\\t}\\r\\n.leaflet-crosshair,\\r\\n.leaflet-crosshair .leaflet-interactive {\\r\\n\\tcursor: crosshair;\\r\\n\\t}\\r\\n.leaflet-popup-pane,\\r\\n.leaflet-control {\\r\\n\\tcursor: auto;\\r\\n\\t}\\r\\n.leaflet-dragging .leaflet-grab,\\r\\n.leaflet-dragging .leaflet-grab .leaflet-interactive,\\r\\n.leaflet-dragging .leaflet-marker-draggable {\\r\\n\\tcursor: move;\\r\\n\\tcursor: -webkit-grabbing;\\r\\n\\tcursor:    -moz-grabbing;\\r\\n\\tcursor:         grabbing;\\r\\n\\t}\\r\\n\\r\\n/* marker & overlays interactivity */\\r\\n.leaflet-marker-icon,\\r\\n.leaflet-marker-shadow,\\r\\n.leaflet-image-layer,\\r\\n.leaflet-pane > svg path,\\r\\n.leaflet-tile-container {\\r\\n\\tpointer-events: none;\\r\\n\\t}\\r\\n\\r\\n.leaflet-marker-icon.leaflet-interactive,\\r\\n.leaflet-image-layer.leaflet-interactive,\\r\\n.leaflet-pane > svg path.leaflet-interactive,\\r\\nsvg.leaflet-image-layer.leaflet-interactive path {\\r\\n\\tpointer-events: visiblePainted; /* IE 9-10 doesn't have auto */\\r\\n\\tpointer-events: auto;\\r\\n\\t}\\r\\n\\r\\n/* visual tweaks */\\r\\n\\r\\n.leaflet-container {\\r\\n\\tbackground: #ddd;\\r\\n\\toutline-offset: 1px;\\r\\n\\t}\\r\\n.leaflet-container a {\\r\\n\\tcolor: #0078A8;\\r\\n\\t}\\r\\n.leaflet-zoom-box {\\r\\n\\tborder: 2px dotted #38f;\\r\\n\\tbackground: rgba(255,255,255,0.5);\\r\\n\\t}\\r\\n\\r\\n\\r\\n/* general typography */\\r\\n.leaflet-container {\\r\\n\\tfont-family: \\\"Helvetica Neue\\\", Arial, Helvetica, sans-serif;\\r\\n\\tfont-size: 12px;\\r\\n\\tfont-size: 0.75rem;\\r\\n\\tline-height: 1.5;\\r\\n\\t}\\r\\n\\r\\n\\r\\n/* general toolbar styles */\\r\\n\\r\\n.leaflet-bar {\\r\\n\\tbox-shadow: 0 1px 5px rgba(0,0,0,0.65);\\r\\n\\tborder-radius: 4px;\\r\\n\\t}\\r\\n.leaflet-bar a {\\r\\n\\tbackground-color: #fff;\\r\\n\\tborder-bottom: 1px solid #ccc;\\r\\n\\twidth: 26px;\\r\\n\\theight: 26px;\\r\\n\\tline-height: 26px;\\r\\n\\tdisplay: block;\\r\\n\\ttext-align: center;\\r\\n\\ttext-decoration: none;\\r\\n\\tcolor: black;\\r\\n\\t}\\r\\n.leaflet-bar a,\\r\\n.leaflet-control-layers-toggle {\\r\\n\\tbackground-position: 50% 50%;\\r\\n\\tbackground-repeat: no-repeat;\\r\\n\\tdisplay: block;\\r\\n\\t}\\r\\n.leaflet-bar a:hover,\\r\\n.leaflet-bar a:focus {\\r\\n\\tbackground-color: #f4f4f4;\\r\\n\\t}\\r\\n.leaflet-bar a:first-child {\\r\\n\\tborder-top-left-radius: 4px;\\r\\n\\tborder-top-right-radius: 4px;\\r\\n\\t}\\r\\n.leaflet-bar a:last-child {\\r\\n\\tborder-bottom-left-radius: 4px;\\r\\n\\tborder-bottom-right-radius: 4px;\\r\\n\\tborder-bottom: none;\\r\\n\\t}\\r\\n.leaflet-bar a.leaflet-disabled {\\r\\n\\tcursor: default;\\r\\n\\tbackground-color: #f4f4f4;\\r\\n\\tcolor: #bbb;\\r\\n\\t}\\r\\n\\r\\n.leaflet-touch .leaflet-bar a {\\r\\n\\twidth: 30px;\\r\\n\\theight: 30px;\\r\\n\\tline-height: 30px;\\r\\n\\t}\\r\\n.leaflet-touch .leaflet-bar a:first-child {\\r\\n\\tborder-top-left-radius: 2px;\\r\\n\\tborder-top-right-radius: 2px;\\r\\n\\t}\\r\\n.leaflet-touch .leaflet-bar a:last-child {\\r\\n\\tborder-bottom-left-radius: 2px;\\r\\n\\tborder-bottom-right-radius: 2px;\\r\\n\\t}\\r\\n\\r\\n/* zoom control */\\r\\n\\r\\n.leaflet-control-zoom-in,\\r\\n.leaflet-control-zoom-out {\\r\\n\\tfont: bold 18px 'Lucida Console', Monaco, monospace;\\r\\n\\ttext-indent: 1px;\\r\\n\\t}\\r\\n\\r\\n.leaflet-touch .leaflet-control-zoom-in, .leaflet-touch .leaflet-control-zoom-out  {\\r\\n\\tfont-size: 22px;\\r\\n\\t}\\r\\n\\r\\n\\r\\n/* layers control */\\r\\n\\r\\n.leaflet-control-layers {\\r\\n\\tbox-shadow: 0 1px 5px rgba(0,0,0,0.4);\\r\\n\\tbackground: #fff;\\r\\n\\tborder-radius: 5px;\\r\\n\\t}\\r\\n.leaflet-control-layers-toggle {\\r\\n\\tbackground-image: url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \");\\r\\n\\twidth: 36px;\\r\\n\\theight: 36px;\\r\\n\\t}\\r\\n.leaflet-retina .leaflet-control-layers-toggle {\\r\\n\\tbackground-image: url(\" + ___CSS_LOADER_URL_REPLACEMENT_1___ + \");\\r\\n\\tbackground-size: 26px 26px;\\r\\n\\t}\\r\\n.leaflet-touch .leaflet-control-layers-toggle {\\r\\n\\twidth: 44px;\\r\\n\\theight: 44px;\\r\\n\\t}\\r\\n.leaflet-control-layers .leaflet-control-layers-list,\\r\\n.leaflet-control-layers-expanded .leaflet-control-layers-toggle {\\r\\n\\tdisplay: none;\\r\\n\\t}\\r\\n.leaflet-control-layers-expanded .leaflet-control-layers-list {\\r\\n\\tdisplay: block;\\r\\n\\tposition: relative;\\r\\n\\t}\\r\\n.leaflet-control-layers-expanded {\\r\\n\\tpadding: 6px 10px 6px 6px;\\r\\n\\tcolor: #333;\\r\\n\\tbackground: #fff;\\r\\n\\t}\\r\\n.leaflet-control-layers-scrollbar {\\r\\n\\toverflow-y: scroll;\\r\\n\\toverflow-x: hidden;\\r\\n\\tpadding-right: 5px;\\r\\n\\t}\\r\\n.leaflet-control-layers-selector {\\r\\n\\tmargin-top: 2px;\\r\\n\\tposition: relative;\\r\\n\\ttop: 1px;\\r\\n\\t}\\r\\n.leaflet-control-layers label {\\r\\n\\tdisplay: block;\\r\\n\\tfont-size: 13px;\\r\\n\\tfont-size: 1.08333em;\\r\\n\\t}\\r\\n.leaflet-control-layers-separator {\\r\\n\\theight: 0;\\r\\n\\tborder-top: 1px solid #ddd;\\r\\n\\tmargin: 5px -10px 5px -6px;\\r\\n\\t}\\r\\n\\r\\n/* Default icon URLs */\\r\\n.leaflet-default-icon-path { /* used only in path-guessing heuristic, see L.Icon.Default */\\r\\n\\tbackground-image: url(\" + ___CSS_LOADER_URL_REPLACEMENT_2___ + \");\\r\\n\\t}\\r\\n\\r\\n\\r\\n/* attribution and scale controls */\\r\\n\\r\\n.leaflet-container .leaflet-control-attribution {\\r\\n\\tbackground: #fff;\\r\\n\\tbackground: rgba(255, 255, 255, 0.8);\\r\\n\\tmargin: 0;\\r\\n\\t}\\r\\n.leaflet-control-attribution,\\r\\n.leaflet-control-scale-line {\\r\\n\\tpadding: 0 5px;\\r\\n\\tcolor: #333;\\r\\n\\tline-height: 1.4;\\r\\n\\t}\\r\\n.leaflet-control-attribution a {\\r\\n\\ttext-decoration: none;\\r\\n\\t}\\r\\n.leaflet-control-attribution a:hover,\\r\\n.leaflet-control-attribution a:focus {\\r\\n\\ttext-decoration: underline;\\r\\n\\t}\\r\\n.leaflet-control-attribution svg {\\r\\n\\tdisplay: inline !important;\\r\\n\\t}\\r\\n.leaflet-left .leaflet-control-scale {\\r\\n\\tmargin-left: 5px;\\r\\n\\t}\\r\\n.leaflet-bottom .leaflet-control-scale {\\r\\n\\tmargin-bottom: 5px;\\r\\n\\t}\\r\\n.leaflet-control-scale-line {\\r\\n\\tborder: 2px solid #777;\\r\\n\\tborder-top: none;\\r\\n\\tline-height: 1.1;\\r\\n\\tpadding: 2px 5px 1px;\\r\\n\\twhite-space: nowrap;\\r\\n\\toverflow: hidden;\\r\\n\\t-moz-box-sizing: border-box;\\r\\n\\t     box-sizing: border-box;\\r\\n\\r\\n\\tbackground: #fff;\\r\\n\\tbackground: rgba(255, 255, 255, 0.5);\\r\\n\\t}\\r\\n.leaflet-control-scale-line:not(:first-child) {\\r\\n\\tborder-top: 2px solid #777;\\r\\n\\tborder-bottom: none;\\r\\n\\tmargin-top: -2px;\\r\\n\\t}\\r\\n.leaflet-control-scale-line:not(:first-child):not(:last-child) {\\r\\n\\tborder-bottom: 2px solid #777;\\r\\n\\t}\\r\\n\\r\\n.leaflet-touch .leaflet-control-attribution,\\r\\n.leaflet-touch .leaflet-control-layers,\\r\\n.leaflet-touch .leaflet-bar {\\r\\n\\tbox-shadow: none;\\r\\n\\t}\\r\\n.leaflet-touch .leaflet-control-layers,\\r\\n.leaflet-touch .leaflet-bar {\\r\\n\\tborder: 2px solid rgba(0,0,0,0.2);\\r\\n\\tbackground-clip: padding-box;\\r\\n\\t}\\r\\n\\r\\n\\r\\n/* popup */\\r\\n\\r\\n.leaflet-popup {\\r\\n\\tposition: absolute;\\r\\n\\ttext-align: center;\\r\\n\\tmargin-bottom: 20px;\\r\\n\\t}\\r\\n.leaflet-popup-content-wrapper {\\r\\n\\tpadding: 1px;\\r\\n\\ttext-align: left;\\r\\n\\tborder-radius: 12px;\\r\\n\\t}\\r\\n.leaflet-popup-content {\\r\\n\\tmargin: 13px 24px 13px 20px;\\r\\n\\tline-height: 1.3;\\r\\n\\tfont-size: 13px;\\r\\n\\tfont-size: 1.08333em;\\r\\n\\tmin-height: 1px;\\r\\n\\t}\\r\\n.leaflet-popup-content p {\\r\\n\\tmargin: 17px 0;\\r\\n\\tmargin: 1.3em 0;\\r\\n\\t}\\r\\n.leaflet-popup-tip-container {\\r\\n\\twidth: 40px;\\r\\n\\theight: 20px;\\r\\n\\tposition: absolute;\\r\\n\\tleft: 50%;\\r\\n\\tmargin-top: -1px;\\r\\n\\tmargin-left: -20px;\\r\\n\\toverflow: hidden;\\r\\n\\tpointer-events: none;\\r\\n\\t}\\r\\n.leaflet-popup-tip {\\r\\n\\twidth: 17px;\\r\\n\\theight: 17px;\\r\\n\\tpadding: 1px;\\r\\n\\r\\n\\tmargin: -10px auto 0;\\r\\n\\tpointer-events: auto;\\r\\n\\r\\n\\t-webkit-transform: rotate(45deg);\\r\\n\\t   -moz-transform: rotate(45deg);\\r\\n\\t    -ms-transform: rotate(45deg);\\r\\n\\t        transform: rotate(45deg);\\r\\n\\t}\\r\\n.leaflet-popup-content-wrapper,\\r\\n.leaflet-popup-tip {\\r\\n\\tbackground: white;\\r\\n\\tcolor: #333;\\r\\n\\tbox-shadow: 0 3px 14px rgba(0,0,0,0.4);\\r\\n\\t}\\r\\n.leaflet-container a.leaflet-popup-close-button {\\r\\n\\tposition: absolute;\\r\\n\\ttop: 0;\\r\\n\\tright: 0;\\r\\n\\tborder: none;\\r\\n\\ttext-align: center;\\r\\n\\twidth: 24px;\\r\\n\\theight: 24px;\\r\\n\\tfont: 16px/24px Tahoma, Verdana, sans-serif;\\r\\n\\tcolor: #757575;\\r\\n\\ttext-decoration: none;\\r\\n\\tbackground: transparent;\\r\\n\\t}\\r\\n.leaflet-container a.leaflet-popup-close-button:hover,\\r\\n.leaflet-container a.leaflet-popup-close-button:focus {\\r\\n\\tcolor: #585858;\\r\\n\\t}\\r\\n.leaflet-popup-scrolled {\\r\\n\\toverflow: auto;\\r\\n\\tborder-bottom: 1px solid #ddd;\\r\\n\\tborder-top: 1px solid #ddd;\\r\\n\\t}\\r\\n\\r\\n.leaflet-oldie .leaflet-popup-content-wrapper {\\r\\n\\t-ms-zoom: 1;\\r\\n\\t}\\r\\n.leaflet-oldie .leaflet-popup-tip {\\r\\n\\twidth: 24px;\\r\\n\\tmargin: 0 auto;\\r\\n\\r\\n\\t-ms-filter: \\\"progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678)\\\";\\r\\n\\tfilter: progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678);\\r\\n\\t}\\r\\n\\r\\n.leaflet-oldie .leaflet-control-zoom,\\r\\n.leaflet-oldie .leaflet-control-layers,\\r\\n.leaflet-oldie .leaflet-popup-content-wrapper,\\r\\n.leaflet-oldie .leaflet-popup-tip {\\r\\n\\tborder: 1px solid #999;\\r\\n\\t}\\r\\n\\r\\n\\r\\n/* div icon */\\r\\n\\r\\n.leaflet-div-icon {\\r\\n\\tbackground: #fff;\\r\\n\\tborder: 1px solid #666;\\r\\n\\t}\\r\\n\\r\\n\\r\\n/* Tooltip */\\r\\n/* Base styles for the element that has a tooltip */\\r\\n.leaflet-tooltip {\\r\\n\\tposition: absolute;\\r\\n\\tpadding: 6px;\\r\\n\\tbackground-color: #fff;\\r\\n\\tborder: 1px solid #fff;\\r\\n\\tborder-radius: 3px;\\r\\n\\tcolor: #222;\\r\\n\\twhite-space: nowrap;\\r\\n\\t-webkit-user-select: none;\\r\\n\\t-moz-user-select: none;\\r\\n\\t-ms-user-select: none;\\r\\n\\tuser-select: none;\\r\\n\\tpointer-events: none;\\r\\n\\tbox-shadow: 0 1px 3px rgba(0,0,0,0.4);\\r\\n\\t}\\r\\n.leaflet-tooltip.leaflet-interactive {\\r\\n\\tcursor: pointer;\\r\\n\\tpointer-events: auto;\\r\\n\\t}\\r\\n.leaflet-tooltip-top:before,\\r\\n.leaflet-tooltip-bottom:before,\\r\\n.leaflet-tooltip-left:before,\\r\\n.leaflet-tooltip-right:before {\\r\\n\\tposition: absolute;\\r\\n\\tpointer-events: none;\\r\\n\\tborder: 6px solid transparent;\\r\\n\\tbackground: transparent;\\r\\n\\tcontent: \\\"\\\";\\r\\n\\t}\\r\\n\\r\\n/* Directions */\\r\\n\\r\\n.leaflet-tooltip-bottom {\\r\\n\\tmargin-top: 6px;\\r\\n}\\r\\n.leaflet-tooltip-top {\\r\\n\\tmargin-top: -6px;\\r\\n}\\r\\n.leaflet-tooltip-bottom:before,\\r\\n.leaflet-tooltip-top:before {\\r\\n\\tleft: 50%;\\r\\n\\tmargin-left: -6px;\\r\\n\\t}\\r\\n.leaflet-tooltip-top:before {\\r\\n\\tbottom: 0;\\r\\n\\tmargin-bottom: -12px;\\r\\n\\tborder-top-color: #fff;\\r\\n\\t}\\r\\n.leaflet-tooltip-bottom:before {\\r\\n\\ttop: 0;\\r\\n\\tmargin-top: -12px;\\r\\n\\tmargin-left: -6px;\\r\\n\\tborder-bottom-color: #fff;\\r\\n\\t}\\r\\n.leaflet-tooltip-left {\\r\\n\\tmargin-left: -6px;\\r\\n}\\r\\n.leaflet-tooltip-right {\\r\\n\\tmargin-left: 6px;\\r\\n}\\r\\n.leaflet-tooltip-left:before,\\r\\n.leaflet-tooltip-right:before {\\r\\n\\ttop: 50%;\\r\\n\\tmargin-top: -6px;\\r\\n\\t}\\r\\n.leaflet-tooltip-left:before {\\r\\n\\tright: 0;\\r\\n\\tmargin-right: -12px;\\r\\n\\tborder-left-color: #fff;\\r\\n\\t}\\r\\n.leaflet-tooltip-right:before {\\r\\n\\tleft: 0;\\r\\n\\tmargin-left: -12px;\\r\\n\\tborder-right-color: #fff;\\r\\n\\t}\\r\\n\\r\\n/* Printing */\\r\\n\\t\\r\\n@media print {\\r\\n\\t/* Prevent printers from removing background-images of controls. */\\r\\n\\t.leaflet-control {\\r\\n\\t\\t-webkit-print-color-adjust: exact;\\r\\n\\t\\tcolor-adjust: exact;\\r\\n\\t\\t}\\r\\n\\t}\\r\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./node_modules/leaflet/dist/leaflet.css\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[\"/* required styles */\\r\\n\\r\\n.leaflet-pane,\\r\\n.leaflet-tile,\\r\\n.leaflet-marker-icon,\\r\\n.leaflet-marker-shadow,\\r\\n.leaflet-tile-container,\\r\\n.leaflet-pane > svg,\\r\\n.leaflet-pane > canvas,\\r\\n.leaflet-zoom-box,\\r\\n.leaflet-image-layer,\\r\\n.leaflet-layer {\\r\\n\\tposition: absolute;\\r\\n\\tleft: 0;\\r\\n\\ttop: 0;\\r\\n\\t}\\r\\n.leaflet-container {\\r\\n\\toverflow: hidden;\\r\\n\\t}\\r\\n.leaflet-tile,\\r\\n.leaflet-marker-icon,\\r\\n.leaflet-marker-shadow {\\r\\n\\t-webkit-user-select: none;\\r\\n\\t   -moz-user-select: none;\\r\\n\\t        user-select: none;\\r\\n\\t  -webkit-user-drag: none;\\r\\n\\t}\\r\\n/* Prevents IE11 from highlighting tiles in blue */\\r\\n.leaflet-tile::selection {\\r\\n\\tbackground: transparent;\\r\\n}\\r\\n/* Safari renders non-retina tile on retina better with this, but Chrome is worse */\\r\\n.leaflet-safari .leaflet-tile {\\r\\n\\timage-rendering: -webkit-optimize-contrast;\\r\\n\\t}\\r\\n/* hack that prevents hw layers \\\"stretching\\\" when loading new tiles */\\r\\n.leaflet-safari .leaflet-tile-container {\\r\\n\\twidth: 1600px;\\r\\n\\theight: 1600px;\\r\\n\\t-webkit-transform-origin: 0 0;\\r\\n\\t}\\r\\n.leaflet-marker-icon,\\r\\n.leaflet-marker-shadow {\\r\\n\\tdisplay: block;\\r\\n\\t}\\r\\n/* .leaflet-container svg: reset svg max-width decleration shipped in Joomla! (joomla.org) 3.x */\\r\\n/* .leaflet-container img: map is broken in FF if you have max-width: 100% on tiles */\\r\\n.leaflet-container .leaflet-overlay-pane svg {\\r\\n\\tmax-width: none !important;\\r\\n\\tmax-height: none !important;\\r\\n\\t}\\r\\n.leaflet-container .leaflet-marker-pane img,\\r\\n.leaflet-container .leaflet-shadow-pane img,\\r\\n.leaflet-container .leaflet-tile-pane img,\\r\\n.leaflet-container img.leaflet-image-layer,\\r\\n.leaflet-container .leaflet-tile {\\r\\n\\tmax-width: none !important;\\r\\n\\tmax-height: none !important;\\r\\n\\twidth: auto;\\r\\n\\tpadding: 0;\\r\\n\\t}\\r\\n\\r\\n.leaflet-container.leaflet-touch-zoom {\\r\\n\\t-ms-touch-action: pan-x pan-y;\\r\\n\\ttouch-action: pan-x pan-y;\\r\\n\\t}\\r\\n.leaflet-container.leaflet-touch-drag {\\r\\n\\t-ms-touch-action: pinch-zoom;\\r\\n\\t/* Fallback for FF which doesn't support pinch-zoom */\\r\\n\\ttouch-action: none;\\r\\n\\ttouch-action: pinch-zoom;\\r\\n}\\r\\n.leaflet-container.leaflet-touch-drag.leaflet-touch-zoom {\\r\\n\\t-ms-touch-action: none;\\r\\n\\ttouch-action: none;\\r\\n}\\r\\n.leaflet-container {\\r\\n\\t-webkit-tap-highlight-color: transparent;\\r\\n}\\r\\n.leaflet-container a {\\r\\n\\t-webkit-tap-highlight-color: rgba(51, 181, 229, 0.4);\\r\\n}\\r\\n.leaflet-tile {\\r\\n\\tfilter: inherit;\\r\\n\\tvisibility: hidden;\\r\\n\\t}\\r\\n.leaflet-tile-loaded {\\r\\n\\tvisibility: inherit;\\r\\n\\t}\\r\\n.leaflet-zoom-box {\\r\\n\\twidth: 0;\\r\\n\\theight: 0;\\r\\n\\t-moz-box-sizing: border-box;\\r\\n\\t     box-sizing: border-box;\\r\\n\\tz-index: 800;\\r\\n\\t}\\r\\n/* workaround for https://bugzilla.mozilla.org/show_bug.cgi?id=888319 */\\r\\n.leaflet-overlay-pane svg {\\r\\n\\t-moz-user-select: none;\\r\\n\\t}\\r\\n\\r\\n.leaflet-pane         { z-index: 400; }\\r\\n\\r\\n.leaflet-tile-pane    { z-index: 200; }\\r\\n.leaflet-overlay-pane { z-index: 400; }\\r\\n.leaflet-shadow-pane  { z-index: 500; }\\r\\n.leaflet-marker-pane  { z-index: 600; }\\r\\n.leaflet-tooltip-pane   { z-index: 650; }\\r\\n.leaflet-popup-pane   { z-index: 700; }\\r\\n\\r\\n.leaflet-map-pane canvas { z-index: 100; }\\r\\n.leaflet-map-pane svg    { z-index: 200; }\\r\\n\\r\\n.leaflet-vml-shape {\\r\\n\\twidth: 1px;\\r\\n\\theight: 1px;\\r\\n\\t}\\r\\n.lvml {\\r\\n\\tbehavior: url(#default#VML);\\r\\n\\tdisplay: inline-block;\\r\\n\\tposition: absolute;\\r\\n\\t}\\r\\n\\r\\n\\r\\n/* control positioning */\\r\\n\\r\\n.leaflet-control {\\r\\n\\tposition: relative;\\r\\n\\tz-index: 800;\\r\\n\\tpointer-events: visiblePainted; /* IE 9-10 doesn't have auto */\\r\\n\\tpointer-events: auto;\\r\\n\\t}\\r\\n.leaflet-top,\\r\\n.leaflet-bottom {\\r\\n\\tposition: absolute;\\r\\n\\tz-index: 1000;\\r\\n\\tpointer-events: none;\\r\\n\\t}\\r\\n.leaflet-top {\\r\\n\\ttop: 0;\\r\\n\\t}\\r\\n.leaflet-right {\\r\\n\\tright: 0;\\r\\n\\t}\\r\\n.leaflet-bottom {\\r\\n\\tbottom: 0;\\r\\n\\t}\\r\\n.leaflet-left {\\r\\n\\tleft: 0;\\r\\n\\t}\\r\\n.leaflet-control {\\r\\n\\tfloat: left;\\r\\n\\tclear: both;\\r\\n\\t}\\r\\n.leaflet-right .leaflet-control {\\r\\n\\tfloat: right;\\r\\n\\t}\\r\\n.leaflet-top .leaflet-control {\\r\\n\\tmargin-top: 10px;\\r\\n\\t}\\r\\n.leaflet-bottom .leaflet-control {\\r\\n\\tmargin-bottom: 10px;\\r\\n\\t}\\r\\n.leaflet-left .leaflet-control {\\r\\n\\tmargin-left: 10px;\\r\\n\\t}\\r\\n.leaflet-right .leaflet-control {\\r\\n\\tmargin-right: 10px;\\r\\n\\t}\\r\\n\\r\\n\\r\\n/* zoom and fade animations */\\r\\n\\r\\n.leaflet-fade-anim .leaflet-popup {\\r\\n\\topacity: 0;\\r\\n\\t-webkit-transition: opacity 0.2s linear;\\r\\n\\t   -moz-transition: opacity 0.2s linear;\\r\\n\\t        transition: opacity 0.2s linear;\\r\\n\\t}\\r\\n.leaflet-fade-anim .leaflet-map-pane .leaflet-popup {\\r\\n\\topacity: 1;\\r\\n\\t}\\r\\n.leaflet-zoom-animated {\\r\\n\\t-webkit-transform-origin: 0 0;\\r\\n\\t    -ms-transform-origin: 0 0;\\r\\n\\t        transform-origin: 0 0;\\r\\n\\t}\\r\\nsvg.leaflet-zoom-animated {\\r\\n\\twill-change: transform;\\r\\n}\\r\\n\\r\\n.leaflet-zoom-anim .leaflet-zoom-animated {\\r\\n\\t-webkit-transition: -webkit-transform 0.25s cubic-bezier(0,0,0.25,1);\\r\\n\\t   -moz-transition:    -moz-transform 0.25s cubic-bezier(0,0,0.25,1);\\r\\n\\t        transition:         transform 0.25s cubic-bezier(0,0,0.25,1);\\r\\n\\t}\\r\\n.leaflet-zoom-anim .leaflet-tile,\\r\\n.leaflet-pan-anim .leaflet-tile {\\r\\n\\t-webkit-transition: none;\\r\\n\\t   -moz-transition: none;\\r\\n\\t        transition: none;\\r\\n\\t}\\r\\n\\r\\n.leaflet-zoom-anim .leaflet-zoom-hide {\\r\\n\\tvisibility: hidden;\\r\\n\\t}\\r\\n\\r\\n\\r\\n/* cursors */\\r\\n\\r\\n.leaflet-interactive {\\r\\n\\tcursor: pointer;\\r\\n\\t}\\r\\n.leaflet-grab {\\r\\n\\tcursor: -webkit-grab;\\r\\n\\tcursor:    -moz-grab;\\r\\n\\tcursor:         grab;\\r\\n\\t}\\r\\n.leaflet-crosshair,\\r\\n.leaflet-crosshair .leaflet-interactive {\\r\\n\\tcursor: crosshair;\\r\\n\\t}\\r\\n.leaflet-popup-pane,\\r\\n.leaflet-control {\\r\\n\\tcursor: auto;\\r\\n\\t}\\r\\n.leaflet-dragging .leaflet-grab,\\r\\n.leaflet-dragging .leaflet-grab .leaflet-interactive,\\r\\n.leaflet-dragging .leaflet-marker-draggable {\\r\\n\\tcursor: move;\\r\\n\\tcursor: -webkit-grabbing;\\r\\n\\tcursor:    -moz-grabbing;\\r\\n\\tcursor:         grabbing;\\r\\n\\t}\\r\\n\\r\\n/* marker & overlays interactivity */\\r\\n.leaflet-marker-icon,\\r\\n.leaflet-marker-shadow,\\r\\n.leaflet-image-layer,\\r\\n.leaflet-pane > svg path,\\r\\n.leaflet-tile-container {\\r\\n\\tpointer-events: none;\\r\\n\\t}\\r\\n\\r\\n.leaflet-marker-icon.leaflet-interactive,\\r\\n.leaflet-image-layer.leaflet-interactive,\\r\\n.leaflet-pane > svg path.leaflet-interactive,\\r\\nsvg.leaflet-image-layer.leaflet-interactive path {\\r\\n\\tpointer-events: visiblePainted; /* IE 9-10 doesn't have auto */\\r\\n\\tpointer-events: auto;\\r\\n\\t}\\r\\n\\r\\n/* visual tweaks */\\r\\n\\r\\n.leaflet-container {\\r\\n\\tbackground: #ddd;\\r\\n\\toutline-offset: 1px;\\r\\n\\t}\\r\\n.leaflet-container a {\\r\\n\\tcolor: #0078A8;\\r\\n\\t}\\r\\n.leaflet-zoom-box {\\r\\n\\tborder: 2px dotted #38f;\\r\\n\\tbackground: rgba(255,255,255,0.5);\\r\\n\\t}\\r\\n\\r\\n\\r\\n/* general typography */\\r\\n.leaflet-container {\\r\\n\\tfont-family: \\\"Helvetica Neue\\\", Arial, Helvetica, sans-serif;\\r\\n\\tfont-size: 12px;\\r\\n\\tfont-size: 0.75rem;\\r\\n\\tline-height: 1.5;\\r\\n\\t}\\r\\n\\r\\n\\r\\n/* general toolbar styles */\\r\\n\\r\\n.leaflet-bar {\\r\\n\\tbox-shadow: 0 1px 5px rgba(0,0,0,0.65);\\r\\n\\tborder-radius: 4px;\\r\\n\\t}\\r\\n.leaflet-bar a {\\r\\n\\tbackground-color: #fff;\\r\\n\\tborder-bottom: 1px solid #ccc;\\r\\n\\twidth: 26px;\\r\\n\\theight: 26px;\\r\\n\\tline-height: 26px;\\r\\n\\tdisplay: block;\\r\\n\\ttext-align: center;\\r\\n\\ttext-decoration: none;\\r\\n\\tcolor: black;\\r\\n\\t}\\r\\n.leaflet-bar a,\\r\\n.leaflet-control-layers-toggle {\\r\\n\\tbackground-position: 50% 50%;\\r\\n\\tbackground-repeat: no-repeat;\\r\\n\\tdisplay: block;\\r\\n\\t}\\r\\n.leaflet-bar a:hover,\\r\\n.leaflet-bar a:focus {\\r\\n\\tbackground-color: #f4f4f4;\\r\\n\\t}\\r\\n.leaflet-bar a:first-child {\\r\\n\\tborder-top-left-radius: 4px;\\r\\n\\tborder-top-right-radius: 4px;\\r\\n\\t}\\r\\n.leaflet-bar a:last-child {\\r\\n\\tborder-bottom-left-radius: 4px;\\r\\n\\tborder-bottom-right-radius: 4px;\\r\\n\\tborder-bottom: none;\\r\\n\\t}\\r\\n.leaflet-bar a.leaflet-disabled {\\r\\n\\tcursor: default;\\r\\n\\tbackground-color: #f4f4f4;\\r\\n\\tcolor: #bbb;\\r\\n\\t}\\r\\n\\r\\n.leaflet-touch .leaflet-bar a {\\r\\n\\twidth: 30px;\\r\\n\\theight: 30px;\\r\\n\\tline-height: 30px;\\r\\n\\t}\\r\\n.leaflet-touch .leaflet-bar a:first-child {\\r\\n\\tborder-top-left-radius: 2px;\\r\\n\\tborder-top-right-radius: 2px;\\r\\n\\t}\\r\\n.leaflet-touch .leaflet-bar a:last-child {\\r\\n\\tborder-bottom-left-radius: 2px;\\r\\n\\tborder-bottom-right-radius: 2px;\\r\\n\\t}\\r\\n\\r\\n/* zoom control */\\r\\n\\r\\n.leaflet-control-zoom-in,\\r\\n.leaflet-control-zoom-out {\\r\\n\\tfont: bold 18px 'Lucida Console', Monaco, monospace;\\r\\n\\ttext-indent: 1px;\\r\\n\\t}\\r\\n\\r\\n.leaflet-touch .leaflet-control-zoom-in, .leaflet-touch .leaflet-control-zoom-out  {\\r\\n\\tfont-size: 22px;\\r\\n\\t}\\r\\n\\r\\n\\r\\n/* layers control */\\r\\n\\r\\n.leaflet-control-layers {\\r\\n\\tbox-shadow: 0 1px 5px rgba(0,0,0,0.4);\\r\\n\\tbackground: #fff;\\r\\n\\tborder-radius: 5px;\\r\\n\\t}\\r\\n.leaflet-control-layers-toggle {\\r\\n\\tbackground-image: url(images/layers.png);\\r\\n\\twidth: 36px;\\r\\n\\theight: 36px;\\r\\n\\t}\\r\\n.leaflet-retina .leaflet-control-layers-toggle {\\r\\n\\tbackground-image: url(images/layers-2x.png);\\r\\n\\tbackground-size: 26px 26px;\\r\\n\\t}\\r\\n.leaflet-touch .leaflet-control-layers-toggle {\\r\\n\\twidth: 44px;\\r\\n\\theight: 44px;\\r\\n\\t}\\r\\n.leaflet-control-layers .leaflet-control-layers-list,\\r\\n.leaflet-control-layers-expanded .leaflet-control-layers-toggle {\\r\\n\\tdisplay: none;\\r\\n\\t}\\r\\n.leaflet-control-layers-expanded .leaflet-control-layers-list {\\r\\n\\tdisplay: block;\\r\\n\\tposition: relative;\\r\\n\\t}\\r\\n.leaflet-control-layers-expanded {\\r\\n\\tpadding: 6px 10px 6px 6px;\\r\\n\\tcolor: #333;\\r\\n\\tbackground: #fff;\\r\\n\\t}\\r\\n.leaflet-control-layers-scrollbar {\\r\\n\\toverflow-y: scroll;\\r\\n\\toverflow-x: hidden;\\r\\n\\tpadding-right: 5px;\\r\\n\\t}\\r\\n.leaflet-control-layers-selector {\\r\\n\\tmargin-top: 2px;\\r\\n\\tposition: relative;\\r\\n\\ttop: 1px;\\r\\n\\t}\\r\\n.leaflet-control-layers label {\\r\\n\\tdisplay: block;\\r\\n\\tfont-size: 13px;\\r\\n\\tfont-size: 1.08333em;\\r\\n\\t}\\r\\n.leaflet-control-layers-separator {\\r\\n\\theight: 0;\\r\\n\\tborder-top: 1px solid #ddd;\\r\\n\\tmargin: 5px -10px 5px -6px;\\r\\n\\t}\\r\\n\\r\\n/* Default icon URLs */\\r\\n.leaflet-default-icon-path { /* used only in path-guessing heuristic, see L.Icon.Default */\\r\\n\\tbackground-image: url(images/marker-icon.png);\\r\\n\\t}\\r\\n\\r\\n\\r\\n/* attribution and scale controls */\\r\\n\\r\\n.leaflet-container .leaflet-control-attribution {\\r\\n\\tbackground: #fff;\\r\\n\\tbackground: rgba(255, 255, 255, 0.8);\\r\\n\\tmargin: 0;\\r\\n\\t}\\r\\n.leaflet-control-attribution,\\r\\n.leaflet-control-scale-line {\\r\\n\\tpadding: 0 5px;\\r\\n\\tcolor: #333;\\r\\n\\tline-height: 1.4;\\r\\n\\t}\\r\\n.leaflet-control-attribution a {\\r\\n\\ttext-decoration: none;\\r\\n\\t}\\r\\n.leaflet-control-attribution a:hover,\\r\\n.leaflet-control-attribution a:focus {\\r\\n\\ttext-decoration: underline;\\r\\n\\t}\\r\\n.leaflet-control-attribution svg {\\r\\n\\tdisplay: inline !important;\\r\\n\\t}\\r\\n.leaflet-left .leaflet-control-scale {\\r\\n\\tmargin-left: 5px;\\r\\n\\t}\\r\\n.leaflet-bottom .leaflet-control-scale {\\r\\n\\tmargin-bottom: 5px;\\r\\n\\t}\\r\\n.leaflet-control-scale-line {\\r\\n\\tborder: 2px solid #777;\\r\\n\\tborder-top: none;\\r\\n\\tline-height: 1.1;\\r\\n\\tpadding: 2px 5px 1px;\\r\\n\\twhite-space: nowrap;\\r\\n\\toverflow: hidden;\\r\\n\\t-moz-box-sizing: border-box;\\r\\n\\t     box-sizing: border-box;\\r\\n\\r\\n\\tbackground: #fff;\\r\\n\\tbackground: rgba(255, 255, 255, 0.5);\\r\\n\\t}\\r\\n.leaflet-control-scale-line:not(:first-child) {\\r\\n\\tborder-top: 2px solid #777;\\r\\n\\tborder-bottom: none;\\r\\n\\tmargin-top: -2px;\\r\\n\\t}\\r\\n.leaflet-control-scale-line:not(:first-child):not(:last-child) {\\r\\n\\tborder-bottom: 2px solid #777;\\r\\n\\t}\\r\\n\\r\\n.leaflet-touch .leaflet-control-attribution,\\r\\n.leaflet-touch .leaflet-control-layers,\\r\\n.leaflet-touch .leaflet-bar {\\r\\n\\tbox-shadow: none;\\r\\n\\t}\\r\\n.leaflet-touch .leaflet-control-layers,\\r\\n.leaflet-touch .leaflet-bar {\\r\\n\\tborder: 2px solid rgba(0,0,0,0.2);\\r\\n\\tbackground-clip: padding-box;\\r\\n\\t}\\r\\n\\r\\n\\r\\n/* popup */\\r\\n\\r\\n.leaflet-popup {\\r\\n\\tposition: absolute;\\r\\n\\ttext-align: center;\\r\\n\\tmargin-bottom: 20px;\\r\\n\\t}\\r\\n.leaflet-popup-content-wrapper {\\r\\n\\tpadding: 1px;\\r\\n\\ttext-align: left;\\r\\n\\tborder-radius: 12px;\\r\\n\\t}\\r\\n.leaflet-popup-content {\\r\\n\\tmargin: 13px 24px 13px 20px;\\r\\n\\tline-height: 1.3;\\r\\n\\tfont-size: 13px;\\r\\n\\tfont-size: 1.08333em;\\r\\n\\tmin-height: 1px;\\r\\n\\t}\\r\\n.leaflet-popup-content p {\\r\\n\\tmargin: 17px 0;\\r\\n\\tmargin: 1.3em 0;\\r\\n\\t}\\r\\n.leaflet-popup-tip-container {\\r\\n\\twidth: 40px;\\r\\n\\theight: 20px;\\r\\n\\tposition: absolute;\\r\\n\\tleft: 50%;\\r\\n\\tmargin-top: -1px;\\r\\n\\tmargin-left: -20px;\\r\\n\\toverflow: hidden;\\r\\n\\tpointer-events: none;\\r\\n\\t}\\r\\n.leaflet-popup-tip {\\r\\n\\twidth: 17px;\\r\\n\\theight: 17px;\\r\\n\\tpadding: 1px;\\r\\n\\r\\n\\tmargin: -10px auto 0;\\r\\n\\tpointer-events: auto;\\r\\n\\r\\n\\t-webkit-transform: rotate(45deg);\\r\\n\\t   -moz-transform: rotate(45deg);\\r\\n\\t    -ms-transform: rotate(45deg);\\r\\n\\t        transform: rotate(45deg);\\r\\n\\t}\\r\\n.leaflet-popup-content-wrapper,\\r\\n.leaflet-popup-tip {\\r\\n\\tbackground: white;\\r\\n\\tcolor: #333;\\r\\n\\tbox-shadow: 0 3px 14px rgba(0,0,0,0.4);\\r\\n\\t}\\r\\n.leaflet-container a.leaflet-popup-close-button {\\r\\n\\tposition: absolute;\\r\\n\\ttop: 0;\\r\\n\\tright: 0;\\r\\n\\tborder: none;\\r\\n\\ttext-align: center;\\r\\n\\twidth: 24px;\\r\\n\\theight: 24px;\\r\\n\\tfont: 16px/24px Tahoma, Verdana, sans-serif;\\r\\n\\tcolor: #757575;\\r\\n\\ttext-decoration: none;\\r\\n\\tbackground: transparent;\\r\\n\\t}\\r\\n.leaflet-container a.leaflet-popup-close-button:hover,\\r\\n.leaflet-container a.leaflet-popup-close-button:focus {\\r\\n\\tcolor: #585858;\\r\\n\\t}\\r\\n.leaflet-popup-scrolled {\\r\\n\\toverflow: auto;\\r\\n\\tborder-bottom: 1px solid #ddd;\\r\\n\\tborder-top: 1px solid #ddd;\\r\\n\\t}\\r\\n\\r\\n.leaflet-oldie .leaflet-popup-content-wrapper {\\r\\n\\t-ms-zoom: 1;\\r\\n\\t}\\r\\n.leaflet-oldie .leaflet-popup-tip {\\r\\n\\twidth: 24px;\\r\\n\\tmargin: 0 auto;\\r\\n\\r\\n\\t-ms-filter: \\\"progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678)\\\";\\r\\n\\tfilter: progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678);\\r\\n\\t}\\r\\n\\r\\n.leaflet-oldie .leaflet-control-zoom,\\r\\n.leaflet-oldie .leaflet-control-layers,\\r\\n.leaflet-oldie .leaflet-popup-content-wrapper,\\r\\n.leaflet-oldie .leaflet-popup-tip {\\r\\n\\tborder: 1px solid #999;\\r\\n\\t}\\r\\n\\r\\n\\r\\n/* div icon */\\r\\n\\r\\n.leaflet-div-icon {\\r\\n\\tbackground: #fff;\\r\\n\\tborder: 1px solid #666;\\r\\n\\t}\\r\\n\\r\\n\\r\\n/* Tooltip */\\r\\n/* Base styles for the element that has a tooltip */\\r\\n.leaflet-tooltip {\\r\\n\\tposition: absolute;\\r\\n\\tpadding: 6px;\\r\\n\\tbackground-color: #fff;\\r\\n\\tborder: 1px solid #fff;\\r\\n\\tborder-radius: 3px;\\r\\n\\tcolor: #222;\\r\\n\\twhite-space: nowrap;\\r\\n\\t-webkit-user-select: none;\\r\\n\\t-moz-user-select: none;\\r\\n\\t-ms-user-select: none;\\r\\n\\tuser-select: none;\\r\\n\\tpointer-events: none;\\r\\n\\tbox-shadow: 0 1px 3px rgba(0,0,0,0.4);\\r\\n\\t}\\r\\n.leaflet-tooltip.leaflet-interactive {\\r\\n\\tcursor: pointer;\\r\\n\\tpointer-events: auto;\\r\\n\\t}\\r\\n.leaflet-tooltip-top:before,\\r\\n.leaflet-tooltip-bottom:before,\\r\\n.leaflet-tooltip-left:before,\\r\\n.leaflet-tooltip-right:before {\\r\\n\\tposition: absolute;\\r\\n\\tpointer-events: none;\\r\\n\\tborder: 6px solid transparent;\\r\\n\\tbackground: transparent;\\r\\n\\tcontent: \\\"\\\";\\r\\n\\t}\\r\\n\\r\\n/* Directions */\\r\\n\\r\\n.leaflet-tooltip-bottom {\\r\\n\\tmargin-top: 6px;\\r\\n}\\r\\n.leaflet-tooltip-top {\\r\\n\\tmargin-top: -6px;\\r\\n}\\r\\n.leaflet-tooltip-bottom:before,\\r\\n.leaflet-tooltip-top:before {\\r\\n\\tleft: 50%;\\r\\n\\tmargin-left: -6px;\\r\\n\\t}\\r\\n.leaflet-tooltip-top:before {\\r\\n\\tbottom: 0;\\r\\n\\tmargin-bottom: -12px;\\r\\n\\tborder-top-color: #fff;\\r\\n\\t}\\r\\n.leaflet-tooltip-bottom:before {\\r\\n\\ttop: 0;\\r\\n\\tmargin-top: -12px;\\r\\n\\tmargin-left: -6px;\\r\\n\\tborder-bottom-color: #fff;\\r\\n\\t}\\r\\n.leaflet-tooltip-left {\\r\\n\\tmargin-left: -6px;\\r\\n}\\r\\n.leaflet-tooltip-right {\\r\\n\\tmargin-left: 6px;\\r\\n}\\r\\n.leaflet-tooltip-left:before,\\r\\n.leaflet-tooltip-right:before {\\r\\n\\ttop: 50%;\\r\\n\\tmargin-top: -6px;\\r\\n\\t}\\r\\n.leaflet-tooltip-left:before {\\r\\n\\tright: 0;\\r\\n\\tmargin-right: -12px;\\r\\n\\tborder-left-color: #fff;\\r\\n\\t}\\r\\n.leaflet-tooltip-right:before {\\r\\n\\tleft: 0;\\r\\n\\tmargin-left: -12px;\\r\\n\\tborder-right-color: #fff;\\r\\n\\t}\\r\\n\\r\\n/* Printing */\\r\\n\\t\\r\\n@media print {\\r\\n\\t/* Prevent printers from removing background-images of controls. */\\r\\n\\t.leaflet-control {\\r\\n\\t\\t-webkit-print-color-adjust: exact;\\r\\n\\t\\tcolor-adjust: exact;\\r\\n\\t\\t}\\r\\n\\t}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".brief-table {\\r\\n    display: grid;\\r\\n    /* Step, Type, Description, Features A, Features B, Features C, Transit, Duration  */\\r\\n    grid-template-columns: auto auto auto auto auto auto auto auto;\\r\\n    font-size: x-small;\\r\\n}\\r\\n\\r\\n.brief-table-title {\\r\\n    grid-column: 1 / 9;\\r\\n}\\r\\n\\r\\n.brief-table-entry {\\r\\n    text-align: left;\\r\\n    margin-left: 1em;\\r\\n    margin-right: 1em;\\r\\n    /* display: grid;\\r\\n    grid-template-columns: auto auto auto auto auto auto; */\\r\\n}\\r\\n\\r\\n.brief-table-entry-right {\\r\\n    text-align: right;\\r\\n}\\r\\n\\r\\n/* .brief-table-entry-center {\\r\\n    text-align: center;\\r\\n} */\\r\\n\\r\\n.brief-table-entry-bold {\\r\\n    font-weight: bold;\\r\\n}\\r\\n\\r\\n.brief-table-header {\\r\\n    font-weight: bold;\\r\\n    text-align: center;\\r\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/css/brief.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,aAAa;IACb,oFAAoF;IACpF,8DAA8D;IAC9D,kBAAkB;AACtB;;AAEA;IACI,kBAAkB;AACtB;;AAEA;IACI,gBAAgB;IAChB,gBAAgB;IAChB,iBAAiB;IACjB;2DACuD;AAC3D;;AAEA;IACI,iBAAiB;AACrB;;AAEA;;GAEG;;AAEH;IACI,iBAAiB;AACrB;;AAEA;IACI,iBAAiB;IACjB,kBAAkB;AACtB\",\"sourcesContent\":[\".brief-table {\\r\\n    display: grid;\\r\\n    /* Step, Type, Description, Features A, Features B, Features C, Transit, Duration  */\\r\\n    grid-template-columns: auto auto auto auto auto auto auto auto;\\r\\n    font-size: x-small;\\r\\n}\\r\\n\\r\\n.brief-table-title {\\r\\n    grid-column: 1 / 9;\\r\\n}\\r\\n\\r\\n.brief-table-entry {\\r\\n    text-align: left;\\r\\n    margin-left: 1em;\\r\\n    margin-right: 1em;\\r\\n    /* display: grid;\\r\\n    grid-template-columns: auto auto auto auto auto auto; */\\r\\n}\\r\\n\\r\\n.brief-table-entry-right {\\r\\n    text-align: right;\\r\\n}\\r\\n\\r\\n/* .brief-table-entry-center {\\r\\n    text-align: center;\\r\\n} */\\r\\n\\r\\n.brief-table-entry-bold {\\r\\n    font-weight: bold;\\r\\n}\\r\\n\\r\\n.brief-table-header {\\r\\n    font-weight: bold;\\r\\n    text-align: center;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"/* html {\\r\\n    height: 100%;\\r\\n} */\\r\\n\\r\\n.fp-user-buttons-frame {\\r\\n    display: flex;\\r\\n    flex: 0 1 1;\\r\\n    flex-direction: row;\\r\\n    background-color: var(--theme-bg-border);\\r\\n    padding: 0.1em;\\r\\n}\\r\\n\\r\\n.fp-user-buttons {\\r\\n    flex: 1 0 0;\\r\\n    margin: 0.1em;\\r\\n    padding: 0.5em;\\r\\n    border-radius: 0;\\r\\n}\\r\\n\\r\\n/* ========================== */\\r\\n/*          Main View         */\\r\\n/* ========================== */\\r\\n\\r\\n#fp-main {\\r\\n    display: flex;\\r\\n    flex-direction: row;\\r\\n    flex: 1 0 0;\\r\\n    overflow: hidden;\\r\\n}\\r\\n\\r\\n#fp-map {\\r\\n    flex: 1 0 0;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n}\\r\\n\\r\\n.fp-map-sub {\\r\\n    flex: 1 0 0;\\r\\n}\\r\\n\\r\\n#fp-map-help {\\r\\n    display: none;\\r\\n    overflow: scroll;\\r\\n    padding: 1em;\\r\\n}\\r\\n\\r\\n#fp-summary {\\r\\n    flex: auto;\\r\\n    flex-grow: 0;\\r\\n    width: 25%;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    border-left: 2px solid black;\\r\\n}\\r\\n\\r\\n#fp-advanced {\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n}\\r\\n\\r\\n/* ========================== */\\r\\n/*       Drawing Toolbar      */\\r\\n/* ========================== */\\r\\n/*\\r\\n#fp-draw {\\r\\n    display: flex;\\r\\n    flex: 1 0 0;\\r\\n    flex-direction: row;\\r\\n    background-color: black;\\r\\n    padding: 0.1em;\\r\\n}\\r\\n\\r\\n.fp-draw-buttons {\\r\\n    flex: 1 0 0;\\r\\n    margin: 0.1em;\\r\\n    border-radius: 0;\\r\\n}\\r\\n*/\\r\\n\\r\\n/* ========================== */\\r\\n/*     Management Toolbar     */\\r\\n/* ========================== */\\r\\n/*\\r\\n#fp-manage {\\r\\n    display: flex;\\r\\n    flex: auto;\\r\\n    flex-direction: row;\\r\\n    padding: 0.1em;\\r\\n    background-color: black;\\r\\n}\\r\\n\\r\\n.fp-manage-buttons {\\r\\n    flex: 1 0 0;\\r\\n    border-radius: 0;\\r\\n}\\r\\n*/\\r\\n\\r\\n.fp-long-name {\\r\\n    margin-left: 0.5em;\\r\\n}\\r\\n\\r\\n#print-section {\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n.help-highlight {\\r\\n    background-color: var(--theme-highlight);\\r\\n}\\r\\n\\r\\nbody{counter-reset: section}\\r\\nh2{counter-reset: sub-section}\\r\\nh3{counter-reset: composite}\\r\\nh4{counter-reset: detail}\\r\\n\\r\\nh2:before{\\r\\n  counter-increment: section;\\r\\n  content: counter(section) \\\". \\\";\\r\\n}\\r\\nh3:before{\\r\\n  counter-increment: sub-section;\\r\\n  content: counter(section) \\\".\\\" counter(sub-section) \\\". \\\";\\r\\n}\\r\\nh4:before{\\r\\n  counter-increment: composite;\\r\\n  content: counter(section) \\\".\\\" counter(sub-section) \\\".\\\" counter(composite) \\\". \\\";\\r\\n}\\r\\nh5:before{\\r\\n  counter-increment: detail;\\r\\n  content: counter(section) \\\".\\\" counter(sub-section) \\\".\\\" counter(composite) \\\".\\\" counter(detail) \\\". \\\";\\r\\n}\\r\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/css/index.css\"],\"names\":[],\"mappings\":\"AAAA;;GAEG;;AAEH;IACI,aAAa;IACb,WAAW;IACX,mBAAmB;IACnB,wCAAwC;IACxC,cAAc;AAClB;;AAEA;IACI,WAAW;IACX,aAAa;IACb,cAAc;IACd,gBAAgB;AACpB;;AAEA,+BAA+B;AAC/B,+BAA+B;AAC/B,+BAA+B;;AAE/B;IACI,aAAa;IACb,mBAAmB;IACnB,WAAW;IACX,gBAAgB;AACpB;;AAEA;IACI,WAAW;IACX,aAAa;IACb,sBAAsB;AAC1B;;AAEA;IACI,WAAW;AACf;;AAEA;IACI,aAAa;IACb,gBAAgB;IAChB,YAAY;AAChB;;AAEA;IACI,UAAU;IACV,YAAY;IACZ,UAAU;IACV,aAAa;IACb,sBAAsB;IACtB,4BAA4B;AAChC;;AAEA;IACI,aAAa;IACb,sBAAsB;AAC1B;;AAEA,+BAA+B;AAC/B,+BAA+B;AAC/B,+BAA+B;AAC/B;;;;;;;;;;;;;;CAcC;;AAED,+BAA+B;AAC/B,+BAA+B;AAC/B,+BAA+B;AAC/B;;;;;;;;;;;;;CAaC;;AAED;IACI,kBAAkB;AACtB;;AAEA;IACI,aAAa;AACjB;;AAEA;IACI,wCAAwC;AAC5C;;AAEA,KAAK,sBAAsB;AAC3B,GAAG,0BAA0B;AAC7B,GAAG,wBAAwB;AAC3B,GAAG,qBAAqB;;AAExB;EACE,0BAA0B;EAC1B,8BAA8B;AAChC;AACA;EACE,8BAA8B;EAC9B,uDAAuD;AACzD;AACA;EACE,4BAA4B;EAC5B,8EAA8E;AAChF;AACA;EACE,yBAAyB;EACzB,kGAAkG;AACpG\",\"sourcesContent\":[\"/* html {\\r\\n    height: 100%;\\r\\n} */\\r\\n\\r\\n.fp-user-buttons-frame {\\r\\n    display: flex;\\r\\n    flex: 0 1 1;\\r\\n    flex-direction: row;\\r\\n    background-color: var(--theme-bg-border);\\r\\n    padding: 0.1em;\\r\\n}\\r\\n\\r\\n.fp-user-buttons {\\r\\n    flex: 1 0 0;\\r\\n    margin: 0.1em;\\r\\n    padding: 0.5em;\\r\\n    border-radius: 0;\\r\\n}\\r\\n\\r\\n/* ========================== */\\r\\n/*          Main View         */\\r\\n/* ========================== */\\r\\n\\r\\n#fp-main {\\r\\n    display: flex;\\r\\n    flex-direction: row;\\r\\n    flex: 1 0 0;\\r\\n    overflow: hidden;\\r\\n}\\r\\n\\r\\n#fp-map {\\r\\n    flex: 1 0 0;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n}\\r\\n\\r\\n.fp-map-sub {\\r\\n    flex: 1 0 0;\\r\\n}\\r\\n\\r\\n#fp-map-help {\\r\\n    display: none;\\r\\n    overflow: scroll;\\r\\n    padding: 1em;\\r\\n}\\r\\n\\r\\n#fp-summary {\\r\\n    flex: auto;\\r\\n    flex-grow: 0;\\r\\n    width: 25%;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    border-left: 2px solid black;\\r\\n}\\r\\n\\r\\n#fp-advanced {\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n}\\r\\n\\r\\n/* ========================== */\\r\\n/*       Drawing Toolbar      */\\r\\n/* ========================== */\\r\\n/*\\r\\n#fp-draw {\\r\\n    display: flex;\\r\\n    flex: 1 0 0;\\r\\n    flex-direction: row;\\r\\n    background-color: black;\\r\\n    padding: 0.1em;\\r\\n}\\r\\n\\r\\n.fp-draw-buttons {\\r\\n    flex: 1 0 0;\\r\\n    margin: 0.1em;\\r\\n    border-radius: 0;\\r\\n}\\r\\n*/\\r\\n\\r\\n/* ========================== */\\r\\n/*     Management Toolbar     */\\r\\n/* ========================== */\\r\\n/*\\r\\n#fp-manage {\\r\\n    display: flex;\\r\\n    flex: auto;\\r\\n    flex-direction: row;\\r\\n    padding: 0.1em;\\r\\n    background-color: black;\\r\\n}\\r\\n\\r\\n.fp-manage-buttons {\\r\\n    flex: 1 0 0;\\r\\n    border-radius: 0;\\r\\n}\\r\\n*/\\r\\n\\r\\n.fp-long-name {\\r\\n    margin-left: 0.5em;\\r\\n}\\r\\n\\r\\n#print-section {\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n.help-highlight {\\r\\n    background-color: var(--theme-highlight);\\r\\n}\\r\\n\\r\\nbody{counter-reset: section}\\r\\nh2{counter-reset: sub-section}\\r\\nh3{counter-reset: composite}\\r\\nh4{counter-reset: detail}\\r\\n\\r\\nh2:before{\\r\\n  counter-increment: section;\\r\\n  content: counter(section) \\\". \\\";\\r\\n}\\r\\nh3:before{\\r\\n  counter-increment: sub-section;\\r\\n  content: counter(section) \\\".\\\" counter(sub-section) \\\". \\\";\\r\\n}\\r\\nh4:before{\\r\\n  counter-increment: composite;\\r\\n  content: counter(section) \\\".\\\" counter(sub-section) \\\".\\\" counter(composite) \\\". \\\";\\r\\n}\\r\\nh5:before{\\r\\n  counter-increment: detail;\\r\\n  content: counter(section) \\\".\\\" counter(sub-section) \\\".\\\" counter(composite) \\\".\\\" counter(detail) \\\". \\\";\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".neuron-marker-popup {\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n}\\r\\n\\r\\n.neuron-marker-popup-title {\\r\\n    flex: auto;\\r\\n    justify-content: center;\\r\\n    display: flex;\\r\\n\\r\\n    font-weight: bold;\\r\\n    text-decoration: underline;\\r\\n    padding: 0.5em;\\r\\n}\\r\\n\\r\\n.neuron-marker-popup-item {\\r\\n    flex: auto;\\r\\n    padding: 0.5em;\\r\\n}\\r\\n\\r\\n.neuron-marker-popup-item:hover {\\r\\n    background-color: #b0b0fd;\\r\\n    text-decoration: underline;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.neuron-marker-popup-icon {\\r\\n    margin-left: 0.2em;\\r\\n    margin-right: 0.2em;\\r\\n}\\r\\n\\r\\n.neuron-marker-popup-item-text {\\r\\n    margin-left: 0.2em;\\r\\n    margin-right: 0.2em;\\r\\n}\\r\\n\\r\\n.neuron-marker-popup-break {\\r\\n    width: 100%;\\r\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/css/map.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,aAAa;IACb,sBAAsB;AAC1B;;AAEA;IACI,UAAU;IACV,uBAAuB;IACvB,aAAa;;IAEb,iBAAiB;IACjB,0BAA0B;IAC1B,cAAc;AAClB;;AAEA;IACI,UAAU;IACV,cAAc;AAClB;;AAEA;IACI,yBAAyB;IACzB,0BAA0B;IAC1B,eAAe;AACnB;;AAEA;IACI,kBAAkB;IAClB,mBAAmB;AACvB;;AAEA;IACI,kBAAkB;IAClB,mBAAmB;AACvB;;AAEA;IACI,WAAW;AACf\",\"sourcesContent\":[\".neuron-marker-popup {\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n}\\r\\n\\r\\n.neuron-marker-popup-title {\\r\\n    flex: auto;\\r\\n    justify-content: center;\\r\\n    display: flex;\\r\\n\\r\\n    font-weight: bold;\\r\\n    text-decoration: underline;\\r\\n    padding: 0.5em;\\r\\n}\\r\\n\\r\\n.neuron-marker-popup-item {\\r\\n    flex: auto;\\r\\n    padding: 0.5em;\\r\\n}\\r\\n\\r\\n.neuron-marker-popup-item:hover {\\r\\n    background-color: #b0b0fd;\\r\\n    text-decoration: underline;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.neuron-marker-popup-icon {\\r\\n    margin-left: 0.2em;\\r\\n    margin-right: 0.2em;\\r\\n}\\r\\n\\r\\n.neuron-marker-popup-item-text {\\r\\n    margin-left: 0.2em;\\r\\n    margin-right: 0.2em;\\r\\n}\\r\\n\\r\\n.neuron-marker-popup-break {\\r\\n    width: 100%;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"#fp-mission {\\r\\n    flex: auto;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    overflow: hidden;\\r\\n}\\r\\n\\r\\n#fp-plan-container {\\r\\n    flex: auto;\\r\\n    overflow: scroll;\\r\\n    padding-top: 0.25em;\\r\\n    padding-bottom: 0.25em;\\r\\n    scroll-behavior: smooth;\\r\\n}\\r\\n\\r\\n#fp-plan {\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n}\\r\\n\\r\\n#fp-plan-title {\\r\\n    text-align: center;\\r\\n    font-weight: bold;\\r\\n    box-shadow: 0px 4px 4px var(--theme-shadow);\\r\\n}\\r\\n\\r\\n.mission-feature {\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    background-color: var(--theme-background);\\r\\n    border: 2px solid var(--theme-bg-border);\\r\\n    border-radius: 0.5em;\\r\\n    margin-top: 0.25em;\\r\\n    margin-bottom: 0.25em;\\r\\n    margin-left: 0.5em;\\r\\n    margin-right: 0.5em;\\r\\n    scroll-margin: 0.25em;\\r\\n    padding: 0.5em;\\r\\n    box-shadow: 4px 4px 4px var(--theme-shadow);\\r\\n}\\r\\n\\r\\n.mission-feature-highlight {\\r\\n    background-color: var(--theme-highlight);\\r\\n    transition: 250ms linear all;\\r\\n}\\r\\n\\r\\n.mission-feature-highlight-remove {\\r\\n    background-color: inherit;\\r\\n    transition: 250ms linear all;\\r\\n}\\r\\n\\r\\n.mission-feature-hidden {\\r\\n    background: var(--theme-shadow);\\r\\n}\\r\\n\\r\\n.mission-feature-title {\\r\\n    flex: auto;\\r\\n    display: flex;\\r\\n    flex-direction: row;\\r\\n    flex-wrap: wrap;\\r\\n    justify-content: flex-end;\\r\\n}\\r\\n\\r\\n.mission-feature-title-button-container {\\r\\n    flex: auto;\\r\\n    flex-grow: 0;\\r\\n    display: flex;\\r\\n    flex-direction: row;\\r\\n    flex-wrap: wrap;\\r\\n}\\r\\n\\r\\n.mission-feature-title-button,\\r\\n.mission-feature-title-button-small {\\r\\n    flex: auto;\\r\\n    flex-grow: 0;\\r\\n    margin-left: 0.1em;\\r\\n    margin-right: 0.1em;\\r\\n}\\r\\n\\r\\n\\r\\n.mission-feature-title-button-small {\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n.mission-feature-title-text {\\r\\n    font-weight: bold;\\r\\n    flex: auto;\\r\\n}\\r\\n.mission-feature-content {\\r\\n    flex: auto;\\r\\n    display: grid;\\r\\n    /* flex-direction: column; */\\r\\n    grid-template-columns: 50% 50%;\\r\\n    /* overflow: scroll; */\\r\\n}\\r\\n\\r\\n.mission-feature-content-label, .mission-feature-content-value {\\r\\n    display: block;\\r\\n    margin-top: 0.2em;\\r\\n}\\r\\n\\r\\n.mission-feature-content-value-center {\\r\\n    text-align: center;\\r\\n}\\r\\n\\r\\n.mission-feature-content-subtitle {\\r\\n    font-weight: bold;\\r\\n}\\r\\n\\r\\n.mission-feature-content-value-right {\\r\\n    text-align: right;\\r\\n}\\r\\n\\r\\n.neuron-marker-poi {\\r\\n    filter: hue-rotate(0deg);\\r\\n}\\r\\n\\r\\n.neuron-marker-corner {\\r\\n    filter: hue-rotate(145deg);\\r\\n}\\r\\n\\r\\n.neuron-marker-waypoint {\\r\\n    filter: hue-rotate(180deg);\\r\\n}\\r\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/css/plan.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,UAAU;IACV,aAAa;IACb,sBAAsB;IACtB,gBAAgB;AACpB;;AAEA;IACI,UAAU;IACV,gBAAgB;IAChB,mBAAmB;IACnB,sBAAsB;IACtB,uBAAuB;AAC3B;;AAEA;IACI,aAAa;IACb,sBAAsB;AAC1B;;AAEA;IACI,kBAAkB;IAClB,iBAAiB;IACjB,2CAA2C;AAC/C;;AAEA;IACI,aAAa;IACb,sBAAsB;IACtB,yCAAyC;IACzC,wCAAwC;IACxC,oBAAoB;IACpB,kBAAkB;IAClB,qBAAqB;IACrB,kBAAkB;IAClB,mBAAmB;IACnB,qBAAqB;IACrB,cAAc;IACd,2CAA2C;AAC/C;;AAEA;IACI,wCAAwC;IACxC,4BAA4B;AAChC;;AAEA;IACI,yBAAyB;IACzB,4BAA4B;AAChC;;AAEA;IACI,+BAA+B;AACnC;;AAEA;IACI,UAAU;IACV,aAAa;IACb,mBAAmB;IACnB,eAAe;IACf,yBAAyB;AAC7B;;AAEA;IACI,UAAU;IACV,YAAY;IACZ,aAAa;IACb,mBAAmB;IACnB,eAAe;AACnB;;AAEA;;IAEI,UAAU;IACV,YAAY;IACZ,kBAAkB;IAClB,mBAAmB;AACvB;;;AAGA;IACI,aAAa;AACjB;;AAEA;IACI,iBAAiB;IACjB,UAAU;AACd;AACA;IACI,UAAU;IACV,aAAa;IACb,4BAA4B;IAC5B,8BAA8B;IAC9B,sBAAsB;AAC1B;;AAEA;IACI,cAAc;IACd,iBAAiB;AACrB;;AAEA;IACI,kBAAkB;AACtB;;AAEA;IACI,iBAAiB;AACrB;;AAEA;IACI,iBAAiB;AACrB;;AAEA;IACI,wBAAwB;AAC5B;;AAEA;IACI,0BAA0B;AAC9B;;AAEA;IACI,0BAA0B;AAC9B\",\"sourcesContent\":[\"#fp-mission {\\r\\n    flex: auto;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    overflow: hidden;\\r\\n}\\r\\n\\r\\n#fp-plan-container {\\r\\n    flex: auto;\\r\\n    overflow: scroll;\\r\\n    padding-top: 0.25em;\\r\\n    padding-bottom: 0.25em;\\r\\n    scroll-behavior: smooth;\\r\\n}\\r\\n\\r\\n#fp-plan {\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n}\\r\\n\\r\\n#fp-plan-title {\\r\\n    text-align: center;\\r\\n    font-weight: bold;\\r\\n    box-shadow: 0px 4px 4px var(--theme-shadow);\\r\\n}\\r\\n\\r\\n.mission-feature {\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    background-color: var(--theme-background);\\r\\n    border: 2px solid var(--theme-bg-border);\\r\\n    border-radius: 0.5em;\\r\\n    margin-top: 0.25em;\\r\\n    margin-bottom: 0.25em;\\r\\n    margin-left: 0.5em;\\r\\n    margin-right: 0.5em;\\r\\n    scroll-margin: 0.25em;\\r\\n    padding: 0.5em;\\r\\n    box-shadow: 4px 4px 4px var(--theme-shadow);\\r\\n}\\r\\n\\r\\n.mission-feature-highlight {\\r\\n    background-color: var(--theme-highlight);\\r\\n    transition: 250ms linear all;\\r\\n}\\r\\n\\r\\n.mission-feature-highlight-remove {\\r\\n    background-color: inherit;\\r\\n    transition: 250ms linear all;\\r\\n}\\r\\n\\r\\n.mission-feature-hidden {\\r\\n    background: var(--theme-shadow);\\r\\n}\\r\\n\\r\\n.mission-feature-title {\\r\\n    flex: auto;\\r\\n    display: flex;\\r\\n    flex-direction: row;\\r\\n    flex-wrap: wrap;\\r\\n    justify-content: flex-end;\\r\\n}\\r\\n\\r\\n.mission-feature-title-button-container {\\r\\n    flex: auto;\\r\\n    flex-grow: 0;\\r\\n    display: flex;\\r\\n    flex-direction: row;\\r\\n    flex-wrap: wrap;\\r\\n}\\r\\n\\r\\n.mission-feature-title-button,\\r\\n.mission-feature-title-button-small {\\r\\n    flex: auto;\\r\\n    flex-grow: 0;\\r\\n    margin-left: 0.1em;\\r\\n    margin-right: 0.1em;\\r\\n}\\r\\n\\r\\n\\r\\n.mission-feature-title-button-small {\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n.mission-feature-title-text {\\r\\n    font-weight: bold;\\r\\n    flex: auto;\\r\\n}\\r\\n.mission-feature-content {\\r\\n    flex: auto;\\r\\n    display: grid;\\r\\n    /* flex-direction: column; */\\r\\n    grid-template-columns: 50% 50%;\\r\\n    /* overflow: scroll; */\\r\\n}\\r\\n\\r\\n.mission-feature-content-label, .mission-feature-content-value {\\r\\n    display: block;\\r\\n    margin-top: 0.2em;\\r\\n}\\r\\n\\r\\n.mission-feature-content-value-center {\\r\\n    text-align: center;\\r\\n}\\r\\n\\r\\n.mission-feature-content-subtitle {\\r\\n    font-weight: bold;\\r\\n}\\r\\n\\r\\n.mission-feature-content-value-right {\\r\\n    text-align: right;\\r\\n}\\r\\n\\r\\n.neuron-marker-poi {\\r\\n    filter: hue-rotate(0deg);\\r\\n}\\r\\n\\r\\n.neuron-marker-corner {\\r\\n    filter: hue-rotate(145deg);\\r\\n}\\r\\n\\r\\n.neuron-marker-waypoint {\\r\\n    filter: hue-rotate(180deg);\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\\r\\n/* Prefer portrait mode for very small screen sizes */\\r\\n@media only screen and ((orientation: portrait) or (max-width: 620px)) {\\r\\n    #fp-main {\\r\\n        flex-direction: column;\\r\\n    }\\r\\n\\r\\n    #fp-map {\\r\\n        max-height: 50%;\\r\\n    }\\r\\n\\r\\n    #fp-summary {\\r\\n        height: 50%;\\r\\n        width: 100%;\\r\\n        border-left: 0px;\\r\\n        border-top: 2px solid black;\\r\\n    }\\r\\n}\\r\\n\\r\\n@media only screen and (max-width: 820px) {\\r\\n    .fp-long-name {\\r\\n        display: none;\\r\\n    }\\r\\n\\r\\n    .leaflet-control-attribution {\\r\\n        display: none;\\r\\n    }\\r\\n}\\r\\n\\r\\n@media only screen and ((orientation: portrait) or (max-height: 620px)) and (max-width: 800px) {\\r\\n    .leaflet-control-attribution {\\r\\n        display: none;\\r\\n    }\\r\\n\\r\\n    #fp-summary > * {\\r\\n        font-size: x-small;\\r\\n    }\\r\\n\\r\\n    .mission-feature-content-value {\\r\\n        font-size: x-small;\\r\\n    }\\r\\n\\r\\n    .fp-stats-content-value {\\r\\n        font-size: x-small;\\r\\n    }\\r\\n\\r\\n    .mission-feature-title-button {\\r\\n        display: none;\\r\\n    }\\r\\n\\r\\n    .mission-feature-title-button-small {\\r\\n        display: block;\\r\\n    }\\r\\n}\\r\\n\\r\\n@media only screen and (orientation: portrait) and (max-height: 400px) {\\r\\n    #fp-summary {\\r\\n        height: 100%;\\r\\n        width: 100%;\\r\\n    }\\r\\n}\\r\\n\\r\\n@media only screen and (orientation: landscape) and (max-height: 400px) and (max-width: 620px) {\\r\\n    #fp-map {\\r\\n        max-height: 100%;\\r\\n    }\\r\\n\\r\\n    #fp-summary {\\r\\n        display: none;\\r\\n    }\\r\\n}\\r\\n\\r\\n@media print {\\r\\n    @page {\\r\\n        size: A4;\\r\\n        margin: 10mm;\\r\\n    }\\r\\n\\r\\n    /* body > * {\\r\\n        display: none;\\r\\n    } */\\r\\n    html {\\r\\n        /* height: auto; */\\r\\n        /*\\r\\n        Manually set our height and width\\r\\n        to make sure that we can scale the map\\r\\n        properly for display later.\\r\\n        Also account for page margin and a slight inset to make sure there's no unneeded overflow.\\r\\n        */\\r\\n        width: 190mm;   /* 210 */\\r\\n        height: 276mm;   /* 297 */\\r\\n    }\\r\\n\\r\\n    body {\\r\\n        height: auto;\\r\\n        width: auto;\\r\\n    }\\r\\n\\r\\n    #app {\\r\\n        height: auto;\\r\\n        width: auto;\\r\\n        display: block;\\r\\n        overflow-x: auto;\\r\\n    }\\r\\n\\r\\n    #fp-main {\\r\\n        overflow: initial;\\r\\n    }\\r\\n    #fp-manage {\\r\\n        display: none;\\r\\n    }\\r\\n    #fp-summary {\\r\\n        display: none;\\r\\n    }\\r\\n    #fp-draw {\\r\\n        display: none;\\r\\n    }\\r\\n    #fp-map {\\r\\n        width: calc(190mm);\\r\\n        height: calc(277mm/2);\\r\\n    }\\r\\n    #fp-map-interactive {\\r\\n        display: block;\\r\\n    }\\r\\n    #fp-map-help {\\r\\n        display: none;\\r\\n    }\\r\\n    #print-section {\\r\\n        display: block;\\r\\n    }\\r\\n\\r\\n    .leaflet-control-attribution {\\r\\n        display: none;\\r\\n    }\\r\\n}\\r\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/css/responsive.css\"],\"names\":[],\"mappings\":\";AACA,qDAAqD;AACrD;IACI;QACI,sBAAsB;IAC1B;;IAEA;QACI,eAAe;IACnB;;IAEA;QACI,WAAW;QACX,WAAW;QACX,gBAAgB;QAChB,2BAA2B;IAC/B;AACJ;;AAEA;IACI;QACI,aAAa;IACjB;;IAEA;QACI,aAAa;IACjB;AACJ;;AAEA;IACI;QACI,aAAa;IACjB;;IAEA;QACI,kBAAkB;IACtB;;IAEA;QACI,kBAAkB;IACtB;;IAEA;QACI,kBAAkB;IACtB;;IAEA;QACI,aAAa;IACjB;;IAEA;QACI,cAAc;IAClB;AACJ;;AAEA;IACI;QACI,YAAY;QACZ,WAAW;IACf;AACJ;;AAEA;IACI;QACI,gBAAgB;IACpB;;IAEA;QACI,aAAa;IACjB;AACJ;;AAEA;IACI;QACI,QAAQ;QACR,YAAY;IAChB;;IAEA;;OAEG;IACH;QACI,kBAAkB;QAClB;;;;;SAKC;QACD,YAAY,IAAI,QAAQ;QACxB,aAAa,IAAI,QAAQ;IAC7B;;IAEA;QACI,YAAY;QACZ,WAAW;IACf;;IAEA;QACI,YAAY;QACZ,WAAW;QACX,cAAc;QACd,gBAAgB;IACpB;;IAEA;QACI,iBAAiB;IACrB;IACA;QACI,aAAa;IACjB;IACA;QACI,aAAa;IACjB;IACA;QACI,aAAa;IACjB;IACA;QACI,kBAAkB;QAClB,qBAAqB;IACzB;IACA;QACI,cAAc;IAClB;IACA;QACI,aAAa;IACjB;IACA;QACI,cAAc;IAClB;;IAEA;QACI,aAAa;IACjB;AACJ\",\"sourcesContent\":[\"\\r\\n/* Prefer portrait mode for very small screen sizes */\\r\\n@media only screen and ((orientation: portrait) or (max-width: 620px)) {\\r\\n    #fp-main {\\r\\n        flex-direction: column;\\r\\n    }\\r\\n\\r\\n    #fp-map {\\r\\n        max-height: 50%;\\r\\n    }\\r\\n\\r\\n    #fp-summary {\\r\\n        height: 50%;\\r\\n        width: 100%;\\r\\n        border-left: 0px;\\r\\n        border-top: 2px solid black;\\r\\n    }\\r\\n}\\r\\n\\r\\n@media only screen and (max-width: 820px) {\\r\\n    .fp-long-name {\\r\\n        display: none;\\r\\n    }\\r\\n\\r\\n    .leaflet-control-attribution {\\r\\n        display: none;\\r\\n    }\\r\\n}\\r\\n\\r\\n@media only screen and ((orientation: portrait) or (max-height: 620px)) and (max-width: 800px) {\\r\\n    .leaflet-control-attribution {\\r\\n        display: none;\\r\\n    }\\r\\n\\r\\n    #fp-summary > * {\\r\\n        font-size: x-small;\\r\\n    }\\r\\n\\r\\n    .mission-feature-content-value {\\r\\n        font-size: x-small;\\r\\n    }\\r\\n\\r\\n    .fp-stats-content-value {\\r\\n        font-size: x-small;\\r\\n    }\\r\\n\\r\\n    .mission-feature-title-button {\\r\\n        display: none;\\r\\n    }\\r\\n\\r\\n    .mission-feature-title-button-small {\\r\\n        display: block;\\r\\n    }\\r\\n}\\r\\n\\r\\n@media only screen and (orientation: portrait) and (max-height: 400px) {\\r\\n    #fp-summary {\\r\\n        height: 100%;\\r\\n        width: 100%;\\r\\n    }\\r\\n}\\r\\n\\r\\n@media only screen and (orientation: landscape) and (max-height: 400px) and (max-width: 620px) {\\r\\n    #fp-map {\\r\\n        max-height: 100%;\\r\\n    }\\r\\n\\r\\n    #fp-summary {\\r\\n        display: none;\\r\\n    }\\r\\n}\\r\\n\\r\\n@media print {\\r\\n    @page {\\r\\n        size: A4;\\r\\n        margin: 10mm;\\r\\n    }\\r\\n\\r\\n    /* body > * {\\r\\n        display: none;\\r\\n    } */\\r\\n    html {\\r\\n        /* height: auto; */\\r\\n        /*\\r\\n        Manually set our height and width\\r\\n        to make sure that we can scale the map\\r\\n        properly for display later.\\r\\n        Also account for page margin and a slight inset to make sure there's no unneeded overflow.\\r\\n        */\\r\\n        width: 190mm;   /* 210 */\\r\\n        height: 276mm;   /* 297 */\\r\\n    }\\r\\n\\r\\n    body {\\r\\n        height: auto;\\r\\n        width: auto;\\r\\n    }\\r\\n\\r\\n    #app {\\r\\n        height: auto;\\r\\n        width: auto;\\r\\n        display: block;\\r\\n        overflow-x: auto;\\r\\n    }\\r\\n\\r\\n    #fp-main {\\r\\n        overflow: initial;\\r\\n    }\\r\\n    #fp-manage {\\r\\n        display: none;\\r\\n    }\\r\\n    #fp-summary {\\r\\n        display: none;\\r\\n    }\\r\\n    #fp-draw {\\r\\n        display: none;\\r\\n    }\\r\\n    #fp-map {\\r\\n        width: calc(190mm);\\r\\n        height: calc(277mm/2);\\r\\n    }\\r\\n    #fp-map-interactive {\\r\\n        display: block;\\r\\n    }\\r\\n    #fp-map-help {\\r\\n        display: none;\\r\\n    }\\r\\n    #print-section {\\r\\n        display: block;\\r\\n    }\\r\\n\\r\\n    .leaflet-control-attribution {\\r\\n        display: none;\\r\\n    }\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"#fp-stats-container {\\r\\n    flex: auto;\\r\\n    flex-grow: 0;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    padding: 0.5em;\\r\\n    border-bottom: 2px solid black;\\r\\n}\\r\\n\\r\\n#fp-stats {\\r\\n    flex: auto;\\r\\n    flex-grow: 0;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n}\\r\\n\\r\\n.fp-stats-title {\\r\\n    text-align: center;\\r\\n    font-weight: bold;\\r\\n    background-color: black;\\r\\n    color: white;\\r\\n    display: flex;\\r\\n    padding: 0.2em;\\r\\n}\\r\\n\\r\\n.fp-stats-title-button {\\r\\n    flex: auto;\\r\\n    flex-grow: 0;\\r\\n    margin-left: 0.5em;\\r\\n}\\r\\n\\r\\n.fp-stats-title-label {\\r\\n    flex: auto;\\r\\n}\\r\\n\\r\\n#fp-stats-options, #fp-stats-results {\\r\\n    flex: auto;\\r\\n    display: grid;\\r\\n    /* flex-direction: column; */\\r\\n    grid-template-columns: 50% 50%;\\r\\n    padding: 0.5em;\\r\\n    overflow: scroll;\\r\\n}\\r\\n\\r\\n.fp-stats-options-label, .fp-stats-options-value,\\r\\n.fp-stats-content-label, .fp-stats-content-value {\\r\\n    display: block;\\r\\n    margin-top: 0.2em;\\r\\n}\\r\\n\\r\\n.fp-stats-options-value-center, .fp-stats-content-value-center {\\r\\n    text-align: center;\\r\\n}\\r\\n\\r\\n.fp-stats-options-value-right, .fp-stats-content-value-right {\\r\\n    text-align: right;\\r\\n}\\r\\n\\r\\n/* .fp-stats-option-label {\\r\\n    flex: auto;\\r\\n}\\r\\n\\r\\n.fp-stats-option-value {\\r\\n    flex: auto;\\r\\n    max-width: 5em;\\r\\n} */\\r\\n\\r\\n.fp-stats-option-content-subtitle {\\r\\n    font-weight: bold;\\r\\n}\\r\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/css/stats_options.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,UAAU;IACV,YAAY;IACZ,aAAa;IACb,sBAAsB;IACtB,cAAc;IACd,8BAA8B;AAClC;;AAEA;IACI,UAAU;IACV,YAAY;IACZ,aAAa;IACb,sBAAsB;AAC1B;;AAEA;IACI,kBAAkB;IAClB,iBAAiB;IACjB,uBAAuB;IACvB,YAAY;IACZ,aAAa;IACb,cAAc;AAClB;;AAEA;IACI,UAAU;IACV,YAAY;IACZ,kBAAkB;AACtB;;AAEA;IACI,UAAU;AACd;;AAEA;IACI,UAAU;IACV,aAAa;IACb,4BAA4B;IAC5B,8BAA8B;IAC9B,cAAc;IACd,gBAAgB;AACpB;;AAEA;;IAEI,cAAc;IACd,iBAAiB;AACrB;;AAEA;IACI,kBAAkB;AACtB;;AAEA;IACI,iBAAiB;AACrB;;AAEA;;;;;;;GAOG;;AAEH;IACI,iBAAiB;AACrB\",\"sourcesContent\":[\"#fp-stats-container {\\r\\n    flex: auto;\\r\\n    flex-grow: 0;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    padding: 0.5em;\\r\\n    border-bottom: 2px solid black;\\r\\n}\\r\\n\\r\\n#fp-stats {\\r\\n    flex: auto;\\r\\n    flex-grow: 0;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n}\\r\\n\\r\\n.fp-stats-title {\\r\\n    text-align: center;\\r\\n    font-weight: bold;\\r\\n    background-color: black;\\r\\n    color: white;\\r\\n    display: flex;\\r\\n    padding: 0.2em;\\r\\n}\\r\\n\\r\\n.fp-stats-title-button {\\r\\n    flex: auto;\\r\\n    flex-grow: 0;\\r\\n    margin-left: 0.5em;\\r\\n}\\r\\n\\r\\n.fp-stats-title-label {\\r\\n    flex: auto;\\r\\n}\\r\\n\\r\\n#fp-stats-options, #fp-stats-results {\\r\\n    flex: auto;\\r\\n    display: grid;\\r\\n    /* flex-direction: column; */\\r\\n    grid-template-columns: 50% 50%;\\r\\n    padding: 0.5em;\\r\\n    overflow: scroll;\\r\\n}\\r\\n\\r\\n.fp-stats-options-label, .fp-stats-options-value,\\r\\n.fp-stats-content-label, .fp-stats-content-value {\\r\\n    display: block;\\r\\n    margin-top: 0.2em;\\r\\n}\\r\\n\\r\\n.fp-stats-options-value-center, .fp-stats-content-value-center {\\r\\n    text-align: center;\\r\\n}\\r\\n\\r\\n.fp-stats-options-value-right, .fp-stats-content-value-right {\\r\\n    text-align: right;\\r\\n}\\r\\n\\r\\n/* .fp-stats-option-label {\\r\\n    flex: auto;\\r\\n}\\r\\n\\r\\n.fp-stats-option-value {\\r\\n    flex: auto;\\r\\n    max-width: 5em;\\r\\n} */\\r\\n\\r\\n.fp-stats-option-content-subtitle {\\r\\n    font-weight: bold;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n\n      content += cssWithMappingToString(item);\n\n      if (needLayer) {\n        content += \"}\";\n      }\n\n      if (item[2]) {\n        content += \"}\";\n      }\n\n      if (item[4]) {\n        content += \"}\";\n      }\n\n      return content;\n    }).join(\"\");\n  }; // import a list of modules into the list\n\n\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};","\"use strict\";\n\nmodule.exports = function (url, options) {\n  if (!options) {\n    options = {};\n  }\n\n  if (!url) {\n    return url;\n  }\n\n  url = String(url.__esModule ? url.default : url); // If url is already wrapped in quotes, remove them\n\n  if (/^['\"].*['\"]$/.test(url)) {\n    url = url.slice(1, -1);\n  }\n\n  if (options.hash) {\n    url += options.hash;\n  } // Should url be wrapped?\n  // See https://drafts.csswg.org/css-values-3/#urls\n\n\n  if (/[\"'() \\t\\n]|(%20)/.test(url) || options.needQuotes) {\n    return \"\\\"\".concat(url.replace(/\"/g, '\\\\\"').replace(/\\n/g, \"\\\\n\"), \"\\\"\");\n  }\n\n  return url;\n};","\"use strict\";\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || \"\").concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join(\"\\n\");\n  }\n\n  return [content].join(\"\\n\");\n};","\n      import API from \"!../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../css-loader/dist/cjs.js!./leaflet.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../css-loader/dist/cjs.js!./leaflet.css\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!./brief.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!./brief.css\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!./index.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!./index.css\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!./map.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!./map.css\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!./plan.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!./plan.css\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!./responsive.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!./responsive.css\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!./stats_options.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!./stats_options.css\";\n       export default content && content.locals ? content.locals : undefined;\n","\"use strict\";\n\nvar stylesInDOM = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n\n  return updater;\n}\n\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\nvar memo = {};\n/* istanbul ignore next  */\n\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n\n    memo[target] = styleTarget;\n  }\n\n  return memo[target];\n}\n/* istanbul ignore next  */\n\n\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n\n  target.appendChild(style);\n}\n\nmodule.exports = insertBySelector;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\n\nmodule.exports = insertStyleElement;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce = typeof __webpack_nonce__ !== \"undefined\" ? __webpack_nonce__ : null;\n\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\n\nmodule.exports = setAttributesWithoutAttributes;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n\n  var needLayer = typeof obj.layer !== \"undefined\";\n\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n\n  css += obj.css;\n\n  if (needLayer) {\n    css += \"}\";\n  }\n\n  if (obj.media) {\n    css += \"}\";\n  }\n\n  if (obj.supports) {\n    css += \"}\";\n  }\n\n  var sourceMap = obj.sourceMap;\n\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  options.styleTagTransform(css, styleElement, options.options);\n}\n\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n\n  styleElement.parentNode.removeChild(styleElement);\n}\n/* istanbul ignore next  */\n\n\nfunction domAPI(options) {\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\n\nmodule.exports = domAPI;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\n\nmodule.exports = styleTagTransform;","import { NeuronOptions } from './neuron_options';\r\nimport { NeuronInterfacePoint } from './neuron_interfaces';\r\nimport { NeuronPlanner } from './neuron_planner';\r\nimport { NeuronMap } from './neuron_map';\r\nimport { NeuronBrief } from './neuron_brief';\r\nimport { NeuronStatistics } from './neuron_statistics';\r\nimport { NeuronHelp } from './neuron_help';\r\nimport { mm_to_px } from './neuron_tools_common';\r\nimport { neuron_load_dom_icons } from './interface_fontawesome'\r\nimport { get_supported_kmx_types } from './neuron_tools_kml'\r\n\r\n//TODO: https://www.skovy.dev/blog/tree-shaking-font-awesome?seed=tnv79i\r\n// import '@fortawesome/fontawesome-free/js/fontawesome'\r\n// import '@fortawesome/fontawesome-free/js/solid'\r\n// import '@fortawesome/fontawesome-free/js/regular'\r\n// import '@fortawesome/fontawesome-free/js/brands'\r\n\r\n// import \"../css/theme.css\";  //XXX: Loaded by minimal script in head\r\nimport \"../css/index.css\";\r\nimport \"../css/map.css\";\r\nimport \"../css/stats_options.css\";\r\nimport \"../css/plan.css\";\r\nimport \"../css/brief.css\";\r\nimport \"../css/responsive.css\"; //XXX: Load this last so it gets applied after all other definitions\r\n\r\ndeclare global {\r\n    interface Window {\r\n        neuron_planner: NeuronPlanner;\r\n        neuron_map: NeuronMap;\r\n        neuron_brief: NeuronBrief;\r\n        neuron_statistics: NeuronStatistics;\r\n        neuron_help: NeuronHelp;\r\n    }\r\n}\r\n\r\n/// <reference types=\"webpack/module\" />\r\nconsole.log(`Loaded V-TOL Neuron, packed with Webpack v${import.meta.webpack}`); // without reference declared above, TypeScript will throw an error\r\n\r\n//Initialize all of our options\r\nNeuronOptions.init();\r\n\r\n//All of our preset DOM IDs\r\nconst element_name_loader = 'loader';\r\nconst element_name_app = 'app';\r\nconst element_name_plan = 'fp-plan';\r\nconst element_prefix_stats = 'fp-stats';\r\nconst element_name_map = 'fp-map-interactive';\r\nconst element_name_help = 'fp-map-help';\r\nconst element_name_brief = 'print-section';\r\nconst element_prefix_help = 'help';\r\nconst elements_ignore_help = [\r\n    'fp-mission'\r\n]\r\n\r\n//Print-specific variables to store for later\r\nconst print_size_with_margin_mm = {\r\n    width: 190,   /* 210 */\r\n    height: 277/2,   /* 297 */\r\n}\r\nconst print_size_with_margin_px = {\r\n    width: mm_to_px(print_size_with_margin_mm.width),\r\n    height: mm_to_px(print_size_with_margin_mm.height)\r\n}\r\n\r\n//Application variables\r\nwindow.neuron_planner = new NeuronPlanner(element_name_plan);\r\nwindow.neuron_map = new NeuronMap(element_name_map, element_name_help, window.neuron_planner);\r\nwindow.neuron_brief = new NeuronBrief(window.neuron_planner, element_name_brief);\r\nwindow.neuron_statistics = new NeuronStatistics(window.neuron_planner, window.neuron_brief, element_prefix_stats);\r\nwindow.neuron_help = new NeuronHelp(element_prefix_help, elements_ignore_help);\r\n\r\nfunction show_loader(show:boolean) {\r\n    const el_loader = document.getElementById(element_name_loader);\r\n    const el_app = document.getElementById(element_name_app);\r\n    el_loader.style.display = show ? 'flex' : 'none';\r\n    el_app.style.display = show ? 'none' : 'flex';\r\n}\r\n\r\nfunction dragOverHandler(event:DragEvent) {\r\n    // console.log('File(s) in drop zone');\r\n\r\n    // Prevent default behavior (Prevent file from being opened)\r\n    event.preventDefault();\r\n}\r\n\r\nfunction dragDropHandler(event:DragEvent) {\r\n    event.preventDefault();\r\n    const kmx_types = get_supported_kmx_types();\r\n    for(const file of event.dataTransfer.items) {\r\n        if(file.type == 'application/json') {\r\n            window.neuron_planner.load_mission_file(file.getAsFile());\r\n        } else if (kmx_types.includes(file.type)) {\r\n            window.neuron_planner.import_features_from_kmx(file.getAsFile());\r\n        }\r\n    }\r\n}\r\n\r\nlet load_app_data = async () => {\r\n    //Do the FA switch-out for our DOM icons\r\n    neuron_load_dom_icons();\r\n\r\n    //Need to do this next, because many of the following need to known their final size on reset\r\n    show_loader(false);\r\n\r\n    window.neuron_planner.reset();\r\n    window.neuron_map.reset();\r\n    window.neuron_statistics.reset();\r\n    window.neuron_brief.reset();\r\n    window.neuron_help.reset();\r\n\r\n    window.neuron_planner.set_map(window.neuron_map);\r\n    window.neuron_planner.on_mission_change(window.neuron_statistics.update_statistics.bind(window.neuron_statistics));\r\n\r\n    let el_app = document.getElementById(element_name_map);\r\n    el_app.ondrop = dragDropHandler;\r\n    el_app.ondragover = dragOverHandler;\r\n\r\n    //Update the map location if we can get the user's current location\r\n    navigator.geolocation.getCurrentPosition( async (location) => {\r\n        window.neuron_map.set_location(new NeuronInterfacePoint(location.coords.latitude, location.coords.longitude));\r\n    });\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', load_app_data, false);\r\nwindow.addEventListener('beforeprint', (event) => {\r\n    //Turn off the map tools\r\n    window.neuron_map.toggle_map_tools(false);\r\n    //Turn off the map tools\r\n    window.neuron_map.show_map_help(false);\r\n    //Set the size of the map, and reset it to fit the new size\r\n    const map = document.getElementById(element_name_map);\r\n    // map.style.width = `${print_size_with_margin_mm.width}mm`;\r\n    // map.style.height = `${print_size_with_margin_mm.height}mm`;\r\n    // window.neuron_map.reset();\r\n    //Position all visible elements on the map\r\n    const side_pad = 50;\r\n\r\n    let pl = side_pad;\r\n    let pr = side_pad;\r\n    if(print_size_with_margin_px.width > map.offsetWidth) {\r\n        const diff = print_size_with_margin_px.width - map.offsetWidth;\r\n        pr = -diff + side_pad;\r\n    } else {\r\n        pr = side_pad + (map.offsetWidth - print_size_with_margin_px.width);\r\n    }\r\n\r\n    let pt = side_pad;\r\n    let pb = side_pad;\r\n    if(print_size_with_margin_px.height > map.offsetHeight) {\r\n        const diff = print_size_with_margin_px.height - map.offsetHeight;\r\n        pb = -diff + side_pad;\r\n    } else {\r\n        pb = side_pad + (map.offsetHeight - print_size_with_margin_px.height);\r\n    }\r\n\r\n    window.neuron_planner.fit_mission_on_map(true, pl, pt, pr, pb);\r\n\r\n    //Generate the brief\r\n    window.neuron_brief.update_mission_brief();\r\n});\r\n\r\nwindow.addEventListener('afterprint', (event) => {\r\n    //Turn off the map tools\r\n    window.neuron_map.toggle_map_tools(true);\r\n    //Set the size of the map, and reset it to fit the new size\r\n    const map = document.getElementById(element_name_map);\r\n    map.style.width = `auto`;\r\n    map.style.height = `auto`;\r\n    window.neuron_map.reset();\r\n    //Position all visible elements on the map\r\n    // window.neuron_planner.fit_mission_on_map();\r\n});\r\n","\r\n// import '@fortawesome/fontawesome-free/js/fontawesome'\r\n// import '@fortawesome/fontawesome-free/js/solid'\r\n\r\nimport { icon, dom, library } from '@fortawesome/fontawesome-svg-core'\r\nimport { faArrowDown, faArrowLeft, faArrowRight, faArrowUp, faBars, faClose, faDrawPolygon, faEye, faEyeSlash, faFile, faFileExport, faFileImport, faFolderOpen, faLocationCrosshairs, faLocationDot, faMinimize, faMinus, faPlus, faQuestionCircle, faSave, faTrash, faUpload } from '@fortawesome/free-solid-svg-icons'\r\n\r\n// const faPlusIcon = icon(faFolderOpen)\r\n\r\n// // Get the first element out of the HTMLCollection\r\n// document.appendChild(faPlusIcon.node[0])\r\n\r\nexport enum NeuronIcons {\r\n    LOAD_PLAN,\r\n    SAVE_PLAN,\r\n    CLEAR_PLAN,\r\n    UPLOAD_PLAN,\r\n    CREATE_BRIEF,\r\n    PLAN_LIST,\r\n    HELP,\r\n    MINIMIZE,\r\n    EXPAND,\r\n    ARROW_UP,\r\n    ARROW_DOWN,\r\n    ARROW_LEFT,\r\n    ARROW_RIGHT,\r\n    DELETE,\r\n    IDENTIFY,\r\n    REVEAL,\r\n    HIDE,\r\n    FIT_ZOOM,\r\n    POINT,\r\n    POLYGON,\r\n    IMPORT_FILE,\r\n    EXPORT_FILE,\r\n}\r\n\r\nfunction _neuron_get_icon_fa(neuron_icon:NeuronIcons) {\r\n    let i = null;\r\n\r\n    switch(neuron_icon) {\r\n        case NeuronIcons.LOAD_PLAN: {\r\n            i = faFolderOpen;\r\n            break\r\n        }\r\n        case NeuronIcons.SAVE_PLAN: {\r\n            i = faSave;\r\n            break;\r\n        }\r\n        case NeuronIcons.CLEAR_PLAN: {\r\n            i = faTrash;\r\n            break;\r\n        }\r\n        case NeuronIcons.UPLOAD_PLAN: {\r\n            i = faUpload;\r\n            break;\r\n        }\r\n        case NeuronIcons.CREATE_BRIEF: {\r\n            i = faFile;\r\n            break;\r\n        }\r\n        case NeuronIcons.PLAN_LIST: {\r\n            i = faBars;\r\n            break;\r\n        }\r\n        case NeuronIcons.HELP: {\r\n            i = faQuestionCircle;\r\n            break;\r\n        }\r\n        case NeuronIcons.ARROW_UP: {\r\n            i = faArrowUp;\r\n            break;\r\n        }\r\n        case NeuronIcons.ARROW_DOWN: {\r\n            i = faArrowDown;\r\n            break;\r\n        }\r\n        case NeuronIcons.ARROW_LEFT: {\r\n            i = faArrowLeft;\r\n            break;\r\n        }\r\n        case NeuronIcons.ARROW_RIGHT: {\r\n            i = faArrowRight;\r\n            break;\r\n        }\r\n        case NeuronIcons.DELETE: {\r\n            i = faClose;\r\n            break;\r\n        }\r\n        case NeuronIcons.IDENTIFY: {\r\n            i = faLocationCrosshairs;\r\n            break;\r\n        }\r\n        case NeuronIcons.REVEAL: {\r\n            i = faEye;\r\n            break;\r\n        }\r\n        case NeuronIcons.HIDE: {\r\n            i = faEyeSlash;\r\n            break;\r\n        }\r\n        case NeuronIcons.MINIMIZE: {\r\n            i = faMinus;\r\n            break;\r\n        }\r\n        case NeuronIcons.EXPAND: {\r\n            i = faPlus;\r\n            break;\r\n        }\r\n        case NeuronIcons.FIT_ZOOM: {\r\n            i = faMinimize;\r\n            break;\r\n        }\r\n        case NeuronIcons.POINT: {\r\n            i = faLocationDot;\r\n            break;\r\n        }\r\n        case NeuronIcons.POLYGON: {\r\n            i = faDrawPolygon;\r\n            break;\r\n        }\r\n        case NeuronIcons.IMPORT_FILE: {\r\n            i = faFileImport;\r\n            break;\r\n        }\r\n        case NeuronIcons.EXPORT_FILE: {\r\n            i = faFileExport;\r\n            break;\r\n        }\r\n        default: {\r\n            break;\r\n        }\r\n    }\r\n\r\n    return i;\r\n}\r\n\r\nexport function neuron_load_dom_icons() {\r\n    //Handle the DOM conversions for hard-coded icons\r\n    for(const icon_name in NeuronIcons) {\r\n        const icon_id = Number(icon_name);\r\n        if (!isNaN(icon_id)) {\r\n            //XXX: Slight abuse of the enum, but it gets results!\r\n            const i = _neuron_get_icon_fa(icon_id);\r\n            if(i)\r\n                library.add(i);\r\n        }\r\n    }\r\n\r\n    dom.i2svg();\r\n}\r\n\r\nexport function neuron_get_icon(neuron_icon:NeuronIcons, is_small:boolean = false) {\r\n    let i = _neuron_get_icon_fa(neuron_icon);\r\n    let opts = {\r\n        transform: {\r\n          size: is_small ? 10 : 16,     // small is fa-2xs\r\n        }\r\n    }\r\n    return i ? icon(i, opts).node : new HTMLCollection();\r\n}\r\n","import * as L from \"leaflet\";\r\nimport 'leaflet/dist/leaflet.css';\r\nimport { NeuronIcons, neuron_get_icon } from \"./interface_fontawesome\";\r\n// @ts-ignore\r\n//import * as ContextMenu from \"leaflet-contextmenu\";\r\n// import 'leaflet-contextmenu/dist/leaflet.contextmenu.css';\\\r\n// @ts-ignore\r\n// import * as FileLoader from 'leaflet-filelayer'\r\n\r\n// delete L.Icon.Default.prototype._getIconUrl;\r\n//XXX: Fix the image paths loaded by leaflet\r\n\r\nconst default_icon_options = {\r\n    iconUrl: require('leaflet/dist/images/marker-icon.png'),\r\n    shadowUrl: require('leaflet/dist/images/marker-shadow.png'),\r\n    iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\r\n}\r\nL.Icon.Default.mergeOptions(default_icon_options);\r\n\r\nexport function get_neuron_map_marker(class_name:string) {\r\n    return new L.Icon({\r\n        ...L.Icon.Default.prototype.options,\r\n        className: class_name\r\n    });\r\n}\r\n\r\n//require('leaflet/dist/images/layers.png')\r\n//require('leaflet/dist/images/layers-2x.png')\r\n\r\n//const cm = ContextMenu;\r\n// const fl = FileLoader;\r\n\r\nexport { L };\r\n\r\nexport class LeafletContextMenuItem {\r\n    text:string = \"\";\r\n    icon:NeuronIcons;\r\n    callback: (contextTarget:L.Marker) => null;\r\n\r\n    constructor(text:string = \"\", icon:NeuronIcons = null, callback:(contextTarget:L.Marker) => null = null) {\r\n        this.text = text;\r\n        this.icon = icon;\r\n\r\n        if(callback)\r\n            this.callback = callback;\r\n    }\r\n}\r\n\r\nexport function create_popup_context_dom(popup_title:string = \"Marker\", context_items:LeafletContextMenuItem[] = [], marker_context:L.Marker = null) {\r\n    let dom = document.createElement(\"div\");\r\n    dom.className = 'neuron-marker-popup';\r\n\r\n    let t = document.createElement(\"div\");\r\n    t.className = 'neuron-marker-popup-title';\r\n    t.appendChild(document.createTextNode(popup_title));\r\n    dom.appendChild(t);\r\n\r\n    for(const i of context_items) {\r\n        if(i) {\r\n            let d = document.createElement(\"div\");\r\n            d.className = 'neuron-marker-popup-item';\r\n\r\n            if(i.icon) {\r\n                for(let ic of neuron_get_icon(i.icon)) {\r\n                    ic.classList.add('neuron-marker-popup-icon');\r\n                    d.appendChild(ic);\r\n                }\r\n                // let o = document.createElement('i');\r\n                // o.className = `fas ${i.icon} neuron-marker-popup-icon`;\r\n                // o.appendChild(document.createTextNode(i.text));\r\n                // d.appendChild(o);\r\n            }\r\n\r\n            let s = document.createElement('span');\r\n            s.className = 'neuron-marker-popup-item-text';\r\n            s.appendChild(document.createTextNode(i.text));\r\n            d.appendChild(s);\r\n\r\n            if(i.callback) {\r\n                d.onclick = function() {\r\n                    return i.callback(marker_context);\r\n                };\r\n            }\r\n\r\n            dom.appendChild(d);\r\n        } else {\r\n            let d = document.createElement(\"hr\");\r\n            d.className = 'neuron-marker-popup-break';\r\n            dom.appendChild(d);\r\n        }\r\n    }\r\n\r\n    return dom;\r\n}\r\n","import proj4 from 'proj4';\r\nimport { NeuronInterfacePoint } from \"./neuron_interfaces\";\r\nimport { zero_pad } from \"./neuron_tools_common\";\r\n\r\nfunction EPSG_code_from_utm_zone(zone:number, is_south:boolean) {\r\n    const zf = Math.floor(zone);\r\n    if (zf <= 0 || zf > 60)\r\n        throw new Error(`Zone out of range (${zone}|${zf})`);\r\n\r\n    return `EPSG:326${zero_pad(zf, 2)}${is_south ? 'S' : 'N'}`;\r\n}\r\n\r\n//Predefine all of our zones\r\n// https://epsg.io/32600\r\nfor(let i = 1; i <= 60; i++) {\r\n    let projection = `+proj=utm +zone=${i}`;\r\n    proj4.defs(EPSG_code_from_utm_zone(i, false), projection);\r\n    proj4.defs(EPSG_code_from_utm_zone(i, true), projection + \" +south\");\r\n}\r\n\r\nfunction get_UTM_is_south(latitude_or_zone:number) {\r\n    return (latitude_or_zone < 0);\r\n}\r\n\r\nfunction get_UTM_zone(latitude:number, longitude:number) {\r\n    let zone = Math.floor((longitude - -186.0) / 6.0);\r\n    if (get_UTM_is_south(latitude))\r\n        zone *= -1;\r\n\r\n    return zone;\r\n}\r\n\r\nexport class UTMPos {\r\n    x:number;\r\n    y:number;\r\n    zone:number;\r\n    tag:string;\r\n\r\n    constructor(x:number=0.0, y:number=0.0, zone:number=0.0, tag:string=\"\") {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.zone = zone;\r\n        this.tag = tag;\r\n    }\r\n\r\n    equals(other:UTMPos, match_tag:boolean = false) {\r\n        return (this.x == other.x) && (this.y == other.y) && (this.zone == other.zone) && (!match_tag || (this.tag == other.tag));\r\n    }\r\n\r\n    copy(tag:string=null) {\r\n        return new UTMPos(this.x, this.y, this.zone, tag ? tag : this.tag);\r\n    }\r\n\r\n    relative_point_from_dist_bearing(bearing:number, distance:number, tag:string = \"\") {\r\n        let degN = 90 - bearing;\r\n        if (degN < 0)\r\n            degN += 360;\r\n\r\n        const deg2rad = Math.PI/180.0;\r\n\r\n        return new UTMPos(\r\n            this.x + distance * Math.cos(degN * deg2rad),\r\n            this.y + distance * Math.sin(degN * deg2rad),\r\n            this.zone,\r\n            tag\r\n        );\r\n    }\r\n\r\n    GetDistance2D(b:UTMPos) {\r\n        return Math.sqrt(Math.pow(Math.abs(this.x - b.x), 2) + Math.pow(Math.abs(this.y - b.y), 2));\r\n    }\r\n\r\n    to_NeuronInterfacePoint() {\r\n        let p = proj4(\r\n            EPSG_code_from_utm_zone(\r\n                Math.abs(this.zone),\r\n                get_UTM_is_south(this.zone)),\r\n            NeuronInterfacePoint.projection_code(),\r\n            [this.x, this.y]\r\n        );\r\n\r\n        //p given as [lng, lat]\r\n        return new NeuronInterfacePoint(p[1], p[0], 0.0, 0.0, this.tag);\r\n    }\r\n\r\n    /**\r\n     * @param  {NeuronInterfacePoint} point Point to create the transformation from\r\n     * @param  {number=null} zone Zone override to use during the projection\r\n     * @param  {string=\"\"} tag Additional tag information for this point\r\n     */\r\n    static from_NeuronInterfacePoint(point:NeuronInterfacePoint, zone:number = null) {\r\n        if (!zone)\r\n            zone = get_UTM_zone(point.latitude, point.longitude);\r\n\r\n        let p = proj4(\r\n            NeuronInterfacePoint.projection_code(),\r\n            EPSG_code_from_utm_zone(\r\n                Math.abs(zone),\r\n                get_UTM_is_south(zone)),\r\n            [point.longitude, point.latitude]\r\n        );\r\n\r\n        //p given as [x, y]\r\n        return new UTMPos(p[0], p[1], zone, point.tag);\r\n    }\r\n}\r\n\r\nexport class UTMLine {\r\n    // start of line\r\n    p1:UTMPos;\r\n    // end of line\r\n    p2:UTMPos;\r\n    // used as a base for grid along line (initial setout)\r\n    base_pnt:UTMPos;\r\n\r\n    constructor(p1:UTMPos, p2:UTMPos, base_pnt:UTMPos) {\r\n        this.p1 = p1;\r\n        this.p2 = p2;\r\n        this.base_pnt = base_pnt;\r\n    }\r\n}\r\n","// import { NeuronFeatureBase } from \"./neuron_feature_base\";\r\nimport { NeuronFeatureWaypoint } from \"./neuron_feature_waypoint\";\r\n// import { NeuronFeaturePolygon } from \"./neuron_feature_polygon\";\r\nimport { NeuronFeatureSurvey } from \"./neuron_feature_survey\";\r\nimport { NeuronInterfacePoint } from \"./neuron_interfaces\";\r\nimport { NeuronOptions, NeuronOptionsNumber } from \"./neuron_options\";\r\n\r\nimport { MissionFeature, NeuronPlanner } from \"./neuron_planner\";\r\nimport { flight_distance_from_coords, flight_time_from_duration } from \"./neuron_tools_common\";\r\nimport { NeuronFeaturePoint } from \"./neuron_feature_point\";\r\nimport { NeuronFeaturePolygon } from \"./neuron_feature_polygon\";\r\n\r\n// const zeroPad = (num:number, places:number) => String(num).padStart(places, '0');\r\n\r\nexport interface MissionBriefComponent {\r\n    field1:string,\r\n    field2:string,\r\n    field3:string\r\n}\r\n\r\nexport interface MissionBriefItem {\r\n    type:string,\r\n    description:string,\r\n    components:MissionBriefComponent[],\r\n    time_transit:string,\r\n    time_duration:string\r\n}\r\n\r\nexport interface MissionSummary {\r\n    brief:MissionBriefItem[],\r\n    total_duration:number,\r\n    total_distance:number,\r\n    total_images:number\r\n}\r\n\r\nexport class NeuronBrief {\r\n    // static TYPE = 'NeuronBrief';\r\n    // static VERSION = 'bb92b580-d319-11ec-8818-bfb4bc4aa250';\r\n\r\n    #planner:NeuronPlanner;\r\n    #brief_element:HTMLElement;\r\n    #brief_element_name:string;\r\n\r\n    constructor(planner:NeuronPlanner, brief_element_name:string) {\r\n        this.#planner = planner;\r\n        this.#brief_element = null;\r\n        this.#brief_element_name = brief_element_name\r\n    }\r\n\r\n    reset() {\r\n        this.#brief_element = document.getElementById(this.#brief_element_name);\r\n    }\r\n\r\n    update_mission_brief() {\r\n        const mission_features = this.#planner.get_mission_items();\r\n        const notables = this.get_mission_notables(mission_features);\r\n        const summary = this.get_mission_summary(mission_features);\r\n\r\n        this.#brief_element.innerHTML = '';\r\n        let title = document.createElement('h1');\r\n        title.appendChild(document.createTextNode(\"Mission Brief\"));\r\n        this.#brief_element.appendChild(title);\r\n\r\n\r\n        let table = document.createElement('div');\r\n        table.className = 'brief-table';\r\n\r\n        if(notables.length) {\r\n            let t1 = document.createElement('h2');\r\n            t1.className = 'brief-table-title';\r\n            t1.appendChild(document.createTextNode(\"Points of Interest\"));\r\n            table.appendChild(t1);\r\n\r\n            const headings = [\r\n                \"Item\",\r\n                \"Type\",\r\n                \"Description\",\r\n                \"Features\",\r\n                \"\",\r\n                \"\",\r\n                \"\",\r\n                \"\",\r\n            ]\r\n\r\n            // let table = document.createElement('div');\r\n            // table.className = 'brief-table';\r\n            for(const h of headings) {\r\n                let th = document.createElement('div');\r\n                th.className = 'brief-table-header';\r\n                th.appendChild(document.createTextNode(h));\r\n                table.appendChild(th);\r\n            }\r\n\r\n            // for(let j = 0; j < row_step; j++) {\r\n            //     if(i + j >= rows.length)\r\n            //         break;\r\n\r\n            //     table.appendChild(rows[i + j]);\r\n            // }\r\n\r\n\r\n            let count = 0;\r\n            for(const item of notables) {\r\n                count++;\r\n                //XXX: Check item.type for special cases of bold tallies\r\n                const content = [\r\n                    item.type ? count.toString() : \"\",\r\n                    item.type,\r\n                    item.description,\r\n                    item.components.length ? item.components[0].field1 : \"\",\r\n                    item.components.length ? item.components[0].field2 : \"\",\r\n                    item.components.length ? item.components[0].field3 : \"\",\r\n                    \"\",\r\n                    \"\"\r\n                ];\r\n\r\n                const ind_values_start = 3;\r\n                for(let j=0; j<content.length; j++) {\r\n                    let td = document.createElement('div');\r\n                    td.appendChild(document.createTextNode(content[j]));\r\n                    if((j == 0) || (j >= ind_values_start))\r\n                        td.classList.add('brief-table-entry-right');\r\n                    if(!item.type)\r\n                        td.classList.add('brief-table-entry-bold');\r\n                    td.classList.add('brief-table-entry');\r\n                    table.appendChild(td);\r\n                }\r\n\r\n                //Handle case of multiple components (skipped if one or less)\r\n                for(let i = 1; i<item.components.length; i++) {\r\n                    const content = [\r\n                        \"\",\r\n                        \"\",\r\n                        \"\",\r\n                        item.components[i].field1,\r\n                        item.components[i].field2,\r\n                        item.components[i].field3,\r\n                        \"\",\r\n                        \"\"\r\n                    ]\r\n\r\n                    for(const h of content) {\r\n                        let td = document.createElement('div');\r\n                        td.appendChild(document.createTextNode(h));\r\n                        td.className = 'brief-table-entry-right brief-table-entry';\r\n                        table.appendChild(td);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        if(summary.brief.length) {\r\n            let t2 = document.createElement('h2');\r\n            t2.className = 'brief-table-title';\r\n            t2.appendChild(document.createTextNode(\"Flight Plan\"));\r\n            table.appendChild(t2);\r\n\r\n            const headings = [\r\n                \"Step\",\r\n                \"Type\",\r\n                \"Description\",\r\n                \"Features\",\r\n                \"\",\r\n                \"\",\r\n                \"Transit\",\r\n                \"Duration\",\r\n            ]\r\n\r\n            // let table = document.createElement('div');\r\n            // table.className = 'brief-table';\r\n            for(const h of headings) {\r\n                let th = document.createElement('div');\r\n                th.className = 'brief-table-header';\r\n                th.appendChild(document.createTextNode(h));\r\n                table.appendChild(th);\r\n            }\r\n\r\n            // for(let j = 0; j < row_step; j++) {\r\n            //     if(i + j >= rows.length)\r\n            //         break;\r\n\r\n            //     table.appendChild(rows[i + j]);\r\n            // }\r\n\r\n\r\n            let count = 0;\r\n            for(const item of summary.brief) {\r\n                count++;\r\n                //XXX: Check item.type for special cases of bold tallies\r\n                const content = [\r\n                    item.type ? count.toString() : \"\",\r\n                    item.type,\r\n                    item.description,\r\n                    item.components.length ? item.components[0].field1 : \"\",\r\n                    item.components.length ? item.components[0].field2 : \"\",\r\n                    item.components.length ? item.components[0].field3 : \"\",\r\n                    item.time_transit,\r\n                    item.time_duration\r\n                ];\r\n\r\n                const ind_values_start = 3;\r\n                for(let j=0; j<content.length; j++) {\r\n                    let td = document.createElement('div');\r\n                    td.appendChild(document.createTextNode(content[j]));\r\n                    if((j == 0) || (j >= ind_values_start))\r\n                        td.classList.add('brief-table-entry-right');\r\n                    if(!item.type)\r\n                        td.classList.add('brief-table-entry-bold');\r\n                    td.classList.add('brief-table-entry');\r\n                    table.appendChild(td);\r\n                }\r\n\r\n                //Handle case of multiple components (skipped if one or less)\r\n                for(let i = 1; i<item.components.length; i++) {\r\n                    const content = [\r\n                        \"\",\r\n                        \"\",\r\n                        \"\",\r\n                        item.components[i].field1,\r\n                        item.components[i].field2,\r\n                        item.components[i].field3,\r\n                        \"\",\r\n                        \"\"\r\n                    ]\r\n\r\n                    for(const h of content) {\r\n                        let td = document.createElement('div');\r\n                        td.appendChild(document.createTextNode(h));\r\n                        td.className = 'brief-table-entry-right brief-table-entry';\r\n                        table.appendChild(td);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        this.#brief_element.appendChild(table);\r\n\r\n        if(!notables.length && !summary.brief.length){\r\n            let td = document.createElement('div');\r\n            td.appendChild(document.createTextNode(\"No mission brief available.\"));\r\n            this.#brief_element.appendChild(td);\r\n        }\r\n    }\r\n\r\n    static get_components_from_point(point:NeuronInterfacePoint) {\r\n        return <MissionBriefComponent>{\r\n            field1: point.toStringLatitude(),\r\n            field2: point.toStringLongitude(),\r\n            field3: point.toStringAltitude(),\r\n        }\r\n    }\r\n\r\n\r\n    get_mission_notables(mission_features:MissionFeature[]) {\r\n        let notables:MissionBriefItem[] = [];\r\n\r\n        for(const item of mission_features) {\r\n            let step:MissionBriefItem = null;\r\n\r\n            if(!item.is_flyable()) {\r\n                if(item instanceof NeuronFeaturePoint) {\r\n                    const point = item.get_point();\r\n                    step = {\r\n                        type: NeuronFeaturePoint.NAME,\r\n                        description: (point && point.tag) ? point.tag : \"Point of interest\",\r\n                        components: [point ? NeuronBrief.get_components_from_point(point) : {\r\n                            field1: \"\",\r\n                            field2: \"\",\r\n                            field3: \"\",\r\n                        }],\r\n                        time_duration: \"\",\r\n                        time_transit: \"\"\r\n                    };\r\n                // } else if(item instanceof NeuronFeaturePolygon) {\r\n                } else if(item instanceof NeuronFeaturePolygon) {\r\n                    const corners = item.get_corners_as_points();\r\n                    const tag = item.get_label();\r\n                    step = {\r\n                        type: NeuronFeaturePolygon.NAME,\r\n                        description: (tag) ? tag : \"Area of interest\",\r\n                        components: corners.map(x => NeuronBrief.get_components_from_point(x)),\r\n                        time_duration: \"\",\r\n                        time_transit: \"\",\r\n                    };\r\n                }\r\n            }\r\n\r\n           if(step)\r\n                notables.push(step);\r\n        }\r\n\r\n        return notables;\r\n    }\r\n\r\n    get_mission_summary(mission_features:MissionFeature[]) {\r\n        let summary:MissionSummary = {\r\n            brief: [],\r\n            total_distance: 0,\r\n            total_duration: 0,\r\n            total_images: 0\r\n        }\r\n        const steps = this.#planner.get_mission_as_points();\r\n        let takeoff_duration = 0;\r\n        let land_duration = 0;\r\n        let extra_mission_duration = 0;\r\n        let takeoff_distance = 0;\r\n        let land_distance = 0;\r\n\r\n        if(steps.length) {\r\n            //Get the flight speed and lock it to at least 0.1m/s\r\n            const s = NeuronOptions.get_option_number(NeuronOptionsNumber.MISSION_SPEED);\r\n            const flight_speed = Math.max(s ? s : 0.0, 0.1);\r\n\r\n            let point_last = null;\r\n            // let time_takeoff = \"\";\r\n            let takeoff_point = steps[0];\r\n            if(takeoff_point.altitude != 0) {\r\n                takeoff_point = new NeuronInterfacePoint(steps[0].latitude, steps[0].longitude, 0.0);\r\n                const takeoff_coords = [takeoff_point, steps[0]];\r\n                takeoff_distance = flight_distance_from_coords(takeoff_coords);\r\n                takeoff_duration = takeoff_distance/flight_speed;\r\n                point_last = takeoff_point;\r\n                // time_takeoff = \"+\" + flight_time_from_duration(takeoff_duration);\r\n            }\r\n\r\n            let step0:MissionBriefItem = {\r\n                type: NeuronFeatureWaypoint.NAME,\r\n                description: \"Take-off at location\",\r\n                components: [NeuronBrief.get_components_from_point(takeoff_point)],\r\n                time_duration: \"\",\r\n                time_transit: \"\",\r\n            };\r\n\r\n            summary.brief.push(step0);\r\n\r\n            for(const item of mission_features) {\r\n                let path = item.get_path_coords();\r\n\r\n                let time_transit = \"\";\r\n                if(path.length && point_last) {\r\n                    const transit_coords = [point_last, path[0]];\r\n                    const transit_distance = flight_distance_from_coords(transit_coords);\r\n                    time_transit = \"+\" + flight_time_from_duration(transit_distance/flight_speed);\r\n                }\r\n\r\n                let step:MissionBriefItem = null;\r\n                if(item.is_flyable()) {\r\n                    if(item instanceof NeuronFeatureWaypoint) {\r\n                        const wait = item.get_wait_duration();\r\n                        extra_mission_duration += wait;\r\n                        const image_count = item.get_image_count();\r\n                        step = {\r\n                            type: NeuronFeatureWaypoint.NAME,\r\n                            description: \"Fly to location\" + (image_count ? ' and capture image' : ''),\r\n                            components: path.map(x => NeuronBrief.get_components_from_point(x)),\r\n                            time_duration: wait > 0 ? \"+\" + flight_time_from_duration(wait) : \"\",\r\n                            time_transit: time_transit\r\n                        };\r\n                        summary.total_images += image_count;\r\n                    } else if(item instanceof NeuronFeatureSurvey) {\r\n                        let corners = item.get_corners_as_points();\r\n                        const step_distance = flight_distance_from_coords(path);\r\n                        const step_duration = \"+\" + flight_time_from_duration(step_distance/flight_speed);\r\n                        step = {\r\n                            type: NeuronFeatureSurvey.NAME,\r\n                            description: \"Survey area with bounds\",\r\n                            components: corners.map(x => NeuronBrief.get_components_from_point(x)),\r\n                            time_duration: step_duration,\r\n                            time_transit: time_transit,\r\n                        };\r\n                        summary.total_images += item.get_image_count();\r\n                    }\r\n                }\r\n\r\n                if(path.length)\r\n                    point_last = path[path.length - 1];\r\n\r\n                if(step)\r\n                summary.brief.push(step);\r\n            }\r\n\r\n            let time_land = \"\";\r\n            let land_point = point_last;\r\n            let land_component:MissionBriefComponent = {\r\n                field1: \"\",\r\n                field2: \"\",\r\n                field3: \"\"\r\n            };\r\n            if(land_point && land_point.altitude != 0) {\r\n                land_point = new NeuronInterfacePoint(point_last.latitude, point_last.longitude, 0.0);\r\n                land_component = NeuronBrief.get_components_from_point(land_point);\r\n                const land_coords = [point_last, land_point];\r\n                land_distance = flight_distance_from_coords(land_coords);\r\n                land_duration = land_distance/flight_speed;\r\n                time_land = \"+\" + flight_time_from_duration(land_duration);\r\n            }\r\n\r\n            let step_n:MissionBriefItem = {\r\n                type: NeuronFeatureWaypoint.NAME,\r\n                description: \"Land at location\",\r\n                components: [land_component],\r\n                time_duration: time_land,\r\n                time_transit: \"\"\r\n            };\r\n            summary.brief.push(step_n);\r\n\r\n            summary.total_distance = flight_distance_from_coords(steps) + takeoff_distance + land_distance;\r\n            const total_transit_duration = summary.total_distance/flight_speed;\r\n            summary.total_duration = total_transit_duration + takeoff_duration + land_duration + extra_mission_duration;\r\n            const total_time = flight_time_from_duration(summary.total_duration);\r\n\r\n            let step_total_time:MissionBriefItem= {\r\n                type: \"\",\r\n                description: \"\",\r\n                components: [{\r\n                    field1: \"\",\r\n                    field2: \"\",\r\n                    field3: \"\",\r\n                }],\r\n                time_transit: \"Duration:\",\r\n                time_duration: total_time,\r\n            };\r\n            summary.brief.push(step_total_time);\r\n\r\n            let step_total_distance:MissionBriefItem = {\r\n                type: \"\",\r\n                description: \"\",\r\n                components: [{\r\n                    field1: \"\",\r\n                    field2: \"\",\r\n                    field3: \"\",\r\n                }],\r\n                time_transit: \"Distance:\",\r\n                time_duration: `${(summary.total_distance / 1000).toFixed(2)}km`,\r\n            };\r\n            summary.brief.push(step_total_distance);\r\n\r\n            let step_total_images:MissionBriefItem = {\r\n                type: \"\",\r\n                description: \"\",\r\n                components: [{\r\n                    field1: \"\",\r\n                    field2: \"\",\r\n                    field3: \"\",\r\n                }],\r\n                time_transit: \"Images:\",\r\n                time_duration: summary.total_images > 0 ? summary.total_images.toString() : \"\",\r\n            };\r\n            summary.brief.push(step_total_images);\r\n        }\r\n\r\n        return summary;\r\n    }\r\n}\r\n","import { NeuronUID } from \"./neuron_tools_common\";\r\n\r\nexport class NeuronDOMFactory {\r\n    #prefix:string;\r\n\r\n    constructor (css_prefix:string) {\r\n        this.#prefix = css_prefix;\r\n    }\r\n\r\n    _create_dom_label(text:string, input:(HTMLInputElement|HTMLSelectElement|HTMLButtonElement|HTMLOutputElement), description:string = null, hide_label:boolean=false) {\r\n        // let dom = document.createElement(\"div\");\r\n        // dom.className = `${this.#prefix}-content-item';\r\n\r\n        if (!input.id)\r\n            input.id = NeuronUID();\r\n\r\n        let l = document.createElement(\"label\");\r\n        l.className = `${this.#prefix}-content-label`;\r\n        l.htmlFor = input.id;\r\n        if(description)\r\n            l.title = description;\r\n        if(hide_label)\r\n            l.style.visibility = 'hidden';\r\n\r\n        l.appendChild(document.createTextNode(text));\r\n\r\n        // if(label_first) {\r\n        //     dom.appendChild(l);\r\n        //     dom.appendChild(input);\r\n        // } else {\r\n        //     dom.appendChild(input);\r\n        //     dom.appendChild(l);\r\n        // }\r\n        return l;\r\n    }\r\n\r\n    _create_dom_output(value:string=null) {\r\n        let dom = document.createElement(\"output\");\r\n        dom.className = `${this.#prefix}-content-value ${this.#prefix}-content-value-right`;\r\n        if(value != null)\r\n            dom.value = value;\r\n        return dom;\r\n    }\r\n\r\n    _create_dom_input_file(on_change:any, accepts:string = null) {\r\n        let dom = document.createElement(\"input\");\r\n        dom.type = \"file\";\r\n        if(accepts != null)\r\n            dom.accept = accepts;\r\n        dom.className = `${this.#prefix}-content-value`;\r\n        dom.onchange = on_change;\r\n        return dom;\r\n    }\r\n\r\n    _create_dom_input_button(text:string, on_change:any) {\r\n        let dom = document.createElement(\"button\");\r\n        dom.className = `${this.#prefix}-content-value ${this.#prefix}-content-value-center`;\r\n        dom.onclick = on_change;\r\n        dom.appendChild(document.createTextNode(text));\r\n        return dom;\r\n    }\r\n\r\n    _create_dom_input_textbox(value:string, on_change:any) {\r\n        let dom = document.createElement(\"input\");\r\n        dom.type = \"text\";\r\n        dom.value = value.toString();\r\n        dom.className = `${this.#prefix}-content-value`;\r\n        dom.onchange = on_change;\r\n        return dom;\r\n    }\r\n\r\n    _create_dom_input_number(value:number, on_change:any, min:number = null, max:number = null, step:number=null) {\r\n        let dom = document.createElement(\"input\");\r\n        dom.type = \"number\";\r\n        if(min != null)\r\n            dom.min = min.toString();\r\n        if(max != null)\r\n            dom.max = max.toString();\r\n        if(step != null)\r\n            dom.step = step.toString();\r\n        dom.value = value.toString();\r\n        dom.className = `${this.#prefix}-content-value ${this.#prefix}-content-value-right`;\r\n        dom.onchange = on_change;\r\n        return dom;\r\n    }\r\n\r\n    _create_dom_input_range(value:number, on_change:any, min:number, max:number, step:number=null) {\r\n        let dom = document.createElement(\"input\");\r\n        dom.type = \"range\";\r\n        dom.min = min.toString();\r\n        dom.max = max.toString();\r\n        if(step == null)\r\n            step = (max - min) / 100;\r\n        dom.step = step.toString();\r\n        dom.value = value.toString();\r\n        dom.className = `${this.#prefix}-content-value ${this.#prefix}-content-value-right`;\r\n        dom.onchange = on_change;\r\n        return dom;\r\n    }\r\n\r\n    _create_dom_input_checkbox(checked:boolean, on_change:any) {\r\n        let dom = document.createElement(\"input\");\r\n        dom.type = \"checkbox\";\r\n        dom.checked = checked;\r\n        dom.className = `${this.#prefix}-content-value ${this.#prefix}-content-value-right`;\r\n        dom.onchange = on_change;\r\n        return dom;\r\n    }\r\n\r\n    _create_dom_input_select(options:string[], labels:string[], on_change:any, selected_option:string=null) {\r\n        let dom = document.createElement(\"select\");\r\n\r\n        if(options.length != labels.length)\r\n            throw new Error(`Options list does not match labels list (${options.length} != ${labels.length})`);\r\n\r\n        //Create and append the options\r\n        for (let i = 0; i < options.length; i++) {\r\n            let option = document.createElement(\"option\");\r\n            option.value = options[i];\r\n            option.text = labels[i];\r\n            if(selected_option && selected_option==options[i])\r\n                option.selected = true;\r\n            dom.appendChild(option);\r\n        }\r\n        dom.className = `${this.#prefix}-content-value`;\r\n        dom.onchange = on_change;\r\n        return dom;\r\n    }\r\n}\r\n","import { NeuronIcons, neuron_get_icon } from \"./interface_fontawesome\";\r\nimport { L } from \"./interface_leaflet\";\r\nimport { NeuronDOMFactory } from \"./neuron_dom_factory\";\r\nimport { NeuronInterfacePoint} from \"./neuron_interfaces\";\r\nimport { NeuronUID } from \"./neuron_tools_common\";\r\n\r\nexport interface NeuronFeatureBaseData {\r\n    version:string,\r\n    type:string\r\n}\r\n\r\nexport class NeuronFeatureBase extends NeuronDOMFactory {\r\n    //XXX: Override this in any inherited classes\r\n    static NAME = \"[BASE FEATURE]\";\r\n    static TYPE = \"NeuronFeatureBase\";\r\n    static VERSION = '5caf31f0-d243-11ec-bbb3-df25a4f645e3';\r\n    static HELP_KEY = 'base';\r\n    static IS_FLYABLE = false;\r\n\r\n    #visible:boolean;\r\n    #map:L.Map;\r\n    #features:L.Layer[];\r\n    #hidden_features:L.Layer[];\r\n    #on_remove:CallableFunction;\r\n    #on_change:CallableFunction;\r\n    #on_move:CallableFunction;\r\n\r\n    #dom:HTMLDivElement;\r\n    #dom_buttons_visibility:HTMLButtonElement[];\r\n\r\n    static _altitude_ratio = 0.3048;   //ft -> m: `Alt = [DOM Value] * Ratio\r\n\r\n    //Add two sets of icons, one for each size button\r\n    static _button_sizes = [\r\n        'mission-feature-title-button',\r\n        'mission-feature-title-button-small'\r\n    ];\r\n\r\n    constructor(map:L.Map) {\r\n        super('mission-feature');\r\n\r\n        this.#visible = true;\r\n        this.#features = [];\r\n        this.#hidden_features = [];\r\n        this.#map = map;\r\n        this.#dom_buttons_visibility = [];\r\n        this.#dom = null;\r\n        this.set_remove_callback(null);\r\n        this.set_change_callback(null);\r\n        this.set_move_callback(null);\r\n    }\r\n\r\n    _trigger_on_changed() {\r\n        if(this.#on_change)\r\n            this.#on_change(this);\r\n    }\r\n\r\n    _add_layer_to_map(m:L.Layer) {\r\n        if(this.#map) {\r\n            if(this.#visible) {\r\n                m.addTo(this.#map);\r\n\r\n                // //XXX: Forbidden work to change the hue of the marker (must be done after adding to map)\r\n                // //@ts-ignore\r\n                // if(icon_adj && m._icon) {\r\n                //     //@ts-ignore\r\n                //     m._icon.classList.add(icon_adj);\r\n                // }\r\n\r\n                this.#features.push(m);\r\n            } else {\r\n                this.#hidden_features.push(m);\r\n            }\r\n            // m.on('remove', this._feature_removed.bind(this));\r\n        } else {\r\n            console.error('Error: no map reference set');\r\n        }\r\n    }\r\n\r\n    _remove_layer_from_map(m:L.Layer) {\r\n        let index_visible = this.#features.indexOf(m);\r\n        if(index_visible !== -1) {\r\n            this.#features.splice(index_visible, 1);\r\n            m.remove();\r\n        }\r\n\r\n        let index_hidden = this.#hidden_features.indexOf(m);\r\n        if(index_hidden !== -1) {\r\n            this.#features.splice(index_hidden, 1);\r\n            //XXX: These already do not exist on the map, so no need to remove!\r\n        }\r\n    }\r\n\r\n    #update_visibility_dom() {\r\n        if(this.#dom) {\r\n            if(this.#visible) {\r\n                this.#dom.classList.remove('mission-feature-hidden');\r\n            } else {\r\n                this.#dom.classList.add('mission-feature-hidden');\r\n            }\r\n        }\r\n    }\r\n\r\n    #update_visibility_icons() {\r\n        for(let but of this.#dom_buttons_visibility) {\r\n            const is_small = this.#use_small_icon(but.className);\r\n            but.innerHTML = '';\r\n            const icons = neuron_get_icon(this.#visible ? NeuronIcons.HIDE : NeuronIcons.REVEAL, is_small);\r\n            for(const i of icons)\r\n                but.appendChild(i);\r\n        }\r\n    }\r\n\r\n    #use_small_icon(button_class:string) {\r\n        return  button_class.includes('small');\r\n    }\r\n\r\n    #remove_mission_feature_highlight() {\r\n        if(this.#dom) {\r\n            this.#dom.classList.remove('mission-feature-highlight');\r\n            this.#dom.classList.add('mission-feature-highlight-remove');\r\n        }\r\n    }\r\n\r\n    _get_dom(text:string=\"Mission Feature\") {\r\n        this.#dom = document.createElement(\"div\");\r\n        this.#dom.id = `mission-item-${NeuronUID()}`;\r\n        this.#dom.className = 'mission-feature';\r\n\r\n        let title = document.createElement(\"div\");\r\n        title.className = 'mission-feature-title';\r\n\r\n        let t = document.createElement(\"div\");\r\n        t.className = 'mission-feature-title-text';\r\n        t.appendChild(document.createTextNode(text));\r\n        title.appendChild(t);\r\n\r\n        let d = document.createElement(\"div\");\r\n        d.className = 'mission-feature-title-button-container';\r\n\r\n        this.#dom_buttons_visibility = [];\r\n        for(const button_class of NeuronFeatureBase._button_sizes) {\r\n            const is_small = this.#use_small_icon(button_class);\r\n\r\n            let b0 = document.createElement(\"button\");\r\n            b0.className = button_class;\r\n            b0.title = \"Zoom to feature\";\r\n            b0.onclick = this.zoom_to_feature.bind(this);\r\n            for(const i of neuron_get_icon(NeuronIcons.IDENTIFY, is_small))\r\n                b0.appendChild(i);\r\n            // let b0i = document.createElement(\"i\");\r\n            // b0i.className = 'fas fa-location-crosshairs' + is_small;\r\n            // b0.appendChild(b0i);\r\n            d.appendChild(b0);\r\n\r\n            let bv = document.createElement(\"button\");\r\n            bv.className = button_class;\r\n            bv.title = \"Toggle feature visibility\";\r\n            bv.onclick = this.toggle_visibility.bind(this);\r\n            d.appendChild(bv);\r\n            this.#dom_buttons_visibility.push(bv);\r\n\r\n            let b1 = document.createElement(\"button\");\r\n            b1.className = button_class;\r\n            b1.title = \"Move up\";\r\n            b1.onclick = this.#request_move.bind(this, -1);\r\n            // let b1i = document.createElement(\"i\");\r\n            // b1i.className = 'fas fa-arrow-up' + is_small;\r\n            // b1.appendChild(b1i);\r\n            for(const i of neuron_get_icon(NeuronIcons.ARROW_UP, is_small))\r\n                b1.appendChild(i);\r\n            d.appendChild(b1);\r\n\r\n            let b2 = document.createElement(\"button\");\r\n            b2.className = button_class;\r\n            b2.title = \"Move down\";\r\n            b2.onclick = this.#request_move.bind(this, 1);\r\n            for(const i of neuron_get_icon(NeuronIcons.ARROW_DOWN, is_small))\r\n                b2.appendChild(i);\r\n            d.appendChild(b2);\r\n\r\n            let b4 = document.createElement(\"button\");\r\n            b4.className = button_class;\r\n            b4.title = \"Help\";\r\n            b4.onclick = this.show_help.bind(this);\r\n            for(const i of neuron_get_icon(NeuronIcons.HELP, is_small))\r\n                b4.appendChild(i);\r\n            d.appendChild(b4);\r\n\r\n            let b3 = document.createElement(\"button\");\r\n            b3.className = button_class;\r\n            b3.title = \"Remove\";\r\n            b3.onclick = this.remove_feature.bind(this);\r\n            for(const i of neuron_get_icon(NeuronIcons.DELETE, is_small))\r\n                b3.appendChild(i);\r\n            d.appendChild(b3);\r\n        }\r\n        title.appendChild(d);\r\n\r\n        this.#update_visibility_icons();\r\n        this.#update_visibility_dom();\r\n\r\n        this.#dom.appendChild(title);\r\n\r\n        return this.#dom;\r\n    }\r\n\r\n    // _create_dom_labelled_input(text:string, input:(HTMLInputElement|HTMLSelectElement|HTMLButtonElement), label_first:boolean=true, hide_label:boolean=false) {\r\n    //     let dom = document.createElement(\"div\");\r\n    //     dom.className = 'mission-feature-content-item';\r\n\r\n    //     if (!input.id)\r\n    //         input.id = NeuronUID();\r\n\r\n    //     let l = document.createElement(\"label\");\r\n    //     l.className = 'mission-feature-content-label';\r\n    //     l.htmlFor = input.id;\r\n    //     l.appendChild(document.createTextNode(text));\r\n    //     if(hide_label)\r\n    //         l.style.visibility = 'hidden';\r\n\r\n    //     if(label_first) {\r\n    //         dom.appendChild(l);\r\n    //         dom.appendChild(input);\r\n    //     } else {\r\n    //         dom.appendChild(input);\r\n    //         dom.appendChild(l);\r\n    //     }\r\n    //     return dom;\r\n    // }\r\n\r\n    #request_move(direction:number = 0) {\r\n        if(this.#on_move && direction != 0) {\r\n            if(this.#dom) {\r\n                this.#dom.classList.remove('mission-feature-highlight-remove');\r\n                this.#dom.classList.add('mission-feature-highlight');\r\n                setTimeout(this.#remove_mission_feature_highlight.bind(this), 1000);\r\n\r\n                // this.#dom.classList.add('mission-feature-moved');\r\n                // setTimeout(this.#remove_mission_feature_moved.bind(this), 300);\r\n            }\r\n\r\n            this.#on_move(this, direction);\r\n\r\n            if(this.#dom)\r\n                this.#dom.scrollIntoView();\r\n        }\r\n    }\r\n\r\n    // #remove_mission_feature_moved() {\r\n    //     if(this.#dom) {\r\n    //         this.#dom.classList.remove('mission-feature-moved');\r\n    //         // dom.classList.remove('mission-feature-moved-down');\r\n    //         this.#dom.scrollIntoView();\r\n    //     }\r\n    // }\r\n\r\n    set_remove_callback(on_remove:CallableFunction) {\r\n        this.#on_remove = on_remove;\r\n    }\r\n\r\n    set_change_callback(on_change:CallableFunction) {\r\n        this.#on_change = on_change;\r\n    }\r\n\r\n    set_move_callback(on_move:CallableFunction) {\r\n        this.#on_move = on_move;\r\n    }\r\n\r\n    get_features() {\r\n        return this.#features;\r\n    }\r\n\r\n    toggle_visibility() {\r\n        this.#visible = !this.#visible;\r\n        if(this.#visible) {\r\n            //Show layers\r\n            this.#features = [].concat(this.#hidden_features);\r\n            this.#hidden_features = [];\r\n\r\n            for(let feature of this.#features)\r\n                feature.addTo(this.#map);\r\n        } else {\r\n            //Hide layers\r\n            this.#hidden_features = [].concat(this.#features);\r\n            this.#features = [];\r\n\r\n            for(let feature of this.#hidden_features)\r\n                feature.remove();\r\n        }\r\n\r\n        this.#update_visibility_icons();\r\n        this.#update_visibility_dom();\r\n    }\r\n\r\n    zoom_to_feature() {\r\n        const group = L.featureGroup(this.#features);\r\n        this.#map.fitBounds(group.getBounds(), {\r\n            padding: [20, 20]\r\n        });\r\n    }\r\n\r\n\r\n    show_help() {\r\n        //XXX: Implement this per inherited feature\r\n        //XXX: Explicitly do use \"base\" key for the base feature\r\n        window.neuron_map.show_map_help(true);\r\n    }\r\n\r\n    remove_feature() {\r\n        //XXX: Implement this per inherited feature\r\n        if(this.#on_remove)\r\n            this.#on_remove(this);\r\n    }\r\n\r\n    is_flyable() {\r\n        return NeuronFeatureBase.IS_FLYABLE;\r\n    }\r\n\r\n    get_path_coords() {\r\n        //XXX: Implement this per inherited feature\r\n        const coords:NeuronInterfacePoint[] = [];\r\n        return coords;\r\n    }\r\n\r\n    get_dom() {\r\n        //XXX: Implement this per inherited feature\r\n        return this._get_dom();\r\n    }\r\n\r\n    static isObjectOfDataType(object: any): object is NeuronFeatureBaseData {\r\n        let is_valid =\r\n            (object.type == NeuronFeatureBase.TYPE) &&\r\n            (object.version == NeuronFeatureBase.VERSION);\r\n\r\n        return is_valid;\r\n    }\r\n\r\n    static from_json(j:NeuronFeatureBaseData, map:L.Map) {\r\n        //XXX: Implement this per inherited feature\r\n        if(!NeuronFeatureBase.isObjectOfDataType(j))\r\n            throw new Error(`Invalid type check during creation of NeuronFeatureBase`);\r\n\r\n        return new NeuronFeatureBase(map);\r\n    }\r\n\r\n    to_json() {\r\n        //XXX: Implement this per inherited feature\r\n        return <NeuronFeatureBaseData>{\r\n            version: NeuronFeatureBase.VERSION,\r\n            type: NeuronFeatureBase.TYPE\r\n        }\r\n    }\r\n}\r\n","import { NeuronFeatureBase } from \"./neuron_feature_base\";\r\nimport { NeuronInterfacePoint, NeuronInterfacePointData } from \"./neuron_interfaces\";\r\nimport { L, create_popup_context_dom, LeafletContextMenuItem, get_neuron_map_marker } from \"./interface_leaflet\";\r\nimport { NeuronHelp } from \"./neuron_help\";\r\nimport { NeuronPlanner } from \"./neuron_planner\";\r\nimport { NeuronIcons } from \"./interface_fontawesome\";\r\n\r\nexport interface NeuronFeaturePointData {\r\n    version:string,\r\n    type:string,\r\n    point:NeuronInterfacePointData\r\n}\r\n\r\nexport class NeuronFeaturePoint extends NeuronFeatureBase {\r\n    static override NAME = \"Point\";\r\n    static override TYPE = \"NeuronFeaturePoint\";\r\n    static override VERSION = 'cd512a90-dd55-11ec-8a8a-23c90341eb99';\r\n    static override HELP_KEY = 'point';\r\n\r\n    #planner:NeuronPlanner;\r\n    #marker:L.Marker;\r\n    #point:NeuronInterfacePoint;\r\n    #dom:HTMLDivElement;\r\n    #dom_label:HTMLInputElement;\r\n    #dom_lat:HTMLInputElement;\r\n    #dom_lon:HTMLInputElement;\r\n    #dom_alt:HTMLInputElement;\r\n    #dom_convert_waypoint:HTMLButtonElement;\r\n\r\n    constructor(map:L.Map, point:NeuronInterfacePoint=null, planner:NeuronPlanner = null) {\r\n        super(map);\r\n\r\n        this.#marker = null;\r\n        this.#point = null;\r\n        this.#dom = null;\r\n        this.#dom_label = null;\r\n        this.#dom_lat = null;\r\n        this.#dom_lon = null;\r\n        this.#dom_alt = null;\r\n        this.#dom_convert_waypoint = null;\r\n\r\n        this.set_planner(planner);\r\n\r\n        if(point)\r\n            this.set_point(point);\r\n    }\r\n\r\n    get_point() {\r\n        return this.#point;\r\n    }\r\n\r\n    set_planner(planner:NeuronPlanner) {\r\n        this.#planner = planner;\r\n    }\r\n\r\n    remove_point_by_context(context:L.Marker) {\r\n        if(this.#marker == context) {\r\n            this.remove_feature();\r\n        } else {\r\n            console.warn(\"Call to remove unknown marker context\");\r\n        }\r\n    }\r\n\r\n    #remove_point_by_event(event:L.LeafletEvent) {\r\n        this.remove_point_by_context(event.target);\r\n    }\r\n\r\n    #update_position_from_event(event:L.LeafletEvent) {\r\n        let point = NeuronInterfacePoint.from_leaflet(event.target.getLatLng());\r\n        if (this.#point)\r\n            point.altitude = this.#point.altitude;\r\n        this.#internal_set_point(point);\r\n    }\r\n\r\n    set_point(point:NeuronInterfacePoint) {\r\n        if(!this.#marker) {\r\n            this.#marker = L.marker(point.to_leaflet(),{\r\n                draggable: true,\r\n                autoPan: true,\r\n                icon: get_neuron_map_marker('neuron-marker-poi')\r\n            })\r\n\r\n            this.#marker.on(\"drag\", this.#update_position_from_event.bind(this));\r\n            this.#marker.on(\"dblclick\", this.#remove_point_by_event.bind(this));\r\n\r\n            const menu_items = [\r\n                new LeafletContextMenuItem(\"Show in plan\", NeuronIcons.PLAN_LIST, this.show_on_plan.bind(this)),\r\n                null,\r\n                new LeafletContextMenuItem(\"Remove\", NeuronIcons.DELETE, this.remove_point_by_context.bind(this)),\r\n            ]\r\n            this.#marker.bindPopup(create_popup_context_dom(\"Point\", menu_items, this.#marker));\r\n\r\n            this._add_layer_to_map(this.#marker);\r\n        }\r\n\r\n        this.#internal_set_point(point);\r\n    }\r\n\r\n    show_on_plan() {\r\n        if(this.#dom) {\r\n            this.#dom.scrollIntoView();\r\n            this.#dom.classList.remove('mission-feature-highlight-remove');\r\n            this.#dom.classList.add('mission-feature-highlight');\r\n            setTimeout(this.#remove_dom_highlight.bind(this), 1000);\r\n        }\r\n    }\r\n\r\n    #remove_dom_highlight() {\r\n        if(this.#dom) {\r\n            this.#dom.classList.remove('mission-feature-highlight');\r\n            this.#dom.classList.add('mission-feature-highlight-remove');\r\n        }\r\n    }\r\n\r\n    #internal_set_point(point:NeuronInterfacePoint, update_marker:boolean = true, update_dom:boolean=true) {\r\n        this.#point = point;\r\n\r\n        if(update_marker && this.#marker)\r\n            this.#marker.setLatLng(point.to_leaflet());\r\n\r\n        if(update_dom) {\r\n            if(this.#dom_lat)\r\n                this.#dom_lat.value = point.latitude.toString();\r\n\r\n            if(this.#dom_lon)\r\n                this.#dom_lon.value = point.longitude.toString();\r\n        }\r\n\r\n        this._trigger_on_changed();\r\n    }\r\n\r\n    #update_latitude_from_dom() {\r\n        if(this.#point)\r\n            this.#point.latitude = this.#dom_lat.valueAsNumber;\r\n\r\n        this.#internal_set_point(this.#point, true, false);\r\n    }\r\n\r\n    #update_tag_from_dom() {\r\n        if(this.#point)\r\n            this.#point.tag = this.#dom_label.value;\r\n\r\n        this.#internal_set_point(this.#point, true, false);\r\n    }\r\n\r\n    #update_longitude_from_dom() {\r\n        if(this.#point)\r\n            this.#point.longitude = this.#dom_lon.valueAsNumber;\r\n\r\n        this.#internal_set_point(this.#point, true, false);\r\n    }\r\n\r\n    #update_altitude_from_dom() {\r\n        if(this.#point)\r\n            this.#point.altitude = this.#dom_alt.valueAsNumber * NeuronFeatureBase._altitude_ratio;\r\n\r\n        this.#internal_set_point(this.#point, true, false);\r\n    }\r\n\r\n\r\n    override show_help() {\r\n        window.neuron_map.show_map_help(true, `${NeuronHelp.HELP_PREFIX_MISSION}-${NeuronFeaturePoint.HELP_KEY}`);\r\n    }\r\n\r\n    override remove_feature() {\r\n        if(this.#marker)\r\n            this._remove_layer_from_map(this.#marker);\r\n\r\n        super.remove_feature();\r\n    }\r\n\r\n    //XXX: No paths provided by this feature, use base return\r\n    // override get_path_coords():NeuronInterfacePoint[] {\r\n    //     return [];\r\n    // }\r\n\r\n    override get_dom() {\r\n        if(!this.#dom) {\r\n            this.#dom = this._get_dom(\"Point\");\r\n\r\n            let c = document.createElement(\"div\");\r\n            c.className = 'mission-feature-content';\r\n\r\n            const t01 = \"Convert this point to a waypoint feature\";\r\n            this.#dom_convert_waypoint = this._create_dom_input_button(\"Waypoint\", this.#convert_to_waypoint.bind(this));\r\n            this.#dom_convert_waypoint.title = t01;\r\n            c.appendChild(this._create_dom_label(\"Convert to:\", this.#dom_convert_waypoint, t01));\r\n            c.appendChild(this.#dom_convert_waypoint);\r\n\r\n            const t3 = \"Text label for identification of the point\";\r\n            this.#dom_label = this._create_dom_input_textbox((this.#point ? this.#point.tag : \"\"), this.#update_tag_from_dom.bind(this));\r\n            this.#dom_label.title = t3;\r\n            c.appendChild(this._create_dom_label(\"Label:\", this.#dom_label, t3));\r\n            c.appendChild(this.#dom_label);\r\n\r\n            const t0 = \"Latitude location for the point in decimal degrees\";\r\n            this.#dom_lat = this._create_dom_input_number(this.#point ? this.#point.latitude : 0.0, this.#update_latitude_from_dom.bind(this), -90, 90, 0.0002);\r\n            this.#dom_lat.title = t0;\r\n            c.appendChild(this._create_dom_label(\"Latitude:\", this.#dom_lat, t0));\r\n            c.appendChild(this.#dom_lat);\r\n\r\n            const t1 = \"Longitude location for the point in decimal degrees\";\r\n            this.#dom_lon = this._create_dom_input_number(this.#point ? this.#point.longitude : 0.0, this.#update_longitude_from_dom.bind(this), -180, 180, 0.0002);\r\n            this.#dom_lon.title = t1;\r\n            c.appendChild(this._create_dom_label(\"Longitude:\", this.#dom_lon, t1));\r\n            c.appendChild(this.#dom_lon);\r\n\r\n            const t2 = \"Altitude for the point in feet relative to take-off location ground level\";\r\n            this.#dom_alt = this._create_dom_input_number((this.#point ? this.#point.altitude : 0.0) / NeuronFeatureBase._altitude_ratio, this.#update_altitude_from_dom.bind(this));\r\n            this.#dom_alt.title = t2;\r\n            c.appendChild(this._create_dom_label(\"Altitude:\", this.#dom_alt, t2));\r\n            c.appendChild(this.#dom_alt);\r\n\r\n            this.#dom.append(c);\r\n        }\r\n\r\n        return this.#dom;\r\n    }\r\n\r\n    #convert_to_waypoint() {\r\n        if(this.#planner) {\r\n            this.#planner.replace_point_with_waypoint(this);\r\n        } else {\r\n            console.warn(\"Planner not set, cannot convert point feature!\");\r\n        }\r\n    }\r\n\r\n    static override isObjectOfDataType(object: any): object is NeuronFeaturePointData {\r\n        let is_valid =\r\n            (object.type == NeuronFeaturePoint.TYPE) &&\r\n            (object.version == NeuronFeaturePoint.VERSION);\r\n\r\n        return is_valid;\r\n    }\r\n\r\n    static override from_json(j:NeuronFeaturePointData, map:L.Map) {\r\n        //XXX: Implement this per inherited feature\r\n        if(!NeuronFeaturePoint.isObjectOfDataType(j))\r\n            throw new Error(`Invalid type check during creation of NeuronFeaturePoint`);\r\n\r\n        const point = NeuronInterfacePoint.from_json(j.point);\r\n        return new NeuronFeaturePoint(map, point);\r\n    }\r\n\r\n    override to_json() {\r\n        //XXX: Implement this per inherited feature\r\n        return <NeuronFeaturePointData>{\r\n            version: NeuronFeaturePoint.VERSION,\r\n            type: NeuronFeaturePoint.TYPE,\r\n            point: this.#point.to_json()\r\n        }\r\n    }\r\n}\r\n","import { NeuronFeatureBase } from \"./neuron_feature_base\";\r\nimport { NeuronInterfacePoint, NeuronInterfacePointData } from \"./neuron_interfaces\";\r\nimport { L, create_popup_context_dom, LeafletContextMenuItem, get_neuron_map_marker } from \"./interface_leaflet\";\r\nimport { kmz_download_from_neuron_data } from \"./neuron_tools_kml\";\r\nimport { NeuronPlanner } from \"./neuron_planner\";\r\nimport { NeuronHelp } from \"./neuron_help\";\r\nimport { NeuronIcons } from \"./interface_fontawesome\";\r\n\r\nexport interface NeuronFeaturePolygonData {\r\n    version:string;\r\n    type:string;\r\n    corners:NeuronInterfacePointData[];\r\n    label:string;\r\n}\r\n\r\nexport class NeuronFeaturePolygon extends NeuronFeatureBase {\r\n    static override NAME = \"Polygon\";\r\n    static override TYPE = \"NeuronFeaturePolygon\";\r\n    static override VERSION = 'f0e9c050-e135-11ec-8ea0-c3c316816bb1';\r\n    static override HELP_KEY = 'polygon';\r\n\r\n    #show_corners:boolean\r\n\r\n    #label:string;\r\n    #corners:L.Marker[];\r\n    #polygon:L.Polygon;\r\n    #planner:NeuronPlanner;\r\n    #selected_corner:number;\r\n    #on_change_internal:CallableFunction;\r\n    #dom:HTMLDivElement;\r\n    #dom_corner_count:HTMLOutputElement;\r\n    #dom_show_corners:HTMLInputElement;\r\n    #dom_label:HTMLInputElement;\r\n    #dom_convert_survey:HTMLButtonElement;\r\n    #dom_export_kml:HTMLButtonElement;\r\n    #dom_export_kmz:HTMLButtonElement;\r\n\r\n    constructor(map:L.Map, corners:NeuronInterfacePoint[]=[], planner:NeuronPlanner = null) {\r\n        super(map);\r\n        this.#on_change_internal = null;\r\n        this.#dom = null;\r\n        this.#dom_corner_count = null;\r\n        this.#dom_convert_survey = null;\r\n        this.#dom_export_kml = null;\r\n        this.#dom_export_kmz = null;\r\n        this.#label = \"\";\r\n\r\n        this.set_planner(planner);\r\n\r\n        this.#show_corners = corners.length < 20;\r\n        this.#selected_corner = 0;\r\n        this.#corners = [];\r\n        if(corners.length) {\r\n            if(corners.length == 1)\r\n                console.warn(\"Insufficient number of corners to define polygon! May be removed immediately\");\r\n\r\n            this.add_corners(corners);\r\n            //XXX: This also calls update_polygon();\r\n        } else {\r\n            this.update_polygon();\r\n        }\r\n    }\r\n\r\n    corners_visible() {\r\n        return this.#show_corners;\r\n    }\r\n\r\n    update_show_corners(show_corners:boolean) {\r\n        this.#show_corners = show_corners;\r\n\r\n        if(this.#show_corners) {\r\n            //Show layers\r\n            for(let feature of this.#corners)\r\n                this._add_layer_to_map(feature);\r\n        } else {\r\n            //Hide layers\r\n            for(let feature of this.#corners)\r\n                this._remove_layer_from_map(feature);\r\n        }\r\n    }\r\n\r\n    set_planner(planner:NeuronPlanner) {\r\n        this.#planner = planner;\r\n    }\r\n\r\n    _set_on_change_internal(on_change:CallableFunction=null) {\r\n        this.#on_change_internal = on_change;\r\n    }\r\n\r\n    #array_move(arr:any[], old_index:number, new_index:number) {\r\n        if (new_index >= arr.length) {\r\n            var k = new_index - arr.length + 1;\r\n            while (k--) {\r\n                arr.push(undefined);\r\n            }\r\n        }\r\n        arr.splice(new_index, 0, arr.splice(old_index, 1)[0]);\r\n        // return arr; // for testing\r\n    }\r\n\r\n    #array_move_cyclic(arr:any[], old_index:number, diff:number) {\r\n        let new_index = (old_index + diff) % arr.length;\r\n        if(new_index < 0) {\r\n            new_index += arr.length;\r\n        }\r\n        this.#array_move(this.#corners, old_index, new_index);\r\n    }\r\n\r\n    move_corner_forwards(corner:L.Marker) {\r\n        const ind = this.#corners.indexOf(corner);\r\n\r\n        if(ind >= 0) {\r\n            this.#array_move_cyclic(this.#corners, ind, -1);\r\n            this.update_polygon();          //Redraw\r\n        } else {\r\n            console.warn(\"Provided corner is not part of this polygon!\");\r\n        }\r\n    }\r\n\r\n    move_corner_backwards(corner:L.Marker) {\r\n        const ind = this.#corners.indexOf(corner);\r\n        if(ind >= 0) {\r\n            this.#array_move_cyclic(this.#corners, ind, 1);\r\n            this.update_polygon();          //Redraw\r\n        } else {\r\n            console.warn(\"Provided corner is not part of this polygon!\");\r\n        }\r\n    }\r\n\r\n    select_corner(corner:L.Marker) {\r\n        const ind = this.#corners.indexOf(corner);\r\n\r\n        if(ind >= 0) {\r\n            this.#selected_corner = ind;\r\n        } else {\r\n            console.warn(\"Provided corner is not part of this polygon!\");\r\n        }\r\n    }\r\n\r\n    #select_corner_by_event(event:L.LeafletEvent) {\r\n        this.select_corner(event.target);\r\n    }\r\n\r\n    get_polygon() {\r\n        return this.#polygon;\r\n    }\r\n\r\n    add_corner(corner:NeuronInterfacePoint, update_polygon=true) {\r\n        if(this.#selected_corner < 0 || this.#selected_corner >= this.#corners.length)\r\n            this.#selected_corner = Math.min(this.#corners.length - 1, 0)\r\n\r\n        let m = L.marker([corner.latitude, corner.longitude], {\r\n            draggable: true,\r\n            autoPan: true,\r\n            icon: get_neuron_map_marker('neuron-marker-corner')\r\n        })\r\n\r\n        const menu_items = [\r\n            new LeafletContextMenuItem(\"Show in plan\", NeuronIcons.PLAN_LIST, this.show_on_plan.bind(this)),\r\n            null,\r\n            new LeafletContextMenuItem(\"Move forward\", NeuronIcons.ARROW_LEFT, this.move_corner_forwards.bind(this)),\r\n            new LeafletContextMenuItem(\"Move backward\", NeuronIcons.ARROW_RIGHT, this.move_corner_backwards.bind(this)),\r\n            null,\r\n            new LeafletContextMenuItem(\"Remove\", NeuronIcons.DELETE, this.remove_point_by_corner.bind(this)),\r\n        ]\r\n        m.bindPopup(create_popup_context_dom(\"Polygon Corner\", menu_items, m));\r\n\r\n        m.on(\"drag\", this.update_polygon.bind(this));\r\n        m.on(\"click\", this.#select_corner_by_event.bind(this));\r\n        m.on(\"dblclick\", this.#remove_point_by_event.bind(this));\r\n\r\n        this.#corners.splice(this.#selected_corner, 0, m);\r\n        if(this.#show_corners)\r\n            this._add_layer_to_map(m);\r\n\r\n        if(update_polygon)\r\n            this.update_polygon();\r\n    }\r\n\r\n    show_on_plan() {\r\n        if(this.#dom) {\r\n            this.#dom.scrollIntoView();\r\n            this.#dom.classList.remove('mission-feature-highlight-remove');\r\n            this.#dom.classList.add('mission-feature-highlight');\r\n            setTimeout(this.#remove_dom_highlight.bind(this), 1000);\r\n        }\r\n    }\r\n\r\n    #remove_dom_highlight() {\r\n        if(this.#dom) {\r\n            this.#dom.classList.remove('mission-feature-highlight');\r\n            this.#dom.classList.add('mission-feature-highlight-remove');\r\n        }\r\n    }\r\n\r\n    add_corners(corners:NeuronInterfacePoint[]=[]) {\r\n        for(const c of corners)\r\n            this.add_corner(c, false);\r\n\r\n        //Do this manually at the end\r\n        this.update_polygon();\r\n    }\r\n\r\n    get_corners() {\r\n        return this.#corners;\r\n    }\r\n\r\n    get_corners_as_points() {\r\n        return this.#corners.map(p => NeuronInterfacePoint.from_leaflet(p.getLatLng()));\r\n    }\r\n\r\n    #remove_point_by_event(event:L.LeafletEvent) {\r\n        this.remove_point_by_corner(event.target);\r\n    }\r\n\r\n    remove_point_by_corner(corner:L.Marker) {\r\n        const ind = this.#corners.indexOf(corner);\r\n        if(ind >= 0) {\r\n            this._remove_layer_from_map(corner); //Remove from map\r\n            this.#corners.splice(ind, 1);   //Remove from list\r\n            this.update_polygon();          //Redraw\r\n        } else {\r\n            console.warn(\"Provided corner is not part of this polygon!\");\r\n        }\r\n    }\r\n\r\n    #add_point_at_mouseevent(event:L.LeafletMouseEvent) {\r\n        if(this.#polygon && this.#show_corners) {\r\n            // const c = this.#polygon.getCenter();\r\n            // const dx = b._northEast.lng - b._southWest.lng;\r\n            // const dy = b._northEast.lat - b._southWest.lat;\r\n            // const p = new NeuronMapPoint(b._southWest.lat + dy / 2, b._southWest.lng + dx / 2);\r\n            const p = NeuronInterfacePoint.from_leaflet(event.latlng);\r\n\r\n            this.add_corner(p);\r\n        }\r\n    }\r\n\r\n    add_point_at_location() {\r\n        if(this.#polygon) {\r\n            const b = this.#polygon.getBounds();\r\n            const ne = b.getNorthEast();\r\n            const sw = b.getSouthWest();\r\n            const dx = ne.lng - sw.lng;\r\n            const dy = ne.lat - sw.lat;\r\n            const p = new NeuronInterfacePoint(sw.lat + dy / 2, sw.lng + dx / 2);\r\n\r\n            this.add_corner(p);\r\n        }\r\n    }\r\n\r\n    update_polygon() {\r\n        if(this.#corners.length > 1) {\r\n            let corners = [];\r\n\r\n            for(const c of this.#corners) {\r\n                corners.push(c.getLatLng());\r\n            }\r\n\r\n            if(this.#polygon) {\r\n                //Update the existing polygon\r\n                // console.log(this.#polygon);\r\n                this.#polygon.setLatLngs(corners);\r\n            } else{\r\n                //Create a new polygon\r\n                this.#polygon = L.polygon(corners, {color: 'red'});\r\n                this.#polygon.on(\"click\", this.#add_point_at_mouseevent.bind(this));\r\n                this._add_layer_to_map(this.#polygon);\r\n            }\r\n        } else {\r\n            this.remove_feature();\r\n        }\r\n\r\n        if(this.#on_change_internal)\r\n            this.#on_change_internal();\r\n        this._trigger_on_changed();\r\n\r\n        this.#try_update_dom();\r\n    }\r\n\r\n    #try_update_dom() {\r\n        if(this.#dom_corner_count)\r\n            this.#dom_corner_count.value = this.#corners.length.toFixed(0);\r\n    }\r\n\r\n    #convert_to_survey() {\r\n        if(this.#planner) {\r\n            this.#planner.replace_polygon_with_survey(this);\r\n        } else {\r\n            console.warn(\"Planner not set, cannot convert polygon feature!\");\r\n        }\r\n    }\r\n\r\n    #export_as_kml() {\r\n        kmz_download_from_neuron_data([], [], [this.get_corners_as_points()]);\r\n    }\r\n\r\n    #export_as_kmz() {\r\n        kmz_download_from_neuron_data([], [], [this.get_corners_as_points()]);\r\n    }\r\n\r\n    override show_help() {\r\n        window.neuron_map.show_map_help(true, `${NeuronHelp.HELP_PREFIX_MISSION}-${NeuronFeaturePolygon.HELP_KEY}`);\r\n    }\r\n\r\n    override remove_feature() {\r\n        for(const c of this.#corners) {\r\n            this._remove_layer_from_map(c);\r\n        }\r\n        this.#corners = [];\r\n\r\n        if(this.#polygon) {\r\n            this._remove_layer_from_map(this.#polygon);\r\n            this.#polygon = null;\r\n        }\r\n\r\n        super.remove_feature();\r\n    }\r\n\r\n    //override get_path_coords() {} //XXX: No paths provided by this feature, use base return\r\n\r\n    override get_dom() {\r\n        if(!this.#dom) {\r\n            this.#dom = this._get_dom(\"Polygon\");\r\n\r\n            let c = document.createElement(\"div\");\r\n            c.className = 'mission-feature-content';\r\n\r\n            //Output items\r\n            const t4 = \"Number of corners that define this polygon's boundaries\";\r\n            this.#dom_corner_count = this._create_dom_output();\r\n            this.#dom_corner_count.title = t4;\r\n            c.appendChild(this._create_dom_label(\"Corners:\", this.#dom_corner_count, t4));\r\n            c.appendChild(this.#dom_corner_count);\r\n\r\n            this.#try_update_dom();\r\n\r\n            //Input Items\r\n            const t21 = \"Show the corners of the polygon\";\r\n            this.#dom_show_corners = this._create_dom_input_checkbox(this.corners_visible(), this.#update_show_corners_from_dom.bind(this));\r\n            this.#dom_show_corners.title = t21;\r\n            c.appendChild(this._create_dom_label(\"Show corners:\", this.#dom_show_corners, t21));\r\n            c.appendChild(this.#dom_show_corners);\r\n\r\n            const t22 = \"Text label for identification of the polygon\";\r\n            this.#dom_label = this._create_dom_input_textbox(this.#label, this.#update_label_from_dom.bind(this));\r\n            this.#dom_label.title = t22;\r\n            c.appendChild(this._create_dom_label(\"Label:\", this.#dom_label, t22));\r\n            c.appendChild(this.#dom_label);\r\n\r\n            const t0 = \"Convert this polygon to a survey feature\";\r\n            this.#dom_convert_survey = this._create_dom_input_button(\"Survey\", this.#convert_to_survey.bind(this));\r\n            this.#dom_convert_survey.title = t0;\r\n            c.appendChild(this._create_dom_label(\"Convert to:\", this.#dom_convert_survey, t0));\r\n            c.appendChild(this.#dom_convert_survey);\r\n\r\n            const t1 = \"Export this polygon to a drawing document\";\r\n            const t11 = \"Export this polygon to a KML document\";\r\n            const t12 = \"Export this polygon to a KMZ document\";\r\n            this.#dom_export_kml = this._create_dom_input_button(\"KML\", this.#export_as_kml.bind(this));\r\n            this.#dom_export_kml.title = t11;\r\n            c.appendChild(this._create_dom_label(\"Export as:\", this.#dom_export_kml, t1));\r\n            c.appendChild(this.#dom_export_kml);\r\n\r\n            this.#dom_export_kmz = this._create_dom_input_button(\"KMZ\", this.#export_as_kmz.bind(this));\r\n            this.#dom_export_kmz.title = t12;\r\n            c.appendChild(this._create_dom_label(\"Export as:\", this.#dom_export_kmz, t1, true));\r\n            c.appendChild(this.#dom_export_kmz);\r\n\r\n            // c.appendChild(this._create_dom_labelled_input(\"\", this.#dom_export_shape.bind(this)));\r\n\r\n\r\n            this.#dom.append(c);\r\n        }\r\n\r\n        return this.#dom;\r\n    }\r\n\r\n    #update_show_corners_from_dom() {\r\n        this.update_show_corners(this.#dom_show_corners.checked);\r\n    }\r\n\r\n    #update_label_from_dom() {\r\n        this.set_label(this.#dom_label.value, false);\r\n    }\r\n\r\n    get_label() {\r\n        return this.#label;\r\n    }\r\n\r\n    set_label(label:string, update_dom:boolean = true) {\r\n        this.#label = label;\r\n        if(this.#dom_label && update_dom)\r\n            this.#dom_label.value = label;\r\n    }\r\n\r\n    static override isObjectOfDataType(object: any): object is NeuronFeaturePolygonData {\r\n        let is_valid =\r\n            (object.type == NeuronFeaturePolygon.TYPE) &&\r\n            (object.version == NeuronFeaturePolygon.VERSION);\r\n\r\n        return is_valid;\r\n    }\r\n\r\n    static from_json(j:NeuronFeaturePolygonData, map:L.Map) {\r\n        //XXX: Implement this per inherited feature\r\n        if(!NeuronFeaturePolygon.isObjectOfDataType(j))\r\n            throw new Error(`Invalid type check during creation of NeuronFeaturePolygon`);\r\n\r\n        const corners = j.corners.map(x => NeuronInterfacePoint.from_json(x));\r\n        let p = new NeuronFeaturePolygon(map, corners);\r\n        p.set_label(j.label.toString());\r\n        return p;\r\n    }\r\n\r\n    override to_json() {\r\n        //XXX: Implement this per inherited feature\r\n        return <NeuronFeaturePolygonData>{\r\n            version: NeuronFeaturePolygon.VERSION,\r\n            type: NeuronFeaturePolygon.TYPE,\r\n            corners: this.get_corners_as_points().map(x => x.to_json()),\r\n            label: this.#label,\r\n        }\r\n    }\r\n}\r\n","import { NeuronFeaturePolygon } from \"./neuron_feature_polygon\";\r\nimport { NeuronInterfacePoint, NeuronInterfacePointData } from \"./neuron_interfaces\";\r\nimport { CreateGrid, GridPointTags, StartPosition } from \"./neuron_tools_survey\"\r\nimport { L, create_popup_context_dom } from \"./interface_leaflet\";\r\nimport { NeuronOptions, NeuronOptionsNumber } from \"./neuron_options\";\r\nimport { flight_distance_from_coords, flight_time_from_duration } from \"./neuron_tools_common\";\r\nimport { NeuronHelp } from \"./neuron_help\";\r\n\r\nexport interface NeuronFeatureSurveyData {\r\n    version:string,\r\n    type:string,\r\n    corners:NeuronInterfacePointData[],\r\n    altitude:number,\r\n    distance:number,\r\n    spacing:number,\r\n    angle:number,\r\n    overshoot1:number,\r\n    overshoot2:number,\r\n    startpos:number,\r\n    minLaneSeparation:number,\r\n    leadin:number,\r\n    sidelap:number,\r\n    overlap:number,\r\n    ground_resolution:number,\r\n    label:string\r\n}\r\n\r\ninterface NeuronFeatureSurveyLane {\r\n    start:NeuronInterfacePoint,\r\n    end:NeuronInterfacePoint\r\n}\r\n\r\nexport class NeuronFeatureSurvey extends NeuronFeaturePolygon {\r\n    static override NAME = \"Survey\";\r\n    static override TYPE = \"NeuronFeatureSurvey\";\r\n    static override VERSION = '70bb75e0-d5a0-11ec-aaa0-9f86362bde1a';\r\n    static override HELP_KEY = 'survey';\r\n    static override IS_FLYABLE = true;\r\n\r\n    #waypoints:NeuronInterfacePoint[];\r\n    #mappoints:L.Marker[];\r\n\r\n    #altitude:number;\r\n    #distance:number;\r\n    #spacing:number;\r\n    #angle:number;\r\n    #overshoot1:number;\r\n    #overshoot2:number;\r\n    #startpos:StartPosition;\r\n    #minLaneSeparation:number;\r\n    #leadin:number;\r\n\r\n    #sidelap:number;\r\n    #overlap:number;\r\n    #ground_resolution:number;\r\n\r\n    #show_waypoints:boolean;\r\n\r\n    #dom:HTMLDivElement;\r\n    #dom_corner_count:HTMLOutputElement;\r\n    #dom_waypoint_count:HTMLOutputElement;\r\n    #dom_segment_duration:HTMLOutputElement;\r\n    #dom_photo_count:HTMLOutputElement;\r\n    //Display parameters\r\n    #dom_show_waypoints:HTMLInputElement;\r\n    #dom_show_corners:HTMLInputElement;\r\n    //Survey parameters\r\n    #dom_altitude:HTMLInputElement;\r\n    #dom_distance:HTMLInputElement;\r\n    #dom_spacing:HTMLInputElement;\r\n    #dom_angle:HTMLInputElement;\r\n    #dom_angle_slider:HTMLInputElement;\r\n    #dom_overshoot1:HTMLInputElement;\r\n    #dom_overshoot2:HTMLInputElement;\r\n    #dom_startpos:HTMLSelectElement;\r\n    #dom_minLaneSeparation:HTMLInputElement;\r\n    #dom_leadin:HTMLInputElement;\r\n    //Capture parameters\r\n    #dom_sidelap:HTMLInputElement;\r\n    #dom_overlap:HTMLInputElement;\r\n    #dom_ground_resolution:HTMLInputElement;\r\n\r\n    #update_timer:NodeJS.Timeout;\r\n    #update_interval:number;\r\n    #unsub_option_cb:CallableFunction;\r\n\r\n\r\n    static _gsd_ratio = 0.01;   //GSD = [DOM Value] * Ratio\r\n    static _xlap_ratio = 0.01;   //Sidelap = [DOM Value] * Ratio\r\n\r\n    constructor(map:L.Map, corners:NeuronInterfacePoint[]=[], show_waypoints=false) {\r\n        super(map, corners);\r\n        this.#waypoints = [];\r\n        this.#mappoints = [];\r\n        this.#update_timer = null;\r\n        this.#update_interval = 50; //ms\r\n\r\n        this.#dom = null;\r\n        this.#dom_corner_count = null;\r\n        this.#dom_waypoint_count = null;\r\n        this.#dom_segment_duration = null;\r\n        this.#dom_photo_count = null;\r\n\r\n        this.#dom_show_corners = null;\r\n        this.#dom_show_waypoints = null;\r\n        this.#dom_altitude = null;\r\n        this.#dom_distance = null;\r\n        this.#dom_spacing = null;\r\n        this.#dom_angle = null;\r\n        this.#dom_angle_slider = null;\r\n        this.#dom_overshoot1 = null;\r\n        this.#dom_overshoot2 = null;\r\n        this.#dom_startpos = null;\r\n        this.#dom_minLaneSeparation = null;\r\n        this.#dom_leadin = null;\r\n\r\n        this.#dom_sidelap = null;\r\n        this.#dom_overlap = null;\r\n        this.#dom_ground_resolution = null;\r\n\r\n        this.#show_waypoints = show_waypoints;\r\n        this.#altitude = 100;\r\n        this.#distance = 50;\r\n        this.#spacing = 0;\r\n        this.#angle = 0.0;\r\n        this.#overshoot1 = 0.0;\r\n        this.#overshoot2 = 0.0;\r\n        this.#startpos = StartPosition.TopLeft;\r\n        this.#minLaneSeparation = 0;\r\n        this.#leadin = 0.0;\r\n\r\n        this.#sidelap = 0.7;\r\n        this.#overlap = 0.7;\r\n        this.#ground_resolution = 0.0;\r\n\r\n        this._set_on_change_internal(this.update_survey.bind(this));\r\n        this.#_update_survey(false);\r\n\r\n        this.#unsub_option_cb = NeuronOptions.add_callback(this.#options_changed.bind(this));\r\n    }\r\n\r\n    override show_on_plan() {\r\n        if(this.#dom) {\r\n            this.#dom.scrollIntoView();\r\n            this.#dom.classList.remove('mission-feature-highlight-remove');\r\n            this.#dom.classList.add('mission-feature-highlight');\r\n            setTimeout(this.#remove_dom_highlight.bind(this), 1000);\r\n        }\r\n    }\r\n\r\n    #remove_dom_highlight() {\r\n        if(this.#dom) {\r\n            this.#dom.classList.remove('mission-feature-highlight');\r\n            this.#dom.classList.add('mission-feature-highlight-remove');\r\n        }\r\n    }\r\n\r\n    set_options_subscriber() {\r\n        if(this.#unsub_option_cb)\r\n            this.#unsub_option_cb();\r\n\r\n        this.#unsub_option_cb = NeuronOptions.add_callback(this.#options_changed.bind(this));\r\n    }\r\n\r\n    #options_changed() {\r\n        //Update our variables, and then the survey if there was a change\r\n        if(this.#calculate_and_update_capture_variables())\r\n            this.update_survey();\r\n    }\r\n\r\n    #add_waypoint(point:NeuronInterfacePoint, name:string = \"Survey Waypoint\") {\r\n        if(this.#show_waypoints) {\r\n            let m = L.marker([point.latitude, point.longitude], {\r\n                // draggable: true,\r\n                autoPan: true,\r\n            })\r\n\r\n            // const menu_items = [\r\n            //     new LeafletContextMenuItem(\"Move forward\", \"fa-arrow-left\", this.move_corner_forwards.bind(this)),\r\n            //     new LeafletContextMenuItem(\"Move backward\", \"fa-arrow-right\", this.move_corner_backwards.bind(this)),\r\n            //     null,\r\n            //     new LeafletContextMenuItem(\"Remove\", \"fa-trash\", this.remove_point_by_corner.bind(this)),\r\n            // ]\r\n            m.bindPopup(create_popup_context_dom(name, [], m));\r\n\r\n            // m.on(\"drag\", this.update_polygon.bind(this));\r\n            // m.on(\"click\", this.#select_corner_by_event.bind(this));\r\n            // m.on(\"dblclick\", this.#remove_point_by_event.bind(this));\r\n            this._add_layer_to_map(m);\r\n            this.#mappoints.push(m);\r\n        }\r\n\r\n        this.#waypoints.push(point);\r\n    }\r\n\r\n    update_show_waypoints(show_waypoints:boolean) {\r\n        this.#show_waypoints = show_waypoints;\r\n        this.update_survey();\r\n    }\r\n\r\n    set_altitude(altitude:number) {\r\n        this.#set_altitude(altitude, true);\r\n    }\r\n\r\n    #set_altitude(altitude:number, update_calcs:boolean=true) {\r\n        this.#altitude = altitude;\r\n\r\n        if(update_calcs) {\r\n            let resolution = NeuronOptions.get_camera().get_ground_resolution(this.#altitude);\r\n            if(resolution) {\r\n                if(this.#dom_ground_resolution)\r\n                    this.#dom_ground_resolution.value = (resolution / NeuronFeatureSurvey._gsd_ratio).toString();\r\n\r\n                this.#set_ground_resolution(resolution, false);\r\n            }\r\n        }\r\n\r\n        this.update_survey();\r\n    }\r\n\r\n    set_distance(distance:number) {\r\n        this.#set_distance(distance);\r\n    }\r\n\r\n    #set_distance(distance:number, update_calcs:boolean=true) {\r\n        this.#distance = distance;\r\n\r\n        if(update_calcs) {\r\n            let projection = NeuronOptions.get_camera().get_projected_size(this.#altitude);\r\n            if(projection && (distance >= 0)) {\r\n                const sidelap_factor = distance/projection.Width();\r\n                const sidelap = Math.max(Math.min(1 - sidelap_factor, 1.0), 0.0);\r\n\r\n                if(this.#dom_ground_resolution)\r\n                    this.#dom_sidelap.value = (sidelap / NeuronFeatureSurvey._xlap_ratio).toString();\r\n\r\n                this.#set_sidelap(sidelap, false);\r\n            }\r\n        }\r\n\r\n        this.update_survey();\r\n    }\r\n\r\n    set_spacing(spacing:number) {\r\n        this.#spacing = spacing;\r\n        this.update_survey();\r\n    }\r\n\r\n    set_angle(angle:number) {\r\n        this.#angle = angle;\r\n        this.update_survey();\r\n    }\r\n\r\n    set_overshoot1(overshoot1:number) {\r\n        this.#overshoot1 = overshoot1;\r\n        this.update_survey();\r\n    }\r\n\r\n    set_overshoot2(overshoot2:number) {\r\n        this.#overshoot2 = overshoot2;\r\n        this.update_survey();\r\n    }\r\n\r\n    set_startpos(startpos:StartPosition) {\r\n        this.#startpos = startpos;\r\n        this.update_survey();\r\n    }\r\n\r\n    set_minLaneSeparation(minLaneSeparation:number) {\r\n        this.#minLaneSeparation = minLaneSeparation;\r\n        this.update_survey();\r\n    }\r\n\r\n    set_leadin(leadin:number) {\r\n        this.#leadin = leadin;\r\n        this.update_survey();\r\n    }\r\n\r\n    get_show_waypoints() {\r\n        return this.#show_waypoints;\r\n    }\r\n\r\n    get_altitude() {\r\n        return this.#altitude;\r\n    }\r\n\r\n    get_distance() {\r\n        return this.#distance;\r\n    }\r\n\r\n    get_spacing() {\r\n        return this.#spacing;\r\n    }\r\n\r\n    get_angle() {\r\n        return this.#angle;\r\n    }\r\n\r\n    get_overshoot1() {\r\n        return this.#overshoot1;\r\n    }\r\n\r\n    get_overshoot2() {\r\n        return this.#overshoot2;\r\n    }\r\n\r\n    get_startpos() {\r\n        return this.#startpos;\r\n    }\r\n\r\n    get_minLaneSeparation() {\r\n        return this.#minLaneSeparation;\r\n    }\r\n\r\n    get_leadin() {\r\n        return this.#leadin;\r\n    }\r\n\r\n    update_survey() {\r\n        //Clear any queued updates\r\n        this.#clear_update_timer();\r\n\r\n        //Force clear the survey survey immediately for display\r\n        this.#clean_waypoints();\r\n\r\n        //Update survey with slight delay for processing\r\n        this.#update_timer = setTimeout(this.#_update_survey.bind(this, true), this.#update_interval);\r\n    }\r\n\r\n    #clear_update_timer() {\r\n        if(this.#update_timer) {\r\n            clearTimeout(this.#update_timer);\r\n            this.#update_timer = null;\r\n        }\r\n    }\r\n\r\n    #_update_survey(fire_on_change:boolean = true) {\r\n        this.#clean_waypoints();\r\n\r\n        const corners = this.get_corners_as_points();\r\n        const waypoints = (corners.length <= 2) ?\r\n            //There's only a line, so go end-to-end\r\n            corners :\r\n            //There is an actual polygon, so do a survey grid\r\n            CreateGrid(\r\n                this.get_corners_as_points(),\r\n                this.#altitude,\r\n                this.#distance,\r\n                this.#spacing,\r\n                this.#angle,\r\n                this.#overshoot1,\r\n                this.#overshoot2,\r\n                this.#startpos,\r\n                this.#minLaneSeparation,\r\n                this.#leadin\r\n            );\r\n\r\n        for(let i = 0; i < waypoints.length; i++)\r\n            this.#add_waypoint(waypoints[i], `Survey Waypoint (#${i})`);\r\n\r\n        this.#try_update_dom_stats();\r\n\r\n        if(fire_on_change)\r\n            this._trigger_on_changed();\r\n    }\r\n\r\n    #clean_waypoints() {\r\n        for(const m of this.#mappoints) {\r\n            this._remove_layer_from_map(m);\r\n        }\r\n        this.#mappoints = [];\r\n        this.#waypoints = [];\r\n    }\r\n\r\n    #try_update_dom_stats() {\r\n        const coords = this.get_path_coords();\r\n\r\n        if(this.#dom_corner_count)\r\n            this.#dom_corner_count.value = this.get_corners().length.toFixed(0);\r\n\r\n        if(this.#dom_waypoint_count)\r\n            this.#dom_waypoint_count.value = coords.length.toFixed(0);\r\n\r\n\r\n        if(this.#dom_segment_duration) {\r\n\r\n            const distance = flight_distance_from_coords(coords);\r\n            const duration = distance / NeuronOptions.get_option_number(NeuronOptionsNumber.MISSION_SPEED);\r\n            this.#dom_segment_duration.value = flight_time_from_duration(duration);\r\n        }\r\n\r\n        if(this.#dom_photo_count) {\r\n            let count = this.get_image_count();\r\n            this.#dom_photo_count.value = count > 0 ? count.toString() : \"---\";\r\n        }\r\n    }\r\n\r\n    get_image_count() {\r\n        let count = null;\r\n        let projection = NeuronOptions.get_camera().get_projected_size(this.#altitude);\r\n\r\n        if(projection && (this.#overlap >= 0) && (this.#overlap <= 1)) {\r\n            let photo_count = 0;\r\n\r\n            const overlap_factor = 1 - this.#overlap;\r\n            const photo_distance = Math.abs(projection.Height())*overlap_factor;\r\n\r\n            for(const lane of this.get_lane_coords()) {\r\n                const ps = lane.start.to_UTM();\r\n                const pe = lane.end.to_UTM(ps.zone);\r\n\r\n                const lane_distance = ps.GetDistance2D(pe);\r\n                photo_count += Math.ceil(lane_distance / photo_distance);\r\n            }\r\n\r\n            count = photo_count;\r\n        }\r\n\r\n        return count;\r\n    }\r\n\r\n    #update_show_corners_from_dom() {\r\n        this.update_show_corners(this.#dom_show_corners.checked);\r\n    }\r\n\r\n    #update_show_waypoints_from_dom() {\r\n        this.update_show_waypoints(this.#dom_show_waypoints.checked);\r\n    }\r\n\r\n    #update_altitude_from_dom() {\r\n        this.set_altitude(this.#dom_altitude.valueAsNumber * NeuronFeatureSurvey._altitude_ratio);\r\n    }\r\n\r\n    #update_distance_from_dom() {\r\n        this.set_distance(this.#dom_distance.valueAsNumber);\r\n    }\r\n\r\n    #update_spacing_from_dom() {\r\n        this.set_spacing(this.#dom_spacing.valueAsNumber);\r\n    }\r\n\r\n    #update_angle_from_dom() {\r\n        const val = this.#dom_angle.valueAsNumber;\r\n        this.#dom_angle_slider.value = val.toString();\r\n        this.set_angle(this.#dom_angle.valueAsNumber);\r\n    }\r\n\r\n    #update_angle_slider_from_dom() {\r\n        const val = this.#dom_angle_slider.valueAsNumber;\r\n        this.#dom_angle.value = val.toString();\r\n        this.set_angle(val);\r\n    }\r\n\r\n    #update_overshoot1_from_dom() {\r\n        this.set_overshoot1(this.#dom_overshoot1.valueAsNumber);\r\n    }\r\n\r\n    #update_overshoot2_from_dom() {\r\n        this.set_overshoot2(this.#dom_overshoot2.valueAsNumber);\r\n    }\r\n\r\n    #update_startpos_from_dom() {\r\n        const v = Number.parseInt(this.#dom_startpos.value);\r\n        const values = Object.values(StartPosition);\r\n        if (!values.includes(v))\r\n            throw new Error(`Selected value (${v}) is not a StartingPosition`);\r\n\r\n        this.set_startpos(v);\r\n    }\r\n\r\n    #update_minLaneSeparation_from_dom() {\r\n        this.set_minLaneSeparation(this.#dom_minLaneSeparation.valueAsNumber);\r\n    }\r\n\r\n    #update_leadin_from_dom() {\r\n        this.set_leadin(this.#dom_leadin.valueAsNumber);\r\n    }\r\n\r\n    override show_help() {\r\n        window.neuron_map.show_map_help(true, `${NeuronHelp.HELP_PREFIX_MISSION}-${NeuronFeatureSurvey.HELP_KEY}`);\r\n    }\r\n\r\n    override remove_feature() {\r\n        this.#clean_waypoints();\r\n\r\n        super.remove_feature();\r\n    }\r\n\r\n    override is_flyable() {\r\n        return NeuronFeatureSurvey.IS_FLYABLE;\r\n    }\r\n\r\n    override get_path_coords() {\r\n        const corners = this.get_corners_as_points();\r\n        return this.#waypoints.length ? this.#waypoints : (corners.length ? [corners[0]] : []);\r\n    }\r\n\r\n    get_lane_coords() {\r\n        const coords = this.get_path_coords();\r\n        let lanes:NeuronFeatureSurveyLane[] = [];\r\n        let start:NeuronInterfacePoint = null;\r\n\r\n        for(let i = 0; i < coords.length; i++) {\r\n            const p = coords[i];\r\n            if((!start && p.tag == GridPointTags.START) || (start && p.tag == GridPointTags.MIDDLE_START)) {\r\n                //If we found a new start, or we are adjusting to a new middle start\r\n                start = p;\r\n            } else if (start && ((p.tag == GridPointTags.MIDDLE_END) || (p.tag == GridPointTags.END))) {\r\n                //If we have a valid start and we have found a valid end\r\n                //Add our finished lane\r\n                lanes.push({\r\n                    start: start,\r\n                    end: p\r\n                })\r\n                //And reset\r\n                start = null;\r\n            }\r\n        }\r\n\r\n        if(start)\r\n            console.warn(\"Unable to determine all lanes correctly!\");\r\n\r\n        return lanes;\r\n    }\r\n\r\n    override get_dom() {\r\n        if(!this.#dom) {\r\n            this.#dom = this._get_dom(\"Survey\");\r\n\r\n            let c = document.createElement(\"div\");\r\n            c.className = 'mission-feature-content';\r\n\r\n            //Output fields\r\n            const t00 = \"Number of corners that define this survey's boundaries\";\r\n            this.#dom_corner_count = this._create_dom_output();\r\n            this.#dom_corner_count.title = t00;\r\n            c.appendChild(this._create_dom_label(\"Corners:\", this.#dom_corner_count, t00));\r\n            c.appendChild(this.#dom_corner_count);\r\n\r\n            const t01 = \"Number of waypoints that have been calculated to perform this survey\";\r\n            this.#dom_waypoint_count = this._create_dom_output();\r\n            this.#dom_waypoint_count.title = t01;\r\n            c.appendChild(this._create_dom_label(\"Waypoints:\", this.#dom_waypoint_count, t01));\r\n            c.appendChild(this.#dom_waypoint_count);\r\n\r\n            const t03 = \"Estimated flight time of the survey feature\";\r\n            this.#dom_segment_duration = this._create_dom_output();\r\n            this.#dom_segment_duration.title = t03;\r\n            c.appendChild(this._create_dom_label(\"Duration:\", this.#dom_segment_duration, t03));\r\n            c.appendChild(this.#dom_segment_duration);\r\n\r\n            const t02 = \"Number of images that will be captured by the camera on the aircraft to perform this survey\";\r\n            this.#dom_photo_count = this._create_dom_output();\r\n            this.#dom_photo_count.title = t02;\r\n            c.appendChild(this._create_dom_label(\"Images:\", this.#dom_photo_count, t02));\r\n            c.appendChild(this.#dom_photo_count);\r\n\r\n            //Input fields\r\n            const t2 = \"Show the corners of the polygon that defines the survey area\";\r\n            this.#dom_show_corners = this._create_dom_input_checkbox(this.corners_visible(), this.#update_show_corners_from_dom.bind(this));\r\n            this.#dom_show_corners.title = t2;\r\n            c.appendChild(this._create_dom_label(\"Show corners:\", this.#dom_show_corners, t2));\r\n            c.appendChild(this.#dom_show_corners);\r\n\r\n            const t21 = \"Show the waypoints that have been calculated at the end of each lane to perform this survey\";\r\n            this.#dom_show_waypoints = this._create_dom_input_checkbox(this.#show_waypoints, this.#update_show_waypoints_from_dom.bind(this));\r\n            this.#dom_show_waypoints.title = t21;\r\n            c.appendChild(this._create_dom_label(\"Show ends:\", this.#dom_show_waypoints, t2));\r\n            c.appendChild(this.#dom_show_waypoints);\r\n\r\n\r\n            //=====================================\r\n            //Capture calculations\r\n            //=====================================\r\n            const tb2 = \"Image capture configuration and calculations for survey parameters.\";\r\n            let dom_break2 = this._create_dom_output();\r\n            dom_break2.title = tb2;\r\n            let dom_break_label2 = this._create_dom_label(\"Capture Config.\", dom_break2, tb2)\r\n            dom_break_label2.classList.add('mission-feature-content-subtitle');\r\n            c.appendChild(dom_break_label2);\r\n            c.appendChild(dom_break2);\r\n\r\n            const t18 = \"Ground sampling distance, or ground resolution, in centimeters per pixel\";\r\n            this.#dom_ground_resolution = this._create_dom_input_number(this.#ground_resolution / NeuronFeatureSurvey._gsd_ratio, this.#update_ground_resolution_from_dom.bind(this), 0, null, 0.2);\r\n            this.#dom_ground_resolution.title = t18;\r\n            c.appendChild(this._create_dom_label(\"GSD:\", this.#dom_ground_resolution, t18));\r\n            c.appendChild(this.#dom_ground_resolution);\r\n\r\n            const t17 = \"Image vertical overlap between lanes as a percentage\";\r\n            this.#dom_overlap = this._create_dom_input_number(this.#overlap / NeuronFeatureSurvey._xlap_ratio, this.#update_overlap_from_dom.bind(this), 0, 100);\r\n            this.#dom_overlap.title = t17;\r\n            c.appendChild(this._create_dom_label(\"Overlap:\", this.#dom_overlap, t17));\r\n            c.appendChild(this.#dom_overlap);\r\n\r\n            const t19 = \"Image horizontal overlap between lanes as a percentage\";\r\n            this.#dom_sidelap = this._create_dom_input_number(this.#sidelap / NeuronFeatureSurvey._xlap_ratio, this.#update_sidelap_from_dom.bind(this), 0, 100);\r\n            this.#dom_sidelap.title = t19;\r\n            c.appendChild(this._create_dom_label(\"Sidelap:\", this.#dom_sidelap, t19));\r\n            c.appendChild(this.#dom_sidelap);\r\n\r\n            //=====================================\r\n            //Flight calculations\r\n            //=====================================\r\n            const tb1 = \"Flight path parameter configuration and calculations for the survey.\";\r\n            let dom_break1 = this._create_dom_output();\r\n            dom_break1.title = tb1;\r\n            let dom_break_label1 = this._create_dom_label(\"Path Config.\", dom_break1, tb1)\r\n            dom_break_label1.classList.add('mission-feature-content-subtitle');\r\n            c.appendChild(dom_break_label1);\r\n            c.appendChild(dom_break1);\r\n\r\n\r\n            const t3 = \"Altitude for the survey in feet relative to take-off location ground level\";\r\n            this.#dom_altitude = this._create_dom_input_number(this.#altitude / NeuronFeatureSurvey._altitude_ratio, this.#update_altitude_from_dom.bind(this));\r\n            this.#dom_altitude.title = t3;\r\n            c.appendChild(this._create_dom_label(\"Altitude:\", this.#dom_altitude, t3));\r\n            c.appendChild(this.#dom_altitude);\r\n\r\n            const t4 = \"Spacing between the individual lanes of the survey pattern in meters\";\r\n            this.#dom_distance = this._create_dom_input_number(this.#distance, this.#update_distance_from_dom.bind(this), 0.5);\r\n            this.#dom_distance.title = t4;\r\n            c.appendChild(this._create_dom_label(\"Spacing:\", this.#dom_distance, t4));\r\n            c.appendChild(this.#dom_distance);\r\n\r\n            const t5 = \"Entry location on the survey pattern relative to the most Northwestern point of the survey\";\r\n            this.#dom_startpos = this._create_dom_input_select(\r\n                [\r\n                    StartPosition.TopLeft,\r\n                    StartPosition.TopRight,\r\n                    StartPosition.BottomLeft,\r\n                    StartPosition.BottomRight\r\n                ].map(x => x.toString()),\r\n                [\r\n                    \"Top left\",\r\n                    \"Top right\",\r\n                    \"Bottom left\",\r\n                    \"Bottom right\"\r\n                ],\r\n                this.#update_startpos_from_dom.bind(this),\r\n                this.#startpos.toString());\r\n            this.#dom_startpos.title = t5;\r\n            c.appendChild(this._create_dom_label(\"Entry:\", this.#dom_startpos, t5));\r\n            c.appendChild(this.#dom_startpos);\r\n\r\n            // this.#dom_spacing = this._create_dom_input_number(this.#spacing, this.#update_spacing_from_dom.bind(this), 0);\r\n            // c.appendChild(this._create_dom_labelled_input(\"Spacing:\", this.#dom_spacing));\r\n\r\n            const t6 = \"Angle of the survey pattern in degrees relative to North\";\r\n            this.#dom_angle = this._create_dom_input_number(this.#angle, this.#update_angle_from_dom.bind(this), -180, 180);\r\n            this.#dom_angle.title = t6;\r\n            c.appendChild(this._create_dom_label(\"Angle:\", this.#dom_angle, t6));\r\n            c.appendChild(this.#dom_angle);\r\n\r\n            //XXX: Same title as dom_angle\r\n            this.#dom_angle_slider = this._create_dom_input_range(this.#angle, this.#update_angle_slider_from_dom.bind(this), -180, 180, 5);\r\n            this.#dom_angle_slider.title = t6;\r\n            c.appendChild(this._create_dom_label(\"Angle:\", this.#dom_angle_slider, t6, true));\r\n            c.appendChild(this.#dom_angle_slider);\r\n\r\n            const t7 = \"Lane start waypoint adjustment of the survey pattern in meters from the lane intersection point with the survey boundary\";\r\n            this.#dom_leadin = this._create_dom_input_number(this.#leadin, this.#update_leadin_from_dom.bind(this), 0);\r\n            this.#dom_leadin.title = t7;\r\n            c.appendChild(this._create_dom_label(\"Lead-in:\", this.#dom_leadin, t7));\r\n            c.appendChild(this.#dom_leadin);\r\n\r\n            const t9 = \"Lane end waypoint adjustment of the survey pattern in meters from the lane intersection point with the survey boundary for odd-numbered lanes\";\r\n            this.#dom_overshoot2 = this._create_dom_input_number(this.#overshoot2, this.#update_overshoot2_from_dom.bind(this));\r\n            this.#dom_overshoot2.title = t9;\r\n            c.appendChild(this._create_dom_label(\"Run-out A:\", this.#dom_overshoot2, t9));\r\n            c.appendChild(this.#dom_overshoot2);\r\n\r\n            const t8 = \"Lane end waypoint adjustment of the survey pattern in meters from the lane intersection point with the survey boundary for even-numbered lanes\";\r\n            this.#dom_overshoot1 = this._create_dom_input_number(this.#overshoot1, this.#update_overshoot1_from_dom.bind(this));\r\n            this.#dom_overshoot1.title = t8;\r\n            c.appendChild(this._create_dom_label(\"Run-out B:\", this.#dom_overshoot1, t8));\r\n            c.appendChild(this.#dom_overshoot1);\r\n\r\n            const t10 = \"Number of lanes to skip between each run across the survey area\";\r\n            this.#dom_minLaneSeparation = this._create_dom_input_number(this.#minLaneSeparation, this.#update_minLaneSeparation_from_dom.bind(this), 0);\r\n            this.#dom_minLaneSeparation.title = t10;\r\n            c.appendChild(this._create_dom_label(\"Lane Skip:\", this.#dom_minLaneSeparation, t10));\r\n            c.appendChild(this.#dom_minLaneSeparation);\r\n\r\n            //Try go back now and calculate other values if relevant\r\n            this.#calculate_and_update_capture_variables();\r\n            this.#try_update_dom_stats();\r\n\r\n            this.#dom.append(c);\r\n        }\r\n\r\n        return this.#dom;\r\n    }\r\n\r\n    get_sidelap() {\r\n        return this.#sidelap;\r\n    };\r\n\r\n    get_overlap() {\r\n        return this.#overlap;\r\n    }\r\n\r\n    get_ground_resolution() {\r\n        return this.#ground_resolution;\r\n    };\r\n\r\n    set_sidelap(sidelap:number) {\r\n        this.#set_sidelap(sidelap);\r\n    }\r\n\r\n    #set_sidelap(sidelap:number, update_calcs:boolean = true) {\r\n        this.#sidelap = sidelap;\r\n        if(update_calcs)\r\n            this.#calculate_and_update_capture_variables();\r\n    };\r\n\r\n    set_overlap(overlap:number) {\r\n        this.#overlap = overlap;\r\n        this.#try_update_dom_stats();\r\n    }\r\n\r\n    set_ground_resolution(ground_resolution:number) {\r\n        this.#set_ground_resolution(ground_resolution);\r\n    }\r\n\r\n    #set_ground_resolution(ground_resolution:number, update_calcs:boolean = true) {\r\n        this.#ground_resolution = ground_resolution;\r\n\r\n        if(update_calcs)\r\n            this.#calculate_and_update_capture_variables();\r\n    };\r\n\r\n    #update_sidelap_from_dom() {\r\n        this.set_sidelap(this.#dom_sidelap.valueAsNumber * NeuronFeatureSurvey._xlap_ratio)\r\n    }\r\n\r\n    #update_overlap_from_dom() {\r\n        this.set_overlap(this.#dom_overlap.valueAsNumber * NeuronFeatureSurvey._xlap_ratio)\r\n    }\r\n\r\n    #update_ground_resolution_from_dom() {\r\n        this.#set_ground_resolution(this.#dom_ground_resolution.valueAsNumber * NeuronFeatureSurvey._gsd_ratio)\r\n    }\r\n\r\n    #calculate_and_update_capture_variables() {\r\n        let settings_changed = false;\r\n        const camera = NeuronOptions.get_camera();\r\n\r\n        let altitude = camera.get_distance(this.get_ground_resolution());\r\n\r\n        if(altitude && altitude != this.get_altitude()) {\r\n            settings_changed = true;\r\n\r\n            if(this.#dom_altitude)\r\n                this.#dom_altitude.value = (altitude / NeuronFeatureSurvey._altitude_ratio).toString();\r\n            this.#set_altitude(altitude, false);\r\n        }\r\n\r\n        let projection = camera.get_projected_size(this.#altitude);\r\n\r\n        if(projection && (this.#sidelap >= 0) && (this.#sidelap <= 1)) {\r\n            const sidelap_factor = 1 - this.#sidelap;\r\n            const distance = projection.Width()*sidelap_factor;\r\n\r\n            if(distance != this.get_distance()) {\r\n                settings_changed = true;\r\n\r\n                if(this.#dom_distance)\r\n                this.#dom_distance.value = Math.max(Number.parseFloat(this.#dom_distance.min), distance).toString();\r\n\r\n                this.#set_distance(distance, false);\r\n            }\r\n        }\r\n\r\n        return settings_changed;\r\n    }\r\n\r\n    static override isObjectOfDataType(object: any): object is NeuronFeatureSurveyData {\r\n        let is_valid =\r\n            (object.type == NeuronFeatureSurvey.TYPE) &&\r\n            (object.version == NeuronFeatureSurvey.VERSION);\r\n\r\n        return is_valid;\r\n    }\r\n\r\n    static from_json(j:NeuronFeatureSurveyData, map:L.Map) {\r\n        //XXX: Implement this per inherited feature\r\n        if(!NeuronFeatureSurvey.isObjectOfDataType(j))\r\n            throw new Error(`Invalid type check during creation of NeuronFeatureSurvey`);\r\n\r\n        const corners = j.corners.map(x => NeuronInterfacePoint.from_json(x));\r\n        let s = new NeuronFeatureSurvey(map, corners);\r\n\r\n        s.set_altitude(Number.isNaN(j.altitude) ? 0.0 : j.altitude);\r\n        s.set_distance(Number.isNaN(j.distance) ? 0.0 : j.distance);\r\n        s.set_spacing(Number.isNaN(j.spacing) ? 0.0 : j.spacing);\r\n        s.set_angle(Number.isNaN(j.angle) ? 0.0 : j.angle);\r\n        s.set_overshoot1(Number.isNaN(j.overshoot1) ? 0.0 : j.overshoot1);\r\n        s.set_overshoot2(Number.isNaN(j.overshoot2) ? 0.0 : j.overshoot2);\r\n        s.set_startpos(Number.isNaN(j.startpos) ? 0.0 : j.startpos);\r\n        s.set_minLaneSeparation(Number.isNaN(j.minLaneSeparation) ? 0.0 : j.minLaneSeparation);\r\n        s.set_leadin(Number.isNaN(j.leadin) ? 0.0 : j.leadin);\r\n        s.set_overlap(Number.isNaN(j.overlap) ? 0.0 : j.overlap);\r\n        s.#set_sidelap(Number.isNaN(j.sidelap) ? 0.0 : j.sidelap, false);\r\n        s.#set_ground_resolution(Number.isNaN(j.ground_resolution) ? 0.0 : j.ground_resolution, false);\r\n\r\n        s.#calculate_and_update_capture_variables();\r\n\r\n        return s;\r\n    }\r\n\r\n    override to_json() {\r\n        //XXX: Implement this per inherited feature\r\n        return <NeuronFeatureSurveyData>{\r\n            version: NeuronFeatureSurvey.VERSION,\r\n            type: NeuronFeatureSurvey.TYPE,\r\n            corners: this.get_corners_as_points().map(x => x.to_json()),\r\n            altitude: this.get_altitude(),\r\n            distance: this.get_distance(),\r\n            spacing: this.get_spacing(),\r\n            angle: this.get_angle(),\r\n            overshoot1: this.get_overshoot1(),\r\n            overshoot2: this.get_overshoot2(),\r\n            startpos: this.get_startpos(),\r\n            minLaneSeparation: this.get_minLaneSeparation(),\r\n            leadin: this.get_leadin(),\r\n            overlap: this.get_overlap(),\r\n            sidelap: this.get_sidelap(),\r\n            ground_resolution: this.get_ground_resolution(),\r\n            label: this.get_label(),\r\n        }\r\n    }\r\n}\r\n","import { NeuronFeatureBase } from \"./neuron_feature_base\";\r\nimport { NeuronInterfacePoint, NeuronInterfacePointData } from \"./neuron_interfaces\";\r\nimport { L, create_popup_context_dom, LeafletContextMenuItem, get_neuron_map_marker } from \"./interface_leaflet\";\r\nimport { NeuronHelp } from \"./neuron_help\";\r\nimport { NeuronOptions } from \"./neuron_options\";\r\nimport { NeuronIcons } from \"./interface_fontawesome\";\r\n\r\nexport interface NeuronFeaturePointData {\r\n    version:string,\r\n    type:string,\r\n    point:NeuronInterfacePointData,\r\n    wait_duration:number,\r\n    capture_image:boolean,\r\n    ground_resolution:number,\r\n}\r\n\r\nexport class NeuronFeatureWaypoint extends NeuronFeatureBase {\r\n    static override NAME = \"Waypoint\";\r\n    static override TYPE = \"NeuronFeatureWaypoint\";\r\n    static override VERSION = '1066fce0-dd80-11ec-b085-f96e36263ede';\r\n    static override HELP_KEY = 'waypoint';\r\n    static override IS_FLYABLE = true;\r\n\r\n    #marker:L.Marker;\r\n    #point:NeuronInterfacePoint;\r\n    #dom:HTMLDivElement;\r\n    #dom_lat:HTMLInputElement;\r\n    #dom_lon:HTMLInputElement;\r\n    #dom_alt:HTMLInputElement;\r\n    #dom_hdg:HTMLInputElement;\r\n    #dom_wait:HTMLInputElement;\r\n    #dom_capture:HTMLInputElement;\r\n    #dom_ground_resolution:HTMLInputElement;\r\n\r\n    #wait_duration:number;\r\n    #capture_image:boolean;\r\n    #ground_resolution:number;\r\n\r\n    #unsub_option_cb:CallableFunction;\r\n\r\n    static _gsd_ratio = 0.01;   //GSD = [DOM Value] * Ratio\r\n\r\n    constructor(map:L.Map, point:NeuronInterfacePoint=null) {\r\n        super(map);\r\n\r\n        this.#marker = null;\r\n        this.#point = null;\r\n        this.#dom = null;\r\n        this.#dom_lat = null;\r\n        this.#dom_lon = null;\r\n        this.#dom_alt = null;\r\n        this.#dom_hdg = null;\r\n        this.#dom_wait = null;\r\n        this.#dom_capture = null;\r\n        this.#dom_ground_resolution = null;\r\n\r\n        this.#wait_duration = 0;\r\n        this.#capture_image = false;\r\n        this.#ground_resolution = 0;\r\n\r\n        if(point)\r\n            this.set_point(point);\r\n\r\n        this.#unsub_option_cb = NeuronOptions.add_callback(this.#options_changed.bind(this));\r\n    }\r\n\r\n    set_options_subscriber() {\r\n        if(this.#unsub_option_cb)\r\n            this.#unsub_option_cb();\r\n\r\n        this.#unsub_option_cb = NeuronOptions.add_callback(this.#options_changed.bind(this));\r\n    }\r\n\r\n    #options_changed() {\r\n        //Give preference to update altitude from current ground resolution if we're capturing an image\r\n        if(this.#capture_image) {\r\n            this.set_ground_resolution(this.#ground_resolution);\r\n        } else {\r\n            this.#internal_set_point(this.#point, false, false, true);  //Only use this to trigger calcs, don't update other marker details\r\n        }\r\n    }\r\n\r\n    remove_point_by_context(context:L.Marker) {\r\n        if(this.#marker == context) {\r\n            this.remove_feature();\r\n        } else {\r\n            console.warn(\"Call to remove unknown marker context\");\r\n        }\r\n    }\r\n\r\n    #remove_point_by_event(event:L.LeafletEvent) {\r\n        this.remove_point_by_context(event.target);\r\n    }\r\n\r\n    #update_position_from_event(event:L.LeafletEvent) {\r\n        let point = NeuronInterfacePoint.from_leaflet(event.target.getLatLng());\r\n        if (this.#point)\r\n            point.altitude = this.#point.altitude;\r\n        this.#internal_set_point(point);\r\n    }\r\n\r\n    set_point(point:NeuronInterfacePoint) {\r\n        if(!this.#marker) {\r\n            this.#marker = L.marker(point.to_leaflet(),{\r\n                draggable: true,\r\n                autoPan: true,\r\n                icon: get_neuron_map_marker('neuron-marker-waypoint')\r\n            })\r\n\r\n            this.#marker.on(\"drag\", this.#update_position_from_event.bind(this));\r\n            this.#marker.on(\"dblclick\", this.#remove_point_by_event.bind(this));\r\n\r\n            const menu_items = [\r\n                new LeafletContextMenuItem(\"Show in plan\", NeuronIcons.PLAN_LIST, this.show_on_plan.bind(this)),\r\n                null,\r\n                new LeafletContextMenuItem(\"Remove\", NeuronIcons.DELETE, this.remove_point_by_context.bind(this)),\r\n            ]\r\n            this.#marker.bindPopup(create_popup_context_dom(\"Waypoint\", menu_items, this.#marker));\r\n\r\n            this._add_layer_to_map(this.#marker);\r\n        }\r\n\r\n        this.#internal_set_point(point);\r\n    }\r\n\r\n    show_on_plan() {\r\n        if(this.#dom) {\r\n            this.#dom.scrollIntoView();\r\n            this.#dom.classList.remove('mission-feature-highlight-remove');\r\n            this.#dom.classList.add('mission-feature-highlight');\r\n            setTimeout(this.#remove_dom_highlight.bind(this), 1000);\r\n        }\r\n    }\r\n\r\n    #remove_dom_highlight() {\r\n        if(this.#dom) {\r\n            this.#dom.classList.remove('mission-feature-highlight');\r\n            this.#dom.classList.add('mission-feature-highlight-remove');\r\n        }\r\n    }\r\n\r\n    #internal_set_point(point:NeuronInterfacePoint, update_marker:boolean = true, update_dom:boolean=true, update_calcs:boolean=true) {\r\n        this.#point = point;\r\n\r\n        if(update_marker && this.#marker)\r\n            this.#marker.setLatLng(point.to_leaflet());\r\n\r\n        if(update_dom) {\r\n            if(this.#dom_lat)\r\n                this.#dom_lat.value = point.latitude.toString();\r\n\r\n            if(this.#dom_lon)\r\n                this.#dom_lon.value = point.longitude.toString();\r\n\r\n            if(this.#dom_alt)\r\n                this.#dom_alt.value = (point.altitude / NeuronFeatureBase._altitude_ratio).toString();\r\n\r\n            if(this.#dom_hdg)\r\n                this.#dom_hdg.value = point.heading.toString();\r\n        }\r\n\r\n        if(update_calcs) {\r\n            let resolution = NeuronOptions.get_camera().get_ground_resolution(this.#point.altitude);\r\n            if(resolution) {\r\n                if(this.#dom_ground_resolution)\r\n                    this.#dom_ground_resolution.value = (resolution / NeuronFeatureWaypoint._gsd_ratio).toString();\r\n\r\n                this.#set_ground_resolution(resolution, false, false);\r\n            }\r\n        }\r\n\r\n        this._trigger_on_changed();\r\n    }\r\n\r\n    get_wait_duration() {\r\n        return this.#wait_duration;\r\n    }\r\n\r\n    set_wait_duration(wait_duration:number) {\r\n        this.#wait_duration = wait_duration;\r\n\r\n        if(this.#dom_wait)\r\n            this.#dom_wait.value = this.#wait_duration.toString();\r\n\r\n        this._trigger_on_changed();\r\n    }\r\n\r\n    get_image_count() {\r\n        return this.#capture_image ? 1 : 0;\r\n    }\r\n\r\n    get_capture_image() {\r\n        return this.#capture_image;\r\n    }\r\n\r\n    set_capture_image(capture_image:boolean) {\r\n        this.#capture_image = capture_image;\r\n\r\n        if(this.#dom_capture)\r\n            this.#dom_capture.checked = this.#capture_image;\r\n\r\n        this._trigger_on_changed();\r\n    }\r\n\r\n    #update_latitude_from_dom() {\r\n        if(this.#point && this.#dom_lat)\r\n            this.#point.latitude = this.#dom_lat.valueAsNumber;\r\n\r\n        this.#internal_set_point(this.#point, true, false, true);\r\n    }\r\n\r\n    #update_longitude_from_dom() {\r\n        if(this.#point && this.#dom_lon)\r\n            this.#point.longitude = this.#dom_lon.valueAsNumber;\r\n\r\n        this.#internal_set_point(this.#point, true, false, true);\r\n    }\r\n\r\n    #update_altitude_from_dom() {\r\n        if(this.#point && this.#dom_alt)\r\n            this.#point.altitude = this.#dom_alt.valueAsNumber * NeuronFeatureBase._altitude_ratio;\r\n\r\n        this.#internal_set_point(this.#point, true, false, true);\r\n    }\r\n\r\n    #update_heading_from_dom() {\r\n        if(this.#point && this.#dom_hdg)\r\n            this.#point.heading = this.#dom_hdg.valueAsNumber;\r\n\r\n        this.#internal_set_point(this.#point, true, false);\r\n    }\r\n\r\n    #update_wait_duration_from_dom() {\r\n        this.#wait_duration = this.#dom_wait.valueAsNumber;\r\n\r\n        this._trigger_on_changed();\r\n    }\r\n\r\n    #update_capture_image_from_dom() {\r\n        this.#capture_image = this.#dom_capture.checked;\r\n\r\n        this._trigger_on_changed();\r\n    }\r\n\r\n    #update_ground_resolution_from_dom() {\r\n        this.#set_ground_resolution(this.#dom_ground_resolution.valueAsNumber * NeuronFeatureWaypoint._gsd_ratio);\r\n    }\r\n\r\n    override show_help() {\r\n        window.neuron_map.show_map_help(true, `${NeuronHelp.HELP_PREFIX_MISSION}-${NeuronFeatureWaypoint.HELP_KEY}`);\r\n    }\r\n\r\n    override remove_feature() {\r\n        if(this.#marker)\r\n            this._remove_layer_from_map(this.#marker);\r\n\r\n        super.remove_feature();\r\n    }\r\n\r\n    override get_path_coords() {\r\n        return this.#point ? [this.#point] : [];\r\n    }\r\n\r\n    override is_flyable() {\r\n        return NeuronFeatureWaypoint.IS_FLYABLE;\r\n    }\r\n\r\n    override get_dom() {\r\n        if(!this.#dom) {\r\n            this.#dom = this._get_dom(\"Waypoint\");\r\n\r\n            let c = document.createElement(\"div\");\r\n            c.className = 'mission-feature-content';\r\n\r\n            const t0 = \"Latitude location for the waypoint in decimal degrees\";\r\n            this.#dom_lat = this._create_dom_input_number(this.#point ? this.#point.latitude : 0.0, this.#update_latitude_from_dom.bind(this), -90, 90, 0.0002);\r\n            this.#dom_lat.title = t0;\r\n            c.appendChild(this._create_dom_label(\"Latitude:\", this.#dom_lat, t0));\r\n            c.appendChild(this.#dom_lat);\r\n\r\n            const t1 = \"Longitude location for the waypoint in decimal degrees\";\r\n            this.#dom_lon = this._create_dom_input_number(this.#point ? this.#point.longitude : 0.0, this.#update_longitude_from_dom.bind(this), -180, 180, 0.0002);\r\n            this.#dom_lon.title = t1;\r\n            c.appendChild(this._create_dom_label(\"Longitude:\", this.#dom_lon, t1));\r\n            c.appendChild(this.#dom_lon);\r\n\r\n            const t2 = \"Altitude for the waypoint in feet relative to take-off location ground level\";\r\n            this.#dom_alt = this._create_dom_input_number((this.#point ? this.#point.altitude : 0.0) / NeuronFeatureBase._altitude_ratio, this.#update_altitude_from_dom.bind(this));\r\n            this.#dom_alt.title = t2;\r\n            c.appendChild(this._create_dom_label(\"Altitude:\", this.#dom_alt, t2));\r\n            c.appendChild(this.#dom_alt);\r\n\r\n            const t3 = \"Heading for the waypoint in degrees relative to North\";\r\n            this.#dom_hdg = this._create_dom_input_number((this.#point ? this.#point.heading : 0.0), this.#update_heading_from_dom.bind(this), -180, 180);\r\n            this.#dom_hdg.title = t3;\r\n            c.appendChild(this._create_dom_label(\"Heading:\", this.#dom_hdg, t3));\r\n            c.appendChild(this.#dom_hdg);\r\n\r\n            const t4 = \"Duration in seconds for the aircraft to hold position at the waypoint\";\r\n            this.#dom_wait = this._create_dom_input_number(this.#wait_duration, this.#update_wait_duration_from_dom.bind(this), 0);\r\n            this.#dom_wait.title = t4;\r\n            c.appendChild(this._create_dom_label(\"Wait:\", this.#dom_wait, t4));\r\n            c.appendChild(this.#dom_wait);\r\n\r\n            const t5 = \"Capture an image when the aircraft arrives at the waypoint\";\r\n            this.#dom_capture = this._create_dom_input_checkbox(this.#capture_image, this.#update_capture_image_from_dom.bind(this));\r\n            this.#dom_capture.title = t5;\r\n            c.appendChild(this._create_dom_label(\"Capture:\", this.#dom_capture, t5));\r\n            c.appendChild(this.#dom_capture);\r\n\r\n            const t18 = \"Ground sampling distance, or ground resolution, in centimeters per pixel\";\r\n            this.#dom_ground_resolution = this._create_dom_input_number(this.#ground_resolution / NeuronFeatureWaypoint._gsd_ratio, this.#update_ground_resolution_from_dom.bind(this), 0, null, 0.2);\r\n            this.#dom_ground_resolution.title = t18;\r\n            c.appendChild(this._create_dom_label(\"GSD:\", this.#dom_ground_resolution, t18));\r\n            c.appendChild(this.#dom_ground_resolution);\r\n\r\n            this.#dom.append(c);\r\n        }\r\n\r\n        return this.#dom;\r\n    }\r\n\r\n    set_ground_resolution(ground_resolution:number) {\r\n        this.#set_ground_resolution(ground_resolution);\r\n    }\r\n\r\n    #set_ground_resolution(ground_resolution:number, update_calcs:boolean = true, trigger_callbacks:boolean = true) {\r\n        this.#ground_resolution = ground_resolution;\r\n\r\n        if(update_calcs) {\r\n            let altitude = NeuronOptions.get_camera().get_distance(this.get_ground_resolution());\r\n\r\n            if( altitude && altitude != this.#point.altitude) {\r\n                this.#point.altitude = altitude;\r\n                this.#internal_set_point(this.#point, true, true, false);\r\n            }\r\n        }\r\n\r\n        if(trigger_callbacks)\r\n            this._trigger_on_changed();\r\n    };\r\n\r\n\r\n    get_ground_resolution() {\r\n        return this.#ground_resolution;\r\n    };\r\n\r\n    static override isObjectOfDataType(object: any): object is NeuronFeaturePointData {\r\n        let is_valid =\r\n            (object.type == NeuronFeatureWaypoint.TYPE) &&\r\n            (object.version == NeuronFeatureWaypoint.VERSION);\r\n\r\n        return is_valid;\r\n    }\r\n\r\n    static override from_json(j:NeuronFeaturePointData, map:L.Map) {\r\n        //XXX: Implement this per inherited feature\r\n        if(!NeuronFeatureWaypoint.isObjectOfDataType(j))\r\n            throw new Error(`Invalid type check during creation of NeuronFeaturePoint`);\r\n\r\n        const point = NeuronInterfacePoint.from_json(j.point);\r\n        const p = new NeuronFeatureWaypoint(map, point);\r\n        p.set_wait_duration(Number.isNaN(j.wait_duration) ? 0.0 : j.wait_duration);\r\n        p.set_capture_image(Boolean(j.capture_image));\r\n        p.set_ground_resolution(Number.isNaN(j.ground_resolution) ? 0.0 : j.ground_resolution); //Also triggers update of calculations\r\n        return p;\r\n    }\r\n\r\n    override to_json() {\r\n        //XXX: Implement this per inherited feature\r\n        return <NeuronFeaturePointData>{\r\n            version: NeuronFeatureWaypoint.VERSION,\r\n            type: NeuronFeatureWaypoint.TYPE,\r\n            point: this.#point.to_json(),\r\n            wait_duration: this.#wait_duration,\r\n            capture_image: this.#capture_image,\r\n            ground_resolution: this.#ground_resolution,\r\n        }\r\n    }\r\n}\r\n","\r\nexport class NeuronHelp {\r\n    static HELP_PREFIX_MISSION = 'help-fp-mission';\r\n\r\n    #help_element_name:string;\r\n    #help_element_ignore_subs:string[];\r\n\r\n    #controller :AbortController;\r\n\r\n    static key_hover_start:string = \"mouseenter\";\r\n    static key_hover_end:string = \"mouseleave\";\r\n\r\n    static class_highlight:string = \"help-highlight\";\r\n\r\n    constructor(help_element_name:string, ignore_sub_keys:string[] = []) {\r\n        this.#help_element_name = help_element_name;\r\n        this.#controller = new AbortController();\r\n        this.#help_element_ignore_subs = ignore_sub_keys;\r\n    }\r\n\r\n    #add_hover(trigger_element:HTMLElement, target_element:HTMLElement) {\r\n        // console.log('mouse entered');\r\n        target_element.classList.add(NeuronHelp.class_highlight);\r\n    }\r\n\r\n    #remove_hover(trigger_element:HTMLElement, target_element:HTMLElement) {\r\n        target_element.classList.remove(NeuronHelp.class_highlight);\r\n        // console.log('mouse exit');\r\n    }\r\n\r\n    #configure_linked_element_callbacks(trigger_element:HTMLElement) {\r\n        if(trigger_element.id) {\r\n            const target_element_ids = trigger_element.id.split(this.#help_element_name + '-');\r\n            const target_element_id = target_element_ids.length > 1 ? target_element_ids[1] : null;\r\n            let target_element = target_element_id ? document.getElementById(target_element_id) : null;\r\n\r\n            if(target_element) {\r\n                // console.log(`Adding help hover display for ${trigger_element.id} -> ${target_element_id}`)\r\n\r\n                trigger_element.addEventListener(NeuronHelp.key_hover_start, this.#add_hover.bind(this, trigger_element, target_element));\r\n                trigger_element.addEventListener(NeuronHelp.key_hover_end, this.#remove_hover.bind(this, trigger_element, target_element));\r\n            } else {\r\n                throw new Error(\"Unable to identify target element with ID: \" + target_element_id);\r\n            }\r\n        } else {\r\n            throw new Error(\"Unable to link element without ID!\");\r\n        }\r\n    }\r\n\r\n    stop() {\r\n        // this.#undo_listeners();\r\n        this.#controller.abort();\r\n    }\r\n\r\n    reset() {\r\n        this.stop();\r\n\r\n        //Go through all the elements we can find and add in our hover callbacks\r\n        const section_elements = Array.from(document.querySelectorAll(\"section\"));\r\n        //Filter to any elements that have out key plus some extra stuff that could be the ID we need\r\n        let help_elements = section_elements.filter(\r\n            x => x.id.includes(this.#help_element_name) && (x.id.length > this.#help_element_name.length)\r\n        );\r\n\r\n        //Iteratively filter to remove any unwanted sub-IDs\r\n        for(const i of this.#help_element_ignore_subs)\r\n            help_elements = help_elements.filter(x => !x.id.includes(`${this.#help_element_name}-${i}-`))\r\n\r\n        //Add the hover function to remaining elements\r\n        for(let e of help_elements)\r\n            this.#configure_linked_element_callbacks(e);\r\n    }\r\n}\r\n","import { L } from \"./interface_leaflet\";\r\nimport { Rect } from \"./neuron_tools_survey\";\r\nimport { UTMPos } from \"./interface_proj4\";\r\n\r\n// @ts-ignore\r\n// import * as UTMConverter from \"utm-latlng\";\r\n\r\nexport interface NeuronInterfacePointData {\r\n    latitude: number;\r\n    longitude: number;\r\n    altitude:number;\r\n    heading:number;\r\n    tag:string;\r\n}\r\n\r\nexport class NeuronInterfacePoint {\r\n    latitude: number;\r\n    longitude: number;\r\n    altitude:number;\r\n    heading:number;\r\n    tag:string;\r\n\r\n    static _altitude_ratio = 0.3048;\r\n\r\n    constructor(latitude:number=0.0, longitude:number=0.0, altitude:number=0.0, heading:number=0.0, tag:string=\"\") {\r\n        this.latitude = latitude;\r\n        this.longitude = longitude;\r\n        this.altitude = altitude;\r\n        this.heading = heading;\r\n        this.tag = tag;\r\n    }\r\n\r\n    static projection_code() {\r\n        return 'WGS84';\r\n    }\r\n\r\n    equals(other:NeuronInterfacePoint) {\r\n        return this.latitude == other.latitude &&\r\n               this.longitude == other.longitude &&\r\n               this.altitude == other.altitude &&\r\n               this.heading == other.heading;\r\n    }\r\n\r\n    to_leaflet() {\r\n        return L.latLng([this.latitude, this.longitude]);\r\n    }\r\n\r\n    static from_leaflet(latlng:L.LatLng) {\r\n        return new NeuronInterfacePoint(latlng.lat, latlng.lng);\r\n    }\r\n\r\n    to_UTM(zone:number = null) {\r\n        return UTMPos.from_NeuronInterfacePoint(this, zone);\r\n    }\r\n\r\n    static from_UTM(utm:UTMPos) {\r\n        return utm.to_NeuronInterfacePoint();\r\n    }\r\n\r\n    static from_UTMs(positions:UTMPos[]) {\r\n        return positions.map(p => p.to_NeuronInterfacePoint());\r\n    }\r\n\r\n    static isObjectOfDataType(object: any): object is NeuronInterfacePointData {\r\n        let is_valid =\r\n            Number.isFinite(object.latitude) &&\r\n            Number.isFinite(object.longitude) &&\r\n            Number.isFinite(object.altitude) &&\r\n            ((object.tag !== undefined) || (object.tag !== null)) ;\r\n\r\n        return is_valid;\r\n    }\r\n\r\n    static from_json(j:NeuronInterfacePointData) {\r\n        if(!NeuronInterfacePoint.isObjectOfDataType(j))\r\n            throw new Error(`Invalid type check during creation of NeuronInterfacePoint`);\r\n\r\n        return new NeuronInterfacePoint(\r\n            Number.isNaN(j.latitude) ? 0.0 : j.latitude,\r\n            Number.isNaN(j.longitude) ? 0.0 : j.longitude,\r\n            Number.isNaN(j.altitude) ? 0.0 : j.altitude,\r\n            Number.isNaN(j.heading) ? 0.0 : j.heading,\r\n            j.tag ? j.tag.toString() : \"\"\r\n        );\r\n    }\r\n\r\n    to_json() {\r\n        return <NeuronInterfacePointData>{\r\n            latitude: this.latitude,\r\n            longitude: this.longitude,\r\n            altitude:this.altitude,\r\n            heading:this.heading,\r\n            tag:this.tag,\r\n        }\r\n    }\r\n\r\n    #value_as_DMS(dd:number, is_lng:boolean) {\r\n        const dir = dd < 0 ? (is_lng ? \"W\" : \"S\") : is_lng ? \"E\" : \"N\";\r\n        const deg = 0 | (dd < 0 ? (dd = -dd) : dd);\r\n        const min = 0 | (((dd += 1e-9) % 1) * 60);\r\n        const sec = (0 | (((dd * 60) % 1) * 6000)) / 100;\r\n\r\n        return `${deg.toFixed(0)} ${min.toFixed(0)}' ${sec.toFixed(2)}\" ${dir}`;\r\n    }\r\n\r\n    toString(use_imperial:boolean = true, use_decimal:boolean = false) {\r\n        return `[${this.toStringLatitude(use_decimal)}, ${this.toStringLatitude(use_decimal)}, ${this.toStringAltitude(use_imperial)}]`;\r\n     }\r\n\r\n     toStringLatitude(use_decimal:boolean = false) {\r\n        return use_decimal ? this.latitude.toFixed(8) + '' : this.#value_as_DMS(this.latitude, false);\r\n     }\r\n\r\n     toStringLongitude(use_decimal:boolean = false) {\r\n        return use_decimal ? this.longitude.toFixed(8) + '' : this.#value_as_DMS(this.longitude, true);\r\n     }\r\n\r\n     toStringAltitude(use_imperial:boolean = true) {\r\n        return use_imperial ? (this.altitude / NeuronInterfacePoint._altitude_ratio ).toFixed(2) + \"'\" : this.altitude.toFixed(2) + 'm';\r\n     }\r\n}\r\n\r\nexport interface NeuronCameraSpecificationsData {\r\n    name:string;\r\n    focal_length:number;    //mm\r\n    sensor_width:number;    //mm\r\n    sensor_height:number;   //mm\r\n    image_width:number;     //px\r\n    image_height:number;    //px\r\n}\r\n\r\nexport class NeuronCameraSpecifications {\r\n    static TYPE = \"NeuronCameraSpecifications\";\r\n    static VERSION = 'c5a01d00-d4fa-11ec-95ac-1b0aaa4d0e1e';\r\n\r\n    name:string;\r\n    focal_length:number;    //mm\r\n    sensor_width:number;    //mm\r\n    sensor_height:number;   //mm\r\n    image_width:number;     //px\r\n    image_height:number;    //px\r\n\r\n    constructor(name:string=\"Custom\", focal_length:number = 0.0, sensor_width:number = 0.0, sensor_height:number = 0.0, image_width:number = 0, image_height:number = 0) {\r\n        this.name = name;\r\n        this.focal_length = focal_length;\r\n        this.sensor_width = sensor_width;\r\n        this.sensor_height = sensor_height;\r\n        this.image_width = image_width;\r\n        this.image_height = image_height;\r\n    }\r\n\r\n    copy() {\r\n        return new NeuronCameraSpecifications(\r\n            this.name,\r\n            this.focal_length,\r\n            this.sensor_width,\r\n            this.sensor_height,\r\n            this.image_width,\r\n            this.image_height\r\n        );\r\n    }\r\n\r\n    equals(other:NeuronCameraSpecifications) {\r\n        return (this.name == other.name) &&\r\n               (this.focal_length == other.focal_length) &&\r\n               (this.sensor_width == other.sensor_width) &&\r\n               (this.sensor_height == other.sensor_height) &&\r\n               (this.image_width == other.image_width) &&\r\n               (this.image_height == other.image_height);\r\n    }\r\n\r\n    is_valid() {\r\n        return (this.focal_length > 0) &&\r\n               (this.sensor_width > 0) &&\r\n               (this.sensor_height > 0) &&\r\n               (this.image_width > 0) &&\r\n               (this.image_height > 0);\r\n    }\r\n\r\n    get_ground_resolution(distance:number) {\r\n        let res:number = null;\r\n\r\n        if(this.is_valid() && distance > 0) {\r\n            //XXX: Assume square pixels\r\n            const projection = this.get_projected_size(distance);\r\n            if(projection) {\r\n                res = projection.Width() / this.image_width;\r\n            }\r\n        }\r\n\r\n        return res;\r\n    }\r\n\r\n    get_distance(ground_resolution:number) {\r\n        let res:number = null;\r\n\r\n        if(this.is_valid() && ground_resolution > 0) {\r\n            //XXX: Assume square pixels\r\n            const ground_span = this.image_width * ground_resolution;\r\n            const fov2_w = Math.atan2(this.sensor_width, 2*this.focal_length);\r\n\r\n            //Calculate from half the ground span for half the AoV\r\n            res = (ground_span / 2) / Math.tan(fov2_w);\r\n        }\r\n\r\n        return res;\r\n    }\r\n\r\n    get_projection(distance:number) {\r\n        let proj:Rect = null;\r\n\r\n        if(this.is_valid() && distance > 0) {\r\n            //Calculate the half field of views\r\n            const fov2_h = Math.atan2(this.sensor_height, 2*this.focal_length);\r\n            const fov2_w = Math.atan2(this.sensor_width, 2*this.focal_length);\r\n\r\n            //Calculate the half distances\r\n            const h2 = Math.tan(fov2_h) * distance;\r\n            const w2 = Math.tan(fov2_w) * distance;\r\n\r\n            proj = new Rect(-w2, -h2, 2*w2, 2*h2);\r\n        }\r\n\r\n        return proj;\r\n    }\r\n\r\n    get_projected_size(distance:number) {\r\n        let proj:Rect = null;\r\n\r\n        if(this.is_valid() && distance > 0) {\r\n            //Calculate the half field of views\r\n            const fov2_h = Math.atan2(this.sensor_height, 2*this.focal_length);\r\n            const fov2_w = Math.atan2(this.sensor_width, 2*this.focal_length);\r\n\r\n            //Calculate the half distances\r\n            const h2 = Math.tan(fov2_h) * distance;\r\n            const w2 = Math.tan(fov2_w) * distance;\r\n\r\n            proj = new Rect(-w2, -h2, 2*w2, 2*h2);\r\n        }\r\n\r\n        return proj;\r\n    }\r\n\r\n\r\n\r\n    static isObjectOfDataType(object: any): object is NeuronCameraSpecificationsData {\r\n        let is_valid =\r\n            (object.type == NeuronCameraSpecifications.TYPE) &&\r\n            (object.version == NeuronCameraSpecifications.VERSION);\r\n\r\n        return is_valid;\r\n    }\r\n\r\n\r\n    static from_json(j:NeuronCameraSpecificationsData) {\r\n        //XXX: Implement this per inherited feature\r\n        if(!NeuronCameraSpecifications.isObjectOfDataType(j))\r\n            throw new Error(`Invalid type check during creation of NeuronCameraSpecifications`);\r\n\r\n        return new NeuronCameraSpecifications(\r\n            j.name,\r\n            j.focal_length,\r\n            j.sensor_width,\r\n            j.sensor_height,\r\n            j.image_width,\r\n            j.image_height\r\n        );\r\n    }\r\n\r\n    to_json() {\r\n        return <NeuronCameraSpecificationsData>{\r\n            version: NeuronCameraSpecifications.VERSION,\r\n            type: NeuronCameraSpecifications.TYPE,\r\n            name: this.name,\r\n            focal_length: this.focal_length,\r\n            sensor_width: this.sensor_width,\r\n            sensor_height: this.sensor_height,\r\n            image_width: this.image_width,\r\n            image_height: this.image_height,\r\n        }\r\n    }\r\n}\r\n","import {NeuronFeatureWaypoint} from \"./neuron_feature_waypoint\";\r\nimport {NeuronFeaturePolygon} from \"./neuron_feature_polygon\";\r\n\r\nimport { NeuronPlanner } from \"./neuron_planner\";\r\n\r\nimport {NeuronInterfacePoint} from \"./neuron_interfaces\";\r\nimport { L } from \"./interface_leaflet\";\r\nimport { NeuronFeatureSurvey } from \"./neuron_feature_survey\";\r\nimport { NeuronOptions, NeuronOptionsBoolean } from \"./neuron_options\";\r\nimport { NeuronFeaturePoint } from \"./neuron_feature_point\";\r\n\r\ninterface NeuronMapLayers {\r\n    [id: string]: L.TileLayer;\r\n}\r\n\r\nexport class NeuronMap {\r\n    #planner:NeuronPlanner\r\n    #map:L.Map;\r\n    #map_layer_control:L.Control.Layers;\r\n    #map_zoom_control:L.Control.Zoom;\r\n    #path:L.Polyline;\r\n    #map_element_name:string;\r\n    #help_element_name:string;\r\n    #map_element:HTMLElement;\r\n    #help_element:HTMLElement;\r\n    #map_layers:NeuronMapLayers;\r\n    #unsub_option_cb:CallableFunction;\r\n\r\n    constructor(map_element_name:string, help_element_name:string, planner:NeuronPlanner) {\r\n        this.#planner = planner;\r\n        this.#map = null;\r\n        this.#map_layer_control = null;\r\n        this.#map_zoom_control = null;\r\n        this.#map_layers = null;\r\n        this.#map_element = null;\r\n        this.#help_element = null;\r\n        this.#map_element_name = map_element_name;\r\n        this.#help_element_name = help_element_name;\r\n\r\n        this.#planner.on_mission_change(this.update_path.bind(this));\r\n        this.set_options_subscriber();\r\n    }\r\n\r\n    set_options_subscriber() {\r\n        if(this.#unsub_option_cb)\r\n            this.#unsub_option_cb();\r\n\r\n        this.#unsub_option_cb = NeuronOptions.add_callback(this.update_path.bind(this));\r\n    }\r\n\r\n    show_map_help(show:boolean, help_key:string = '') {\r\n        if(show) {\r\n            this.#map_element.style.display = 'none';\r\n            this.#help_element.style.display = 'block';\r\n\r\n            if(help_key)\r\n                document.getElementById(help_key)?.scrollIntoView();\r\n        } else {\r\n            this.#map_element.style.display = 'block';\r\n            this.#help_element.style.display = 'none';\r\n            this.reset();\r\n        }\r\n    }\r\n\r\n    toggle_map_help() {\r\n        this.show_map_help(this.#map_element.style.display != 'none');\r\n    }\r\n\r\n    get_leaflet_map() {\r\n        return this.#map;\r\n    }\r\n\r\n    set_location(location:NeuronInterfacePoint, zoom=13) {\r\n        if(this.#map) {\r\n            this.#map.setView(location.to_leaflet(), zoom);\r\n        }\r\n    }\r\n\r\n    zoom_to(feature_group:L.FeatureGroup) {\r\n        if(this.#map) {\r\n            this.#map.fitBounds(feature_group.getBounds());\r\n        }\r\n    }\r\n\r\n    add_feature(feature:L.Layer) {\r\n        if(this.#map) {\r\n            feature.addTo(this.#map);\r\n        }\r\n    }\r\n\r\n    add_features(features:L.Layer[]) {\r\n        for(const f of features)\r\n            this.add_feature(f);\r\n    }\r\n\r\n    on_double_click(event:L.LeafletMouseEvent) {\r\n        //Click modifier handlers\r\n        //CTRL+Click: Add new waypoint\r\n        // if(event.originalEvent.ctrlKey) {\r\n            //...\r\n        // } else {\r\n            const l = NeuronInterfacePoint.from_leaflet(event.latlng);\r\n            l.altitude = this.#planner.get_last_item_altitude();\r\n            const p = new NeuronFeatureWaypoint(this.#map, l);\r\n            this.#planner.add_mission_item(p);\r\n        // }\r\n    }\r\n\r\n    create_point_in_view() {\r\n        if(this.#map) {\r\n            const b = this.#map.getBounds();\r\n            const ne = b.getNorthEast();\r\n            const sw = b.getSouthWest();\r\n            const dx = ne.lng - sw.lng;\r\n            const dy = ne.lat - sw.lat;\r\n\r\n            const p = new NeuronFeaturePoint(this.#map, new NeuronInterfacePoint(\r\n                sw.lat + dy / 2,\r\n                sw.lng + dx / 2,\r\n                this.#planner.get_last_item_altitude()\r\n            ));\r\n            p.set_planner(this.#planner);\r\n            this.#planner.add_mission_item(p);\r\n        }\r\n    }\r\n\r\n    create_waypoint_in_view() {\r\n        if(this.#map) {\r\n            const b = this.#map.getBounds();\r\n            const ne = b.getNorthEast();\r\n            const sw = b.getSouthWest();\r\n            const dx = ne.lng - sw.lng;\r\n            const dy = ne.lat - sw.lat;\r\n\r\n            const p = new NeuronFeatureWaypoint(this.#map, new NeuronInterfacePoint(\r\n                sw.lat + dy / 2,\r\n                sw.lng + dx / 2,\r\n                this.#planner.get_last_item_altitude()\r\n            ));\r\n            this.#planner.add_mission_item(p);\r\n        }\r\n    }\r\n\r\n    #get_poly_bounds_from_view() {\r\n        let bounds:NeuronInterfacePoint[] = [];\r\n        if(this.#map) {\r\n            const b = this.#map.getBounds();\r\n            const ne = b.getNorthEast();\r\n            const sw = b.getSouthWest();\r\n            const dx = ne.lng - sw.lng;\r\n            const dy = ne.lat - sw.lat;\r\n\r\n            bounds = [\r\n                new NeuronInterfacePoint(sw.lat +     dy / 4, sw.lng +     dx / 4),\r\n                new NeuronInterfacePoint(sw.lat + 3 * dy / 4, sw.lng +     dx / 4),\r\n                new NeuronInterfacePoint(sw.lat + 3 * dy / 4, sw.lng + 3 * dx / 4),\r\n                new NeuronInterfacePoint(sw.lat +     dy / 4, sw.lng + 3 * dx / 4)\r\n            ];\r\n        }\r\n\r\n        return bounds;\r\n    }\r\n\r\n    create_polygon_in_view() {\r\n        const bounds = this.#get_poly_bounds_from_view();\r\n\r\n        if(this.#map && bounds.length) {\r\n            const p = new NeuronFeaturePolygon(this.#map, bounds);\r\n            p.set_planner(this.#planner);\r\n            this.#planner.add_mission_item(p);\r\n        }\r\n    }\r\n\r\n    create_survey_in_view() {\r\n        const bounds = this.#get_poly_bounds_from_view();\r\n\r\n        if(this.#map && bounds.length) {\r\n            const p = new NeuronFeatureSurvey(this.#map, bounds);\r\n            p.set_altitude(this.#planner.get_last_item_altitude());\r\n            this.#planner.add_mission_item(p);\r\n        }\r\n    }\r\n\r\n    update_path() {\r\n        if(this.#path) {\r\n            const show = NeuronOptions.get_option_boolean(NeuronOptionsBoolean.SHOW_PATH);\r\n            const path_points = show ? this.#planner.get_mission_as_points().map(x => x.to_leaflet()) : [];\r\n            this.#path.setLatLngs(path_points);\r\n        }\r\n    }\r\n\r\n    toggle_map_tools(show:boolean) {\r\n\r\n        if(this.#map) {\r\n\r\n            if(!this.#map_zoom_control) {\r\n                this.#map.zoomControl;\r\n            }\r\n\r\n            if(!show && this.#map_zoom_control) {\r\n                this.#map_zoom_control.remove();\r\n                this.#map_zoom_control = null;\r\n            } else if(!this.#map_zoom_control) {\r\n                this.#map_zoom_control = L.control.zoom();\r\n                this.#map_zoom_control.addTo(this.#map);\r\n            }\r\n\r\n            if(!show && this.#map_layer_control) {\r\n                this.#map_layer_control.remove();\r\n                this.#map_layer_control = null;\r\n            } else if(!this.#map_layer_control) {\r\n                this.#map_layer_control = L.control.layers(this.#map_layers); //, otherLayers...\r\n                this.#map_layer_control.addTo(this.#map);\r\n            }\r\n        }\r\n    }\r\n\r\n\treset() {\r\n        this.#map_element = document.getElementById(this.#map_element_name);\r\n        this.#help_element = document.getElementById(this.#help_element_name);\r\n\r\n\t\tif(!this.#map) {\r\n\t\t\tconst tiles_grey = L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {\r\n\t\t\t\tattribution: 'Map data &copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors, Imagery  <a href=\"https://www.mapbox.com/\">Mapbox</a>',\r\n\t\t\t\tmaxZoom: 18,\r\n\t\t\t\tid: 'mapbox/streets-v11',\r\n\t\t\t\ttileSize: 512,\r\n\t\t\t\tzoomOffset: -1,\r\n\t\t\t\taccessToken: 'pk.eyJ1Ijoia3llbW9ydG9uIiwiYSI6ImNsMzJneXAybDAzcWwzY3BhNjB4OHJqMnoifQ.fue3o8Y3wWH4y_Wi50oUXw'\r\n\t\t\t});\r\n\t\t\tconst tiles_satellite = L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {\r\n\t\t\t\tattribution: 'Map data &copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors, Imagery  <a href=\"https://www.mapbox.com/\">Mapbox</a>',\r\n\t\t\t\tmaxZoom: 18,\r\n\t\t\t\tid: 'mapbox/satellite-v9',\r\n\t\t\t\ttileSize: 512,\r\n\t\t\t\tzoomOffset: -1,\r\n\t\t\t\taccessToken: 'pk.eyJ1Ijoia3llbW9ydG9uIiwiYSI6ImNsMzJneXAybDAzcWwzY3BhNjB4OHJqMnoifQ.fue3o8Y3wWH4y_Wi50oUXw'\r\n\t\t\t});\r\n\r\n            this.#map_layers = {\r\n                Street: tiles_grey,\r\n                Satellite: tiles_satellite\r\n            };\r\n\r\n\t\t\tthis.#map = L.map(this.#map_element_name, {\r\n                doubleClickZoom: false,\r\n                layers: [\r\n                    tiles_grey,\r\n                    tiles_satellite\r\n                ],\r\n                zoomControl: false\r\n            });\r\n            this.toggle_map_tools(true);\r\n            this.#map.on(\"dblclick\", this.on_double_click.bind(this));\r\n\r\n            //Set an initial zoom\r\n            this.set_location(new NeuronInterfacePoint(-27.4771033, 153.0301422), 11);\r\n\t\t} else {\r\n\t\t\t//Already have a map, so just force a re-render\r\n\t\t\tthis.#map.invalidateSize();\r\n\t\t}\r\n\r\n        if(!this.#path) {\r\n            this.#path = L.polyline([], {color: 'orange'}).addTo(this.#map);\r\n        }\r\n\t}\r\n}\r\n","import { NeuronCameraSpecifications } from \"./neuron_interfaces\";\r\nimport { NeuronUID } from \"./neuron_tools_common\";\r\n\r\n//XXX: Keep in sync with NeuronStatistics NeuronOptionsData\r\nexport enum NeuronOptionsBoolean {\r\n    SHOW_PATH,\r\n}\r\n\r\n//XXX: Keep in sync with NeuronStatistics NeuronOptionsData\r\nexport enum NeuronOptionsNumber {\r\n    MISSION_SPEED,\r\n    CAMERA_FOCAL_LENGTH,\r\n    CAMERA_IMAGE_WIDTH,\r\n    CAMERA_IMAGE_HEIGHT,\r\n    CAMERA_SENSOR_WIDTH,\r\n    CAMERA_SENSOR_HEIGHT,\r\n}\r\n\r\n//XXX: Keep in sync with NeuronStatistics NeuronOptionsData\r\nexport enum NeuronOptionsString {\r\n    CAMERA_NAME,\r\n}\r\n\r\nexport interface NeuronOptionsData {\r\n    SHOW_PATH:boolean,\r\n    MISSION_SPEED:number,\r\n    CAMERA_FOCAL_LENGTH:number,\r\n    CAMERA_IMAGE_WIDTH:number,\r\n    CAMERA_IMAGE_HEIGHT:number,\r\n    CAMERA_SENSOR_WIDTH:number,\r\n    CAMERA_SENSOR_HEIGHT:number,\r\n    CAMERA_NAME:string,\r\n}\r\n\r\nexport class NeuronOptions {\r\n    //XXX: Keys must be unique!\r\n    static camera_preset_custom = new NeuronCameraSpecifications();\r\n    static camera_presets:NeuronCameraSpecifications[]= [\r\n        NeuronOptions.camera_preset_custom,\r\n        new NeuronCameraSpecifications(\"A6000\", 20, 23.50, 15.60, 6000, 4000),\r\n    ];\r\n\r\n    //XXX: Keep in sync with NeuronStatisticsOptionKeys\r\n    static #stat_options_boolean:Map<NeuronOptionsBoolean,boolean> = new Map();\r\n    static #stat_options_number:Map<NeuronOptionsNumber,number> = new Map();\r\n    static #stat_options_string:Map<NeuronOptionsString,string> = new Map();\r\n\r\n    static #dom_callback:CallableFunction = null;\r\n    static #general_callbacks:Map<string,CallableFunction> = new Map();\r\n\r\n    static init() {\r\n        this.set_option_boolean(NeuronOptionsBoolean.SHOW_PATH, true, false, false);\r\n        this.set_option_number(NeuronOptionsNumber.MISSION_SPEED, 5.0, false, false);\r\n        this.set_camera(NeuronOptions.camera_preset_custom, false, false)\r\n    }\r\n\r\n    static set_dom_callback(callback:CallableFunction) {\r\n        this.#dom_callback = callback;\r\n    }\r\n\r\n    static add_callback(callback:CallableFunction) {\r\n        const id = NeuronUID('option');\r\n        this.#general_callbacks.set(id, callback);\r\n        return this.#remove_callback.bind(this, id);\r\n    }\r\n\r\n    static #remove_callback(id:string) {\r\n        if(this.#general_callbacks.has(id)) {\r\n            this.#general_callbacks.delete(id);\r\n        }\r\n    }\r\n\r\n    static #handle_callbacks(trigger_callbacks:boolean, trigger_dom:boolean) {\r\n        if(trigger_callbacks) {\r\n            for(const cb of this.#general_callbacks.values())\r\n                cb();\r\n        }\r\n\r\n        if(trigger_dom && this.#dom_callback)\r\n            this.#dom_callback();\r\n    }\r\n\r\n    static set_option_boolean(key:NeuronOptionsBoolean, value:boolean, trigger_callbacks:boolean = true, trigger_dom:boolean = true) {\r\n        this.#stat_options_boolean.set(key, value);\r\n        this.#handle_callbacks(trigger_callbacks, trigger_dom);\r\n    }\r\n\r\n    static set_option_number(key:NeuronOptionsNumber, value:number, trigger_callbacks:boolean = true, trigger_dom:boolean = true) {\r\n        this.#stat_options_number.set(key, value);\r\n        this.#handle_callbacks(trigger_callbacks, trigger_dom);\r\n    }\r\n\r\n    static set_option_string(key:NeuronOptionsString, value:string, trigger_callbacks:boolean = true, trigger_dom:boolean = true) {\r\n        this.#stat_options_string.set(key, value);\r\n        this.#handle_callbacks(trigger_callbacks, trigger_dom);\r\n    }\r\n\r\n    static set_camera(value:NeuronCameraSpecifications, trigger_callbacks:boolean = false, trigger_dom:boolean = true) {\r\n        this.set_option_string(NeuronOptionsString.CAMERA_NAME, value.name, false, false);\r\n        this.set_option_number(NeuronOptionsNumber.CAMERA_FOCAL_LENGTH, value.focal_length, false, false);\r\n        this.set_option_number(NeuronOptionsNumber.CAMERA_IMAGE_WIDTH, value.image_width, false, false);\r\n        this.set_option_number(NeuronOptionsNumber.CAMERA_IMAGE_HEIGHT, value.image_height, false, false);\r\n        this.set_option_number(NeuronOptionsNumber.CAMERA_SENSOR_WIDTH, value.sensor_width, false, false);\r\n        this.set_option_number(NeuronOptionsNumber.CAMERA_SENSOR_HEIGHT, value.sensor_height, false, false);\r\n\r\n        this.#handle_callbacks(trigger_callbacks, trigger_dom);\r\n    };\r\n\r\n    static get_option_boolean(key:NeuronOptionsBoolean) {\r\n        return this.#stat_options_boolean.get(key);\r\n    }\r\n\r\n    static get_option_number(key:NeuronOptionsNumber) {\r\n        return this.#stat_options_number.get(key);\r\n    }\r\n\r\n    static get_option_string(key:NeuronOptionsString) {\r\n        return this.#stat_options_string.get(key);\r\n    }\r\n\r\n    static get_camera() {\r\n        return new NeuronCameraSpecifications(\r\n            this.get_option_string(NeuronOptionsString.CAMERA_NAME),\r\n            this.get_option_number(NeuronOptionsNumber.CAMERA_FOCAL_LENGTH),\r\n            this.get_option_number(NeuronOptionsNumber.CAMERA_SENSOR_WIDTH),\r\n            this.get_option_number(NeuronOptionsNumber.CAMERA_SENSOR_HEIGHT),\r\n            this.get_option_number(NeuronOptionsNumber.CAMERA_IMAGE_WIDTH),\r\n            this.get_option_number(NeuronOptionsNumber.CAMERA_IMAGE_HEIGHT)\r\n        );\r\n    }\r\n\r\n    static as_json() {\r\n        return <NeuronOptionsData>{\r\n            SHOW_PATH: this.get_option_boolean(NeuronOptionsBoolean.SHOW_PATH),\r\n            MISSION_SPEED: this.get_option_number(NeuronOptionsNumber.MISSION_SPEED),\r\n            CAMERA_FOCAL_LENGTH: this.get_option_number(NeuronOptionsNumber.CAMERA_FOCAL_LENGTH),\r\n            CAMERA_SENSOR_WIDTH: this.get_option_number(NeuronOptionsNumber.CAMERA_SENSOR_WIDTH),\r\n            CAMERA_SENSOR_HEIGHT: this.get_option_number(NeuronOptionsNumber.CAMERA_SENSOR_HEIGHT),\r\n            CAMERA_IMAGE_WIDTH: this.get_option_number(NeuronOptionsNumber.CAMERA_IMAGE_WIDTH),\r\n            CAMERA_IMAGE_HEIGHT: this.get_option_number(NeuronOptionsNumber.CAMERA_IMAGE_HEIGHT),\r\n            CAMERA_NAME: this.get_option_string(NeuronOptionsString.CAMERA_NAME),\r\n        };\r\n    }\r\n\r\n    static load(j:NeuronOptionsData) {\r\n        this.set_option_boolean(NeuronOptionsBoolean.SHOW_PATH, Boolean(j.SHOW_PATH), false, false);\r\n        this.set_option_number(NeuronOptionsNumber.MISSION_SPEED, Number.isNaN(j.MISSION_SPEED) ? 0 : j.MISSION_SPEED, false, false);\r\n        this.set_option_number(NeuronOptionsNumber.CAMERA_FOCAL_LENGTH, Number.isNaN(j.CAMERA_FOCAL_LENGTH) ? 0 : j.CAMERA_FOCAL_LENGTH, false, false);\r\n        this.set_option_number(NeuronOptionsNumber.CAMERA_IMAGE_WIDTH, Number.isNaN(j.CAMERA_IMAGE_WIDTH) ? 0 : j.CAMERA_IMAGE_WIDTH, false, false);\r\n        this.set_option_number(NeuronOptionsNumber.CAMERA_IMAGE_HEIGHT, Number.isNaN(j.CAMERA_IMAGE_HEIGHT) ? 0 : j.CAMERA_IMAGE_HEIGHT, false, false);\r\n        this.set_option_number(NeuronOptionsNumber.CAMERA_SENSOR_WIDTH, Number.isNaN(j.CAMERA_SENSOR_WIDTH) ? 0 : j.CAMERA_SENSOR_WIDTH, false, false);\r\n        this.set_option_number(NeuronOptionsNumber.CAMERA_SENSOR_HEIGHT, Number.isNaN(j.CAMERA_SENSOR_HEIGHT) ? 0 : j.CAMERA_SENSOR_HEIGHT, false, false);\r\n        this.set_option_string(NeuronOptionsString.CAMERA_NAME, j.CAMERA_NAME.toString(), false, false);\r\n\r\n        this.#handle_callbacks(true, true);\r\n    };\r\n}\r\n","import { NeuronFeatureBase, NeuronFeatureBaseData } from \"./neuron_feature_base\";\r\nimport { NeuronFeatureWaypoint, NeuronFeaturePointData } from \"./neuron_feature_waypoint\";\r\nimport { NeuronFeaturePolygon, NeuronFeaturePolygonData } from \"./neuron_feature_polygon\";\r\nimport { NeuronFeatureSurvey, NeuronFeatureSurveyData } from \"./neuron_feature_survey\";\r\nimport { NeuronInterfacePoint, NeuronInterfacePointData } from \"./neuron_interfaces\";\r\nimport { NeuronMap } from \"./neuron_map\";\r\nimport { kml_download_from_neuron_data, kmx_load_file, NeuronKMLData } from \"./neuron_tools_kml\";\r\nimport { download_file, get_filename } from \"./neuron_tools_files\"\r\nimport { L } from \"./interface_leaflet\"\r\nimport { NeuronFeaturePoint } from \"./neuron_feature_point\";\r\nimport { NeuronOptions, NeuronOptionsData } from \"./neuron_options\";\r\n// import { NeuronOptions } from \"./neuron_options\";\r\n\r\nexport type MissionFeatureData = (\r\n    NeuronFeatureBaseData |\r\n    NeuronFeaturePointData |\r\n    NeuronFeaturePolygonData |\r\n    NeuronFeatureSurveyData\r\n);\r\n\r\nexport type MissionFeature = (\r\n    NeuronFeatureBase |\r\n    NeuronFeatureWaypoint |\r\n    NeuronFeaturePolygon |\r\n    NeuronFeatureSurvey\r\n);\r\n\r\nexport interface NeuronPlannerMissionData {\r\n    version:string;\r\n    type:string;\r\n    settings:NeuronOptionsData;\r\n    mission_items:MissionFeatureData[],\r\n    waypoints: NeuronInterfacePointData[];\r\n}\r\n\r\nexport interface MissionBrief {\r\n    type:string,\r\n    description:string,\r\n    components:string[],\r\n    time_transit:string,\r\n    time_duration:string\r\n}\r\n\r\nexport class NeuronPlanner {\r\n    static TYPE = 'NeuronPlanner';\r\n    static VERSION = '48a24a80-d243-11ec-918e-9fd28348efc7';\r\n\r\n    #map:NeuronMap;\r\n\r\n    #plan_element:HTMLElement;\r\n    #mission_items:MissionFeature[];\r\n    #on_change_callbacks:Map<number,CallableFunction>;\r\n    #last_callback_id:number;\r\n    #clearing_mission:boolean;\r\n\r\n    #last_mission_altitude:number;\r\n\r\n    #plan_element_name:string;\r\n    // #unsub_option_cb:CallableFunction;\r\n\r\n    constructor(plan_element_name:string, map:NeuronMap = null) {\r\n        this.#map = map;\r\n\r\n        this.#plan_element = null;\r\n        this.#plan_element_name = plan_element_name;\r\n\r\n        this.#mission_items = [];\r\n        this.#on_change_callbacks = new Map();\r\n        this.#last_callback_id = 0;\r\n        this.#last_mission_altitude = 0.0;\r\n        this.#clearing_mission = false;\r\n        // this.#unsub_option_cb = null;\r\n    }\r\n\r\n    // set_options_subscriber() {\r\n    //     if(this.#unsub_option_cb)\r\n    //         this.#unsub_option_cb();\r\n\r\n    //     this.#unsub_option_cb = NeuronOptions.add_callback(this.#run_on_mission_change.bind(this));\r\n    // }\r\n\r\n    get_mission_items() {\r\n        return this.#mission_items;\r\n    }\r\n\r\n    get_mission_as_json() {\r\n        let mission_data:MissionFeatureData[] = [];\r\n        for(const item of this.#mission_items)\r\n            mission_data.push(item.to_json());\r\n\r\n        return mission_data;\r\n    }\r\n\r\n    static isObjectOfDataType(object: any): object is NeuronPlannerMissionData {\r\n        let is_valid =\r\n            (object.type == NeuronPlanner.TYPE) &&\r\n            (object.version == NeuronPlanner.VERSION);\r\n\r\n        return is_valid;\r\n    }\r\n\r\n    set_mission_from_json(j:NeuronPlannerMissionData) {\r\n        if(!NeuronPlanner.isObjectOfDataType(j))\r\n            throw new Error(\"Invalid version during import of NeuronPlannerMissionData\");\r\n\r\n        if(j.settings)\r\n            NeuronOptions.load(j.settings);\r\n\r\n        if(j.mission_items && j.mission_items.length) {\r\n            this.#add_mission_features_from_json(j.mission_items);\r\n        } else if(j.waypoints && j.waypoints.length) {\r\n            console.warn(\"No mission items found, importing waypoints instead!\");\r\n            this.#add_waypoint_features_from_json(j.waypoints);\r\n        }\r\n\r\n        this.fit_mission_on_map();\r\n    }\r\n\r\n    #add_mission_features_from_json(mission_items:MissionFeatureData[]) {\r\n        let features:NeuronFeatureBase[] = [];\r\n\r\n        for(const item of mission_items) {\r\n            let feature:NeuronFeatureBase = null;\r\n\r\n            if(NeuronFeatureBase.isObjectOfDataType(item)) {\r\n                feature = NeuronFeatureBase.from_json(item, this.#map.get_leaflet_map());\r\n            } else if(NeuronFeaturePoint.isObjectOfDataType(item)) {\r\n                let p = NeuronFeaturePoint.from_json(item, this.#map.get_leaflet_map());\r\n                p.set_planner(this);\r\n                feature = p;\r\n            } else if(NeuronFeatureWaypoint.isObjectOfDataType(item)) {\r\n                feature = NeuronFeatureWaypoint.from_json(item, this.#map.get_leaflet_map());\r\n            } else if(NeuronFeaturePolygon.isObjectOfDataType(item)) {\r\n                let p = NeuronFeaturePolygon.from_json(item, this.#map.get_leaflet_map());\r\n                p.set_planner(this);\r\n                feature = p;\r\n            } else if(NeuronFeatureSurvey.isObjectOfDataType(item)) {\r\n                feature = NeuronFeatureSurvey.from_json(item, this.#map.get_leaflet_map());\r\n            } else {\r\n                console.warn(\"Unable to import mission item\");\r\n                console.warn(item);\r\n            }\r\n\r\n            if(feature)\r\n                features.push(feature);\r\n        }\r\n\r\n        this.add_mission_items(features);\r\n    }\r\n\r\n    #add_waypoint_features_from_json(waypoints:NeuronInterfacePointData[]) {\r\n        let features:NeuronFeatureBase[] = [];\r\n\r\n        for(const item of waypoints) {\r\n            let feature:NeuronFeatureBase = null;\r\n\r\n            if(NeuronInterfacePoint.isObjectOfDataType(item)) {\r\n                const point = NeuronInterfacePoint.from_json(item);\r\n                feature = new NeuronFeatureWaypoint(this.#map.get_leaflet_map(), point);\r\n            } else {\r\n                console.warn(\"Unable to import waypoint item\");\r\n                console.warn(item);\r\n            }\r\n\r\n            if(feature)\r\n                features.push(feature);\r\n        }\r\n\r\n        this.add_mission_items(features);\r\n    }\r\n\r\n    #add_point_features_from_json(points:NeuronInterfacePointData[]) {\r\n        let features:NeuronFeatureBase[] = [];\r\n\r\n        for(const item of points) {\r\n            let feature:NeuronFeatureBase = null;\r\n\r\n            if(NeuronInterfacePoint.isObjectOfDataType(item)) {\r\n                const point = NeuronInterfacePoint.from_json(item);\r\n                feature = new NeuronFeaturePoint(this.#map.get_leaflet_map(), point);\r\n            } else {\r\n                console.warn(\"Unable to import waypoint item\");\r\n                console.warn(item);\r\n            }\r\n\r\n            if(feature)\r\n                features.push(feature);\r\n        }\r\n\r\n        this.add_mission_items(features);\r\n    }\r\n\r\n    async save_mission_file() {\r\n        let j:NeuronPlannerMissionData = {\r\n            version: NeuronPlanner.VERSION,\r\n            type: NeuronPlanner.TYPE,\r\n            settings: NeuronOptions.as_json(),\r\n            mission_items: this.get_mission_as_json(),\r\n            waypoints: this.get_mission_as_points().map(x => x.to_json())\r\n        }\r\n\r\n        const file = new Blob(\r\n            [JSON.stringify(j, null, 4)],\r\n            {\r\n                type: 'application/json'\r\n            }\r\n        );\r\n\r\n        const filename = get_filename('json');\r\n        await download_file(filename, file);\r\n    }\r\n\r\n    async load_mission_file(file:Blob) {\r\n        const j = <NeuronPlannerMissionData>JSON.parse(await file.text());\r\n        this.set_mission_from_json(j);\r\n    }\r\n\r\n    async fit_mission_on_map(allow_animate:boolean=true, pad_left:number=50,pad_top:number=50,pad_right:number=50,pad_bottom:number=50) {\r\n        return new Promise(resolve => {\r\n            //Try to fit all the features on screen\r\n            if(this.#map) {\r\n                let m = this.#map.get_leaflet_map();\r\n                if(m) {\r\n                    let features:L.Layer[] = [];\r\n                    for(const item of this.#mission_items)\r\n                        features.push(...item.get_features());\r\n\r\n                    if(features.length) {\r\n                        let fg = L.featureGroup(features);\r\n                        const old_snap = m.options.zoomSnap;\r\n                        m.options.zoomSnap = 0;\r\n                        let cb = (ev:L.LayerEvent) => {\r\n                            // console.log(`Zoom ended at ${m.getZoom()}, disabling thing~`);\r\n                            m.options.zoomSnap = old_snap;\r\n                            m.off('moveend', cb);\r\n                            resolve(true);\r\n                        }\r\n                        //XXX:  we use moveend here because the map always moves to\r\n                        //      fit bounds, but it doesn't always zoom to fit bounds\r\n                        m.on('moveend', cb);\r\n                        m.fitBounds(fg.getBounds(), {\r\n                            paddingTopLeft: [pad_left, pad_top],\r\n                            paddingBottomRight: [pad_right, pad_bottom],\r\n                            animate: allow_animate,\r\n                            // duration: 0.001\r\n                        });\r\n\r\n                        // } else {\r\n                        //     console.log(\"Zoom not needed!\");\r\n                        //     resolve(true);\r\n                        // }\r\n                    } else {\r\n                        // console.log(\"No objects to zoom too!\");\r\n                        resolve(true);\r\n                    }\r\n                } else {\r\n                    resolve(false);\r\n                }\r\n            } else {\r\n                resolve(false);\r\n            }\r\n        });\r\n    }\r\n\r\n    export_mission_kml() {\r\n        let markers:NeuronInterfacePoint[] = [];\r\n        let polygons:NeuronInterfacePoint[][] = [];\r\n        for(const i of this.#mission_items) {\r\n            if((i instanceof NeuronFeaturePoint)) {\r\n                markers.push(i.get_point());\r\n            } else if((i instanceof NeuronFeaturePolygon) || (i instanceof NeuronFeatureSurvey)) {\r\n                polygons.push(i.get_corners_as_points());\r\n            }\r\n        }\r\n\r\n        kml_download_from_neuron_data(markers, this.get_mission_as_points(), polygons);\r\n    }\r\n\r\n    set_map(map:NeuronMap) {\r\n        this.#map = map;\r\n    }\r\n\r\n    #run_on_mission_change(){\r\n        const coords = this.get_mission_as_points();\r\n        this.#last_mission_altitude = coords.length ?\r\n            coords[coords.length - 1].altitude :\r\n            0.0;\r\n\r\n        for(const cb of this.#on_change_callbacks.values())\r\n            cb();\r\n    }\r\n\r\n    on_mission_change(cb:CallableFunction): CallableFunction {\r\n        const id = this.#last_callback_id++;\r\n        this.#on_change_callbacks.set(id, cb);\r\n\r\n        return this.#remove_on_mission_change.bind(this, id);\r\n    }\r\n\r\n    #remove_on_mission_change(key:number) {\r\n        if(this.#on_change_callbacks.has(key)) {\r\n            this.#on_change_callbacks.delete(key);\r\n        }\r\n    }\r\n\r\n    #mission_item_changed(item:NeuronFeatureBase) {\r\n        this.#run_on_mission_change();\r\n    }\r\n\r\n    #array_move(arr:any[], old_index:number, new_index:number) {\r\n        if (new_index >= arr.length) {\r\n            var k = new_index - arr.length + 1;\r\n            while (k--) {\r\n                arr.push(undefined);\r\n            }\r\n        }\r\n        arr.splice(new_index, 0, arr.splice(old_index, 1)[0]);\r\n        return arr; // for testing\r\n    };\r\n\r\n    #move_mission_item(item:NeuronFeatureBase, direction:number) {\r\n        let ind = this.#mission_items.indexOf(item);\r\n        if(ind >= 0) {\r\n            //Move index and clamp to array size\r\n            let new_ind = ind + (direction > 0 ? 1 : -1)\r\n            new_ind = Math.max(Math.min(new_ind, (this.#mission_items.length - 1)), 0);\r\n            this.#array_move(this.#mission_items, ind, new_ind);\r\n\r\n            this.update();\r\n            this.#run_on_mission_change();\r\n        } else {\r\n            console.warn(\"Unknown mission item, cannot move\");\r\n        }\r\n    }\r\n\r\n    get_last_item_altitude() {\r\n        return this.#last_mission_altitude;\r\n    }\r\n\r\n    #on_add_mission_item_updates() {\r\n        this.update();\r\n        this.#run_on_mission_change();\r\n    }\r\n\r\n    #add_mission_item(item:NeuronFeatureBase, index:number = -1, run_update:boolean = true) {\r\n        item.set_remove_callback(this.remove_mission_item.bind(this));\r\n        item.set_change_callback(this.#mission_item_changed.bind(this));\r\n        item.set_move_callback(this.#move_mission_item.bind(this));\r\n        if(index < 0 || index >= this.#mission_items.length) {\r\n            this.#mission_items.push(item);\r\n        } else {\r\n            this.#mission_items.splice(index, 0, item);\r\n        }\r\n\r\n        if(run_update) {\r\n            this.#on_add_mission_item_updates();\r\n        }\r\n    }\r\n\r\n    add_mission_item(item:NeuronFeatureBase, index:number = -1) {\r\n        this.#add_mission_item(item, index)\r\n    }\r\n\r\n    add_mission_items(items:NeuronFeatureBase[], index:number = -1) {\r\n        let count = 0;\r\n        for(const item of items) {\r\n            const new_ind = index == -1 ?\r\n                -1 :    //add to end\r\n                index + count;\r\n            this.#add_mission_item(item, new_ind, false);\r\n            count ++;\r\n        }\r\n\r\n        if(items.length)\r\n            this.#on_add_mission_item_updates();\r\n    }\r\n\r\n    remove_mission_item(item:NeuronFeatureBase) {\r\n        // console.log(`Mission item removed: ${item}`);\r\n        let index = this.#mission_items.indexOf(item);\r\n        if(index >= 0) {\r\n            this.#mission_items.splice(index, 1);\r\n        } else {\r\n            console.warn(\"Unknown mission item, cannot remove!\")\r\n        }\r\n\r\n        if(!this.#clearing_mission) {\r\n            this.update();\r\n            this.#run_on_mission_change();\r\n        }\r\n    }\r\n\r\n    clear_mission() {\r\n        this.#clearing_mission = true;\r\n        while(this.#mission_items.length > 0)\r\n            this.#mission_items[0].remove_feature();\r\n        this.#clearing_mission = false;\r\n\r\n        //Do this in bulk at the end\r\n        this.update();\r\n        this.#run_on_mission_change();\r\n    }\r\n\r\n    update() {\r\n        const mission_doms = this.#mission_items.map(x => x.get_dom());\r\n        const mission_ids = mission_doms.map(x => x.id);\r\n\r\n        const old_elements = Array.from(this.#plan_element.children).filter(x => !mission_ids.includes(x.id));\r\n\r\n        for(const el of old_elements)\r\n            el.remove();\r\n        // for(let el of this.#plan_element.children) {\r\n        //     if(!mission_ids.includes(el.id))\r\n        //         this.#plan_element.removeChild(el);\r\n        // }\r\n\r\n        for(let j = 0; j < mission_doms.length; j++) {\r\n            const i = mission_doms[j];\r\n            const i_next = j+1 > mission_doms.length ? null : mission_doms[j+1];\r\n\r\n            let nodes = Array.from(this.#plan_element.children);\r\n            const ind_n = nodes.indexOf(i);\r\n            const ind_nn = nodes.indexOf(i_next);\r\n\r\n            //Check to see if our node is in the right location\r\n            if(ind_n != j) {\r\n                //It is not...\r\n                //Our next item is already in the list, so place it before that\r\n                if(i_next && ind_nn >= 0) {\r\n                    //Item is in the list, but is in the wrong spot\r\n                    //Or\r\n                    //Item is not in the list, insert before the next item\r\n                    this.#plan_element.insertBefore(i, i_next);\r\n                } else {\r\n                    //Item is not in the list, and there is no next item, append to end\r\n                    this.#plan_element.appendChild(i);\r\n                    i.scrollIntoView();\r\n                }\r\n\r\n                if(ind_n < 0) {\r\n                    i.classList.remove('mission-feature-highlight-remove');\r\n                    i.classList.add('mission-feature-highlight');\r\n                    setTimeout(this.#remove_mission_feature_highlight.bind(this, i), 1000);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    #remove_mission_feature_highlight(dom:HTMLDivElement) {\r\n        dom.classList.remove('mission-feature-highlight');\r\n        dom.classList.add('mission-feature-highlight-remove');\r\n    }\r\n\r\n    #kml_loaded(result:NeuronKMLData) {\r\n        // console.log(\"Got file result:\");\r\n        // console.log(result);\r\n        let features:NeuronFeatureBase[] = [];\r\n\r\n        for(const p of result.markers) {\r\n            // p.altitude = this.get_last_item_altitude();\r\n            const f = new NeuronFeaturePoint(this.#map.get_leaflet_map(), p);\r\n            f.set_planner(this);    //XXX: Enable functions for up-scaling polygon\r\n            features.push(f);\r\n        }\r\n\r\n        for(const path of result.paths) {\r\n            for(const p of path) {\r\n                // p.altitude = this.get_last_item_altitude();\r\n                const f = new NeuronFeatureWaypoint(this.#map.get_leaflet_map(), p);\r\n                features.push(f);\r\n            }\r\n        }\r\n\r\n        for(const p of result.polygons) {\r\n            const f = new NeuronFeaturePolygon(this.#map.get_leaflet_map(), p);\r\n            f.set_planner(this);    //XXX: Enable functions for up-scaling polygon\r\n            features.push(f);\r\n        }\r\n\r\n        this.add_mission_items(features);\r\n        this.fit_mission_on_map();\r\n    }\r\n\r\n    replace_point_with_waypoint(old_item:NeuronFeaturePoint) {\r\n        const ind = this.#mission_items.indexOf(old_item);\r\n        if(ind >= 0) {\r\n            const waypoint = new NeuronFeatureWaypoint(this.#map.get_leaflet_map(), old_item.get_point());\r\n            old_item.remove_feature();\r\n            this.add_mission_item(waypoint, ind);\r\n        } else {\r\n            console.warn(\"Unknown mission feature, cannot replace\");\r\n        }\r\n    }\r\n\r\n    replace_polygon_with_survey(old_item:NeuronFeaturePolygon) {\r\n        const ind = this.#mission_items.indexOf(old_item);\r\n        if(ind >= 0) {\r\n            const survey = new NeuronFeatureSurvey(this.#map.get_leaflet_map(), old_item.get_corners_as_points());\r\n            old_item.remove_feature();\r\n            this.add_mission_item(survey, ind);\r\n        } else {\r\n            console.warn(\"Unknown mission feature, cannot replace\");\r\n        }\r\n    }\r\n\r\n    import_features_from_kmx_multiple(files:Blob[]) {\r\n        for(const file of files) {\r\n            this.import_features_from_kmx(file);\r\n        }\r\n    }\r\n\r\n    import_features_from_kmx(file:Blob) {\r\n        kmx_load_file(file, this.#kml_loaded.bind(this));\r\n    }\r\n\r\n    reset() {\r\n        //Collect our DOM elements\r\n        this.#plan_element = document.getElementById(this.#plan_element_name);\r\n\r\n        //Update the planner\r\n        this.update();\r\n        this.#run_on_mission_change();\r\n    }\r\n\r\n    get_mission_as_points() {\r\n        let coords:NeuronInterfacePoint[] = [];\r\n\r\n        for(const i of this.#mission_items)\r\n            coords = coords.concat(i.get_path_coords());\r\n\r\n        return coords;\r\n    }\r\n}\r\n","import { flight_distance_from_coords, flight_time_from_duration } from \"./neuron_tools_common\";\r\nimport { NeuronPlanner } from \"./neuron_planner\";\r\nimport { NeuronDOMFactory } from \"./neuron_dom_factory\";\r\nimport { NeuronCameraSpecifications } from \"./neuron_interfaces\";\r\nimport { NeuronOptionsBoolean, NeuronOptionsNumber, NeuronOptions } from \"./neuron_options\";\r\nimport { NeuronBrief } from \"./neuron_brief\";\r\nimport { NeuronIcons, neuron_get_icon } from \"./interface_fontawesome\";\r\n\r\nexport class NeuronStatistics extends NeuronDOMFactory {\r\n    #planner:NeuronPlanner;\r\n    #brief:NeuronBrief;\r\n    #stats_element_prefix:string;\r\n    #stats_section_show_display:string;\r\n\r\n    #stats_results_element:HTMLElement;\r\n    #stats_options_element:HTMLElement;\r\n    #stats_results_hide_element:HTMLElement;\r\n    #stats_options_hide_element:HTMLElement;\r\n    #stats_results_title_element:HTMLElement;\r\n    #stats_options_title_element:HTMLElement;\r\n\r\n    //Flight options\r\n    #dom_option_show_path:HTMLInputElement;\r\n    #dom_option_speed:HTMLInputElement;\r\n    //Capture parameters\r\n    #dom_option_camera_name:HTMLSelectElement;\r\n    #dom_option_camera_focal_length:HTMLInputElement;\r\n    #dom_option_camera_image_width:HTMLInputElement;\r\n    #dom_option_camera_image_height:HTMLInputElement;\r\n    #dom_option_camera_sensor_width:HTMLInputElement;\r\n    #dom_option_camera_sensor_height:HTMLInputElement;\r\n\r\n    #dom_stat_waypoints:HTMLOutputElement;\r\n    #dom_stat_distance:HTMLOutputElement;\r\n    #dom_stat_duration:HTMLOutputElement;\r\n    #dom_stat_images:HTMLOutputElement;\r\n\r\n    static _camera_focal_length_min:number = 0;\r\n    static _camera_sensor_width_min:number = 0;\r\n    static _camera_sensor_height_min:number = 0;\r\n    static _camera_image_width_min:number = 0;\r\n    static _camera_image_height_min:number = 0;\r\n\r\n    #unsub_option_cb:CallableFunction;\r\n\r\n    constructor(planner:NeuronPlanner, brief:NeuronBrief, stats_element_prefix:string) {\r\n        super(stats_element_prefix);\r\n\r\n        this.#planner = planner;\r\n        this.#brief = brief;\r\n\r\n        this.#dom_option_show_path = null;\r\n        this.#dom_option_speed = null;\r\n        this.#dom_option_camera_name = null;\r\n        this.#dom_option_camera_focal_length = null;\r\n        this.#dom_option_camera_image_width = null;\r\n        this.#dom_option_camera_image_height = null;\r\n        this.#dom_option_camera_sensor_width = null;\r\n        this.#dom_option_camera_sensor_height = null;\r\n\r\n        this.#stats_options_element = null;\r\n        this.#stats_results_element = null;\r\n        this.#stats_options_hide_element = null;\r\n        this.#stats_results_hide_element = null;\r\n        this.#stats_options_title_element = null;\r\n        this.#stats_results_title_element = null;\r\n        this.#stats_element_prefix = stats_element_prefix;\r\n        this.#stats_section_show_display = 'grid';\r\n\r\n        this.#dom_stat_waypoints = null;\r\n        this.#dom_stat_distance = null;\r\n        this.#dom_stat_duration = null;\r\n        this.#dom_stat_images = null;\r\n\r\n        this.set_options_subscriber();\r\n    }\r\n\r\n    set_options_subscriber() {\r\n        if(this.#unsub_option_cb)\r\n            this.#unsub_option_cb();\r\n\r\n        this.#unsub_option_cb = NeuronOptions.add_callback(this.update_statistics.bind(this));\r\n        NeuronOptions.set_dom_callback(this.#update_dom_from_options.bind(this));\r\n    }\r\n\r\n    // #get_option_id_from_key(key:NeuronStatisticsOptionKeys) {\r\n    //     return `${this.#stats_element_prefix}-options-${key}`;\r\n    // }\r\n\r\n    // get_results_id_from_key(key:string) {\r\n    //     return `${this.#stats_element_prefix}-results-${key}`;\r\n    // }\r\n\r\n    update_statistics() {\r\n        const coords = this.#planner.get_mission_as_points();\r\n        const summary = this.#brief.get_mission_summary(this.#planner.get_mission_items());\r\n        // this.#last_mission_altitude = coords.length ?\r\n        //     coords[coords.length - 1].altitude :\r\n        //     0.0;\r\n\r\n        // let total_distance = flight_distance_from_coords(coords);\r\n        const dist_km = summary.total_distance / 1000;\r\n\r\n        //Get the flight speed and lock it to at least 0.1m/s\r\n        // const s = NeuronOptions.get_option_number(NeuronOptionsNumber.MISSION_SPEED);\r\n        // const flight_speed = Math.max(s ? s : 0.0, 0.1);\r\n\r\n        if(this.#dom_stat_waypoints)\r\n            this.#dom_stat_waypoints.value = coords.length.toFixed(0);\r\n\r\n        if(this.#dom_stat_distance)\r\n            this.#dom_stat_distance.value = `${(dist_km).toFixed(2)}km`;\r\n\r\n        if(this.#dom_stat_duration)\r\n            this.#dom_stat_duration.value = flight_time_from_duration(summary.total_duration);\r\n\r\n        if(this.#dom_stat_images)\r\n            this.#dom_stat_images.value = summary.total_images > 0 ? summary.total_images.toString() : \"---\";\r\n    }\r\n\r\n    #update_option_speed_dom() {\r\n        if(this.#dom_option_speed)\r\n            NeuronOptions.set_option_number(NeuronOptionsNumber.MISSION_SPEED, this.#dom_option_speed.valueAsNumber, true, false);\r\n    }\r\n\r\n    #update_option_show_path() {\r\n        if(this.#dom_option_show_path)\r\n            NeuronOptions.set_option_boolean(NeuronOptionsBoolean.SHOW_PATH, this.#dom_option_show_path.checked, true, false);\r\n    }\r\n\r\n    #update_dom_from_options() {\r\n        if(this.#dom_option_show_path)\r\n            this.#dom_option_show_path.checked = NeuronOptions.get_option_boolean(NeuronOptionsBoolean.SHOW_PATH);\r\n\r\n        if(this.#dom_option_speed)\r\n            this.#dom_option_speed.value = NeuronOptions.get_option_number(NeuronOptionsNumber.MISSION_SPEED).toString();\r\n\r\n        this.set_camera(NeuronOptions.get_camera(), false);\r\n    }\r\n\r\n    #gen_dom() {\r\n        //Options\r\n        this.#stats_options_element = document.getElementById(`${this.#stats_element_prefix}-options`);\r\n        this.#stats_options_element.innerHTML = '';\r\n\r\n        const t5 = \"Display the calculated flight path on the map\";\r\n        this.#dom_option_show_path = this._create_dom_input_checkbox(NeuronOptions.get_option_boolean(NeuronOptionsBoolean.SHOW_PATH), this.#update_option_show_path.bind(this));\r\n        this.#dom_option_show_path.title = t5;\r\n        this.#stats_options_element.appendChild(this._create_dom_label(\"Show path:\", this.#dom_option_show_path, t5));\r\n        this.#stats_options_element.appendChild(this.#dom_option_show_path);\r\n\r\n        const t0 = \"Speed of the aircraft during regular flight in metres per second\";\r\n        this.#dom_option_speed = this._create_dom_input_number(NeuronOptions.get_option_number(NeuronOptionsNumber.MISSION_SPEED), this.#update_option_speed_dom.bind(this), 0.1);\r\n        this.#dom_option_speed.title = t0;\r\n        this.#stats_options_element.appendChild(this._create_dom_label(\"Speed (m/s):\", this.#dom_option_speed, t0));\r\n        this.#stats_options_element.appendChild(this.#dom_option_speed);\r\n\r\n        const tb = \"Camera configuration for survey parameters.\";\r\n        let dom_break = this._create_dom_output();\r\n        dom_break.title = tb;\r\n        let dom_break_label = this._create_dom_label(\"Camera Config.\", dom_break, tb)\r\n        dom_break_label.classList.add('fp-stats-option-content-subtitle');\r\n        this.#stats_options_element.appendChild(dom_break_label);\r\n        this.#stats_options_element.appendChild(dom_break);\r\n\r\n        let camera = NeuronOptions.get_camera();\r\n        const t11 = \"Camera preset values for calculations based off of typical drone survey cameras\";\r\n        const camera_names = NeuronOptions.camera_presets.map(x => x.name);\r\n        this.#dom_option_camera_name = this._create_dom_input_select(camera_names, camera_names, this.#update_camera_from_dom.bind(this));\r\n        this.#dom_option_camera_name.title = t11;\r\n        this.#stats_options_element.appendChild(this._create_dom_label(\"Camera:\", this.#dom_option_camera_name, t11));\r\n        this.#stats_options_element.appendChild(this.#dom_option_camera_name);\r\n        //Manually set the camera name based off of the currently loaded camera\r\n        this.#set_camera_selector(camera);\r\n\r\n        const t12 = \"Camera focal length in millimeters\";\r\n        this.#dom_option_camera_focal_length = this._create_dom_input_number(camera.focal_length, this.#update_camera_focal_length_from_dom.bind(this), NeuronStatistics._camera_focal_length_min);\r\n        this.#dom_option_camera_focal_length.title = t12;\r\n        this.#stats_options_element.appendChild(this._create_dom_label(\"F.Length:\", this.#dom_option_camera_focal_length, t12));\r\n        this.#stats_options_element.appendChild(this.#dom_option_camera_focal_length);\r\n\r\n        const t13 = \"Camera sensor width in millimeters\";\r\n        this.#dom_option_camera_sensor_width = this._create_dom_input_number(camera.sensor_width, this.#update_camera_sensor_width_from_dom.bind(this), NeuronStatistics._camera_sensor_width_min);\r\n        this.#dom_option_camera_sensor_width.title = t13;\r\n        this.#stats_options_element.appendChild(this._create_dom_label(\"S.Width:\", this.#dom_option_camera_sensor_width, t13));\r\n        this.#stats_options_element.appendChild(this.#dom_option_camera_sensor_width);\r\n\r\n        const t14 = \"Camera sensor height in millimeters\";\r\n        this.#dom_option_camera_sensor_height = this._create_dom_input_number(camera.sensor_height, this.#update_camera_sensor_height_from_dom.bind(this), NeuronStatistics._camera_sensor_height_min);\r\n        this.#dom_option_camera_sensor_height.title = t14;\r\n        this.#stats_options_element.appendChild(this._create_dom_label(\"S.Height:\", this.#dom_option_camera_sensor_height, t14));\r\n        this.#stats_options_element.appendChild(this.#dom_option_camera_sensor_height);\r\n\r\n        const t15 = \"Camera image width in pixels\";\r\n        this.#dom_option_camera_image_width = this._create_dom_input_number(camera.image_width, this.#update_camera_image_width_from_dom.bind(this), NeuronStatistics._camera_image_width_min);\r\n        this.#dom_option_camera_image_width.title = t15;\r\n        this.#stats_options_element.appendChild(this._create_dom_label(\"I.Width:\", this.#dom_option_camera_image_width, t15));\r\n        this.#stats_options_element.appendChild(this.#dom_option_camera_image_width);\r\n\r\n        const t16 = \"Camera image height in pixels\";\r\n        this.#dom_option_camera_image_height = this._create_dom_input_number(camera.image_height, this.#update_camera_image_height_from_dom.bind(this), NeuronStatistics._camera_image_height_min);\r\n        this.#dom_option_camera_image_height.title = t16;\r\n        this.#stats_options_element.appendChild(this._create_dom_label(\"I.Height:\", this.#dom_option_camera_image_height, t16));\r\n        this.#stats_options_element.appendChild(this.#dom_option_camera_image_height);\r\n\r\n\r\n        //Statistics\r\n        this.#stats_results_element = document.getElementById(`${this.#stats_element_prefix}-results`);\r\n        this.#stats_results_element.innerHTML = '';\r\n\r\n        const t1 = \"Total number of waypoints in the mission plan\";\r\n        this.#dom_stat_waypoints = this._create_dom_output();\r\n        this.#dom_stat_waypoints.title = t1;\r\n        this.#stats_results_element.appendChild(this._create_dom_label(\"Waypoints:\", this.#dom_stat_waypoints, t1));\r\n        this.#stats_results_element.appendChild(this.#dom_stat_waypoints);\r\n\r\n        const t2 = \"Total distance traveled during the mission plan\";\r\n        this.#dom_stat_distance = this._create_dom_output();\r\n        this.#dom_stat_distance.title = t2;\r\n        this.#stats_results_element.appendChild(this._create_dom_label(\"Distance:\", this.#dom_stat_distance, t2));\r\n        this.#stats_results_element.appendChild(this.#dom_stat_distance);\r\n\r\n        const t3 = \"Total time taken to fly the mission plan\";\r\n        this.#dom_stat_duration = this._create_dom_output();\r\n        this.#dom_stat_duration.title = t3;\r\n        this.#stats_results_element.appendChild(this._create_dom_label(\"Duration:\", this.#dom_stat_duration, t3));\r\n        this.#stats_results_element.appendChild(this.#dom_stat_duration);\r\n\r\n        const t4 = \"Total number of images taken during the mission plan\";\r\n        this.#dom_stat_images = this._create_dom_output();\r\n        this.#dom_stat_images.title = t4;\r\n        this.#stats_results_element.appendChild(this._create_dom_label(\"Images:\", this.#dom_stat_images, t4));\r\n        this.#stats_results_element.appendChild(this.#dom_stat_images);\r\n\r\n        //Callbacks for hide\r\n        this.#stats_results_hide_element = document.getElementById(`${this.#stats_element_prefix}-results-hide`);\r\n        this.#stats_results_title_element = document.getElementById(`${this.#stats_element_prefix}-results-title`);\r\n        this.#stats_results_title_element.style.cursor = 'pointer';\r\n        this.#stats_results_title_element.onclick = this.#toggle_hide_section.bind(\r\n            this,\r\n            // this.#stats_results_title_element,\r\n            this.#stats_results_hide_element,\r\n            this.#stats_results_element\r\n        );\r\n        this.#stats_options_hide_element = document.getElementById(`${this.#stats_element_prefix}-options-hide`);\r\n        this.#stats_options_title_element = document.getElementById(`${this.#stats_element_prefix}-options-title`);\r\n        this.#stats_options_title_element.style.cursor = 'pointer';\r\n        this.#stats_options_title_element.onclick = this.#toggle_hide_section.bind(\r\n            this,\r\n            // this.#stats_options_title_element,\r\n            this.#stats_options_hide_element,\r\n            this.#stats_options_element\r\n        );\r\n    }\r\n\r\n    #set_camera_selector(camera:NeuronCameraSpecifications = NeuronOptions.camera_preset_custom) {\r\n        if(this.#dom_option_camera_name) {\r\n            let matched_camera:boolean = false;\r\n\r\n            //Go through our list and find possible matches for our set camera\r\n            const camera_matches = NeuronOptions.camera_presets.filter(x => x.name == camera.name);\r\n            if(camera_matches.length) {\r\n                const full_matches = camera_matches.filter(x => x.equals(camera));\r\n                matched_camera = full_matches.length > 0;\r\n            }\r\n\r\n            //If there is a proper match, then use that name (details should be filled in by set_camera())\r\n            //Otherwise it is a custom camera\r\n            this.#dom_option_camera_name.value = matched_camera ? camera.name : NeuronOptions.camera_preset_custom.name;\r\n        }\r\n    }\r\n\r\n    // set_camera(camera:NeuronCameraSpecifications) {\r\n    //     this.#set_camera(camera);\r\n    // };\r\n\r\n    // #set_camera(camera:NeuronCameraSpecifications, update_calcs:boolean = true) {\r\n\r\n    set_camera(camera:NeuronCameraSpecifications, update_settings:boolean = true) {\r\n        if(update_settings)\r\n            NeuronOptions.set_camera(camera, true, false);\r\n\r\n        this.#set_camera_selector(camera);\r\n\r\n        if(this.#dom_option_camera_focal_length)\r\n            this.#dom_option_camera_focal_length.value = Math.max(NeuronStatistics._camera_focal_length_min, camera.focal_length).toString();\r\n        if(this.#dom_option_camera_sensor_width)\r\n            this.#dom_option_camera_sensor_width.value = Math.max(NeuronStatistics._camera_sensor_width_min, camera.sensor_width).toString();\r\n        if(this.#dom_option_camera_sensor_height)\r\n            this.#dom_option_camera_sensor_height.value = Math.max(NeuronStatistics._camera_sensor_height_min, camera.sensor_height).toString();\r\n        if(this.#dom_option_camera_image_width)\r\n            this.#dom_option_camera_image_width.value = Math.max(NeuronStatistics._camera_image_width_min, camera.image_width).toString();\r\n        if(this.#dom_option_camera_image_height)\r\n            this.#dom_option_camera_image_height.value = Math.max(NeuronStatistics._camera_image_height_min, camera.image_height).toString();\r\n    }\r\n\r\n    #update_camera_from_dom() {\r\n        const value = this.#dom_option_camera_name.value;\r\n\r\n        const camera_names = NeuronOptions.camera_presets.map(x => x.name);\r\n        let camera = NeuronOptions.camera_preset_custom.copy();\r\n\r\n        if(camera_names.includes(value)) {\r\n            const matches = NeuronOptions.camera_presets.filter(x => x.name == value);\r\n            if(matches.length > 0) {\r\n                camera = matches[0].copy();\r\n            }\r\n        }\r\n\r\n        this.set_camera(camera);\r\n        // this.#calculate_and_update_camera_variables();\r\n    }\r\n\r\n    #update_camera_focal_length_from_dom() {\r\n        let camera = NeuronOptions.get_camera();\r\n        camera.focal_length = this.#dom_option_camera_focal_length.valueAsNumber;\r\n        this.set_camera(camera);\r\n    }\r\n\r\n    #update_camera_sensor_width_from_dom() {\r\n        let camera = NeuronOptions.get_camera();\r\n        camera.sensor_width = this.#dom_option_camera_sensor_width.valueAsNumber;\r\n        this.set_camera(camera);\r\n    }\r\n\r\n    #update_camera_sensor_height_from_dom() {\r\n        let camera = NeuronOptions.get_camera();\r\n        camera.sensor_height = this.#dom_option_camera_sensor_height.valueAsNumber;\r\n        this.set_camera(camera);\r\n    }\r\n\r\n    #update_camera_image_width_from_dom() {\r\n        let camera = NeuronOptions.get_camera();\r\n        camera.image_width = this.#dom_option_camera_image_width.valueAsNumber;\r\n        this.set_camera(camera);\r\n    }\r\n\r\n    #update_camera_image_height_from_dom() {\r\n        let camera = NeuronOptions.get_camera();\r\n        camera.image_height = this.#dom_option_camera_image_height.valueAsNumber;\r\n        this.set_camera(camera);\r\n    }\r\n\r\n    #toggle_hide_section(button:HTMLElement, section:HTMLElement) {\r\n        if(section.style.display != 'none') {\r\n            //Hide\r\n            section.style.display = 'none';\r\n        } else {\r\n            //Show\r\n            section.style.display = this.#stats_section_show_display;\r\n        }\r\n\r\n        button.innerHTML = '';\r\n        // let i = document.createElement('i');\r\n        // i.className = `fas fa-${section.style.display == 'none' ? 'plus' : 'minus'}`;\r\n        // button.appendChild(i);\r\n        const icons = neuron_get_icon(section.style.display == 'none' ? NeuronIcons.EXPAND : NeuronIcons.MINIMIZE);\r\n        for(const i of icons)\r\n            button.appendChild(i);\r\n    }\r\n\r\n    reset() {\r\n        this.#gen_dom();\r\n\r\n        //Update the planner\r\n        this.update_statistics();\r\n    }\r\n}\r\n","import { NeuronInterfacePoint } from \"./neuron_interfaces\";\r\n\r\nexport function zero_pad(num:number, places:number) {\r\n    return String(num).padStart(places, '0');\r\n}\r\n\r\nlet lastId = 0;\r\nexport function NeuronUID(prefix='nuid-') {\r\n    lastId++;\r\n    return `${prefix}${lastId}`;\r\n}\r\n\r\nexport function flight_distance_from_coords(coords:NeuronInterfacePoint[]) {\r\n    //XXX:  Total distance calculated with the haversine method\r\n    //      This is a shortcut and is probably ok for small distances\r\n    //      but we should definitely look at a proper earth model to\r\n    //      do it properly in the future\r\n\r\n    let total_distance = 0.0;\r\n    for (var i = 0; i < coords.length - 1; i++) {\r\n        const p1 = coords[i];\r\n        const p2 = coords[i+1];\r\n        const u1 = p1.to_UTM();\r\n        const u2 = p2.to_UTM(u1.zone);\r\n        const d = u1.GetDistance2D(u2);\r\n        //Do some sneaky stuff to support altitude as well\r\n        const alt_d = Math.pow(Math.abs(p1.altitude - p2.altitude), 2);\r\n        total_distance += Math.sqrt(Math.pow(d,2) + alt_d);\r\n    }\r\n\r\n    return total_distance;\r\n}\r\n\r\nexport function flight_time_from_duration(duration:number) {\r\n    const t_h = Math.floor(duration / 3600);\r\n    const t_m = Math.floor(duration % 3600 / 60);\r\n    const t_s = Math.floor(duration % 3600 % 60);\r\n\r\n    return `${zero_pad(t_h,2)}:${zero_pad(t_m,2)}:${zero_pad(t_s,2)}`;\r\n}\r\n\r\nexport function mm_to_px(mm:number) {\r\n    const default_dpi = 96;\r\n    return (mm / 25.4) * window.devicePixelRatio * default_dpi;\r\n}","export function get_filename(ext:string) {\r\n    return `neuron-planner${Date.now()}.${ext}`;\r\n}\r\n\r\nexport async function download_file(filename:string, data:Blob) {\r\n    var element = document.createElement('a');\r\n    const burl = URL.createObjectURL(data);\r\n    element.setAttribute('href', burl);\r\n    element.setAttribute('download', filename);\r\n\r\n    element.style.display = 'none';\r\n    document.body.appendChild(element);\r\n\r\n    element.click();\r\n\r\n    document.body.removeChild(element);\r\n}","import { NeuronInterfacePoint } from \"./neuron_interfaces\";\r\nimport { download_file, get_filename } from \"./neuron_tools_files\"\r\nimport * as zip from \"@zip.js/zip.js\";\r\n\r\nconst type_kml = \"application/vnd.google-earth.kml+xml\";\r\nconst type_kmz = \"application/vnd.google-earth.kmz\";\r\n\r\nexport function get_supported_kmx_types() {\r\n    return [type_kml, type_kmz];\r\n}\r\n\r\nexport interface NeuronKMLData {\r\n    markers:NeuronInterfacePoint[];\r\n    paths:NeuronInterfacePoint[][];\r\n    polygons:NeuronInterfacePoint[][];\r\n}\r\n\r\nexport async function kmx_load_file(file:Blob, cb_file_loaded:CallableFunction) {\r\n    let result = null;\r\n    console.log(`Loaded file identified as \"${file.type}\" type`);\r\n    switch(file.type) {\r\n        case type_kml: {\r\n            const text = await file.text();\r\n            result = await kml_extract_features(text);\r\n            break;\r\n        }\r\n        case type_kmz: {\r\n            const reader = new zip.ZipReader(new zip.BlobReader(file));\r\n            const entries = await reader.getEntries();\r\n            let got_data = false;\r\n            let markers:NeuronInterfacePoint[] = [];\r\n            let paths:NeuronInterfacePoint[][] = [];\r\n            let polygons:NeuronInterfacePoint[][] = [];\r\n\r\n            for(const e of entries) {\r\n                const text:string = await e.getData(new zip.TextWriter());\r\n                const r = await kml_extract_features(text);\r\n\r\n                if(r.markers.length || r.paths.length || r.polygons.length) {\r\n                    got_data = true;\r\n                    markers.push(...r.markers);\r\n                    paths.push(...r.paths);\r\n                    polygons.push(...r.polygons);\r\n                }\r\n            }\r\n\r\n            if(got_data) {\r\n                result = {\r\n                    markers: markers,\r\n                    paths: paths,\r\n                    polygons: polygons,\r\n                }\r\n            }\r\n\r\n            break;\r\n        }\r\n    }\r\n\r\n    // console.log(result);\r\n    cb_file_loaded(result);\r\n}\r\n\r\nexport async function kml_extract_features(kml_plain_text:string) {\r\n    //XXX: Only supports google marks/placemarks and polygons\r\n    let parser = new DOMParser();\r\n    let xmlDoc = parser.parseFromString(kml_plain_text, \"text/xml\");\r\n    let ret:NeuronKMLData = null;\r\n\r\n    if (xmlDoc.documentElement.nodeName == \"kml\") {\r\n        let markers:NeuronInterfacePoint[] = [];\r\n        let paths:NeuronInterfacePoint[][] = [];\r\n        let polygons:NeuronInterfacePoint[][] = [];\r\n\r\n        for (const item of xmlDoc.getElementsByTagName('Placemark')) {\r\n            let placeMarkName = \"Unknown\";\r\n            try{\r\n                placeMarkName = item.getElementsByTagName('name')[0].childNodes[0].nodeValue.trim();\r\n            }\r\n            catch {}\r\n            let kml_polygons = Array.from(item.getElementsByTagName('Polygon'));\r\n            let kml_markers = Array.from(item.getElementsByTagName('Point'));\r\n            let kml_paths = Array.from(item.getElementsByTagName('LineString'));\r\n\r\n            for(const multi of item.getElementsByTagName('MultiGeometry')) {\r\n                kml_polygons = kml_polygons.concat(Array.from(multi.getElementsByTagName('Polygon')));\r\n                kml_markers = kml_markers.concat(Array.from(multi.getElementsByTagName('Point')));\r\n                kml_paths = kml_paths.concat(Array.from(multi.getElementsByTagName('LineString')));\r\n            }\r\n\r\n            /** MARKER PARSE **/\r\n            for (const marker of kml_markers) {\r\n                let point = marker.getElementsByTagName('coordinates')[0].childNodes[0].nodeValue.trim();\r\n                let p = point_from_coord(point.split(\",\"));\r\n                p.tag = placeMarkName;\r\n                markers.push(p);\r\n            }\r\n\r\n            /** PATH PARSE **/\r\n            for (const path of kml_paths) {\r\n                let coords = path.getElementsByTagName('coordinates')[0].childNodes[0].nodeValue.trim();\r\n                let kml_points = coords.split(\" \");\r\n\r\n                let points:NeuronInterfacePoint[] = [];\r\n                for (const point of kml_points) {\r\n                    points.push(point_from_coord(point.split(\",\")));\r\n                }\r\n\r\n                paths.push(points);\r\n            }\r\n\r\n            /** POLYGONS PARSE **/\r\n            for (const polygon of kml_polygons) {\r\n                let coords = polygon.getElementsByTagName('coordinates')[0].childNodes[0].nodeValue.trim();\r\n                let kml_points = coords.split(\" \");\r\n\r\n                let points:NeuronInterfacePoint[] = [];\r\n                for (const point of kml_points) {\r\n                    points.push(point_from_coord(point.split(\",\")));\r\n                }\r\n\r\n                polygons.push(points);\r\n            }\r\n        }\r\n\r\n        ret = { markers: markers, paths: paths, polygons: polygons };\r\n    } else {\r\n        console.error(\"Error while parsing KML string\");\r\n    }\r\n\r\n    return ret;\r\n}\r\n\r\nfunction point_from_coord(coords:string[]) {\r\n\r\n    let lat = coords.length >= 2 ? Number.parseFloat(coords[1]) : 0.0;\r\n    let lon = coords.length >= 1 ? Number.parseFloat(coords[0]) : 0.0;\r\n    let alt = coords.length >= 3 ? Number.parseFloat(coords[2]) : 0.0;\r\n\r\n    return new NeuronInterfacePoint(\r\n        Number.isNaN(lat) ? 0.0 : lat,\r\n        Number.isNaN(lon) ? 0.0 : lon,\r\n        Number.isNaN(alt) ? 0.0 : alt,\r\n    );\r\n}\r\n\r\nexport async function kml_download_from_neuron_data(markers:NeuronInterfacePoint[], waypoints:NeuronInterfacePoint[], polygons:NeuronInterfacePoint[][]) {\r\n    const textXML = await kml_data_from_neuron_data(markers, waypoints, polygons);\r\n    const file = new Blob(\r\n        [textXML],\r\n        {\r\n            type: type_kml\r\n        }\r\n    );\r\n    download_file(get_filename('kml'), file);\r\n}\r\n\r\nexport async function kmz_download_from_neuron_data(markers:NeuronInterfacePoint[], waypoints:NeuronInterfacePoint[], polygons:NeuronInterfacePoint[][]) {\r\n    const textXML = await kml_data_from_neuron_data(markers, waypoints, polygons);\r\n    const kmz = await get_kmz_from_kml_data(textXML);\r\n    download_file(get_filename('kmz'), kmz);\r\n}\r\n\r\nasync function get_kmz_from_kml_data(data:string) {\r\n    // use a BlobWriter to store with a ZipWriter the zip into a Blob object\r\n    const blobWriter = new zip.BlobWriter(type_kmz);\r\n    const writer = new zip.ZipWriter(blobWriter);\r\n\r\n    // use a TextReader to read the String to add\r\n    await writer.add(\"doc.kml\", new zip.TextReader(data));\r\n\r\n    // close the ZipReader\r\n    await writer.close();\r\n\r\n    // get the zip file as a Blob\r\n    return blobWriter.getData();\r\n}\r\n\r\nexport async function kml_data_from_neuron_data(markers:NeuronInterfacePoint[], waypoints:NeuronInterfacePoint[], polygons:NeuronInterfacePoint[][]) {\r\n    let xmlDocument = document.implementation.createDocument(\"\", \"\", null);\r\n    const kmlNode = xmlDocument.createElement('kml');\r\n    kmlNode.setAttribute('xmlns', 'http://www.opengis.net/kml/2.2');\r\n    const documentNode = xmlDocument.createElement('Document');\r\n    kmlNode.appendChild(documentNode);\r\n    xmlDocument.appendChild(kmlNode);\r\n\r\n    //Markers\r\n    for(let i=0; i<markers.length; i++) {\r\n        documentNode.appendChild(\r\n            kml_create_point_node(xmlDocument, markers[i].tag ? markers[i].tag : `Marker #${i+1}`, markers[i].latitude, markers[i].longitude)\r\n        );\r\n    }\r\n\r\n    //Paths\r\n    documentNode.appendChild(kml_create_path_node(xmlDocument, \"flight-path\", waypoints));\r\n\r\n    //Polygons\r\n    for(let i=0; i<polygons.length; i++) {\r\n        documentNode.appendChild(kml_create_polygon_node(xmlDocument, `polygon-${i+1}`, polygons[i]));\r\n    }\r\n\r\n    return kml_document_to_string(xmlDocument);\r\n}\r\n\r\nexport function kml_document_to_string(xmlDocument: XMLDocument) {\r\n    let textXML = new XMLSerializer().serializeToString(xmlDocument);\r\n    return '<?xml version=\"1.0\" encoding=\"UTF-8\"?>' + textXML;\r\n}\r\n\r\nfunction kml_create_point_node(xmlDocument: XMLDocument, name:string, lat:number, lng:number) {\r\n    const placemarkNode = xmlDocument.createElement('Placemark');\r\n    const nameNode = xmlDocument.createElement('name');\r\n    nameNode.innerHTML = name;\r\n    const descriptionNode = xmlDocument.createElement('description');\r\n    const pointNode = xmlDocument.createElement('Point');\r\n    const coordinatesNode = xmlDocument.createElement('coordinates');\r\n    coordinatesNode.innerHTML = `${lng},${lat}`;\r\n    placemarkNode.appendChild(nameNode);\r\n    placemarkNode.appendChild(descriptionNode);\r\n    placemarkNode.appendChild(pointNode);\r\n    pointNode.appendChild(coordinatesNode);\r\n    return placemarkNode;\r\n}\r\n\r\nfunction kml_create_path_node(xmlDocument: XMLDocument, name:string, coordinates:NeuronInterfacePoint[]) {\r\n    const placemarkNode = xmlDocument.createElement('Placemark');\r\n    const nameNode = xmlDocument.createElement('name');\r\n    nameNode.innerHTML = name;\r\n    const descriptionNode = xmlDocument.createElement('description');\r\n    const lineStringNode = xmlDocument.createElement('LineString');\r\n    const coordinatesNode = xmlDocument.createElement('coordinates');\r\n    const plist = coordinates.map(x => `${x.longitude},${x.latitude}`);\r\n    coordinatesNode.innerHTML = plist.join(' ');\r\n    placemarkNode.appendChild(nameNode);\r\n    placemarkNode.appendChild(descriptionNode);\r\n    placemarkNode.appendChild(lineStringNode);\r\n    lineStringNode.appendChild(coordinatesNode);\r\n    return placemarkNode;\r\n}\r\n\r\nfunction kml_create_polygon_node(xmlDocument: XMLDocument, name:string, coordinates:NeuronInterfacePoint[]) {\r\n    const placemarkNode = xmlDocument.createElement('Placemark');\r\n    const nameNode = xmlDocument.createElement('name');\r\n    nameNode.innerHTML = name;\r\n    const descriptionNode = xmlDocument.createElement('description');\r\n    const polygonNode = xmlDocument.createElement('Polygon');\r\n    const boundaryNode = xmlDocument.createElement('outerBoundaryIs');\r\n    const ringNode = xmlDocument.createElement('LinearRing');\r\n    const coordinatesNode = xmlDocument.createElement('coordinates');\r\n    const plist = coordinates.map(x => `${x.longitude},${x.latitude}`);\r\n    coordinatesNode.innerHTML = plist.join(' ');\r\n    placemarkNode.appendChild(nameNode);\r\n    placemarkNode.appendChild(descriptionNode);\r\n    placemarkNode.appendChild(polygonNode);\r\n    polygonNode.appendChild(boundaryNode);\r\n    boundaryNode.appendChild(ringNode);\r\n    ringNode.appendChild(coordinatesNode);\r\n    return placemarkNode;\r\n}\r\n","import { NeuronInterfacePoint } from \"./neuron_interfaces\";\r\nimport { UTMPos, UTMLine } from \"./interface_proj4\";\r\n\r\nexport enum StartPosition {\r\n    // Home = 0,\r\n    BottomLeft = 1,\r\n    TopLeft = 2,\r\n    BottomRight = 3,\r\n    TopRight = 4,\r\n    // Point = 5\r\n}\r\n\r\nexport class Rect\r\n{\r\n    Top:number;\r\n    Bottom:number;\r\n    Left:number;\r\n    Right:number;\r\n\r\n    Width() {\r\n        return this.Right - this.Left;\r\n    }\r\n\r\n    Height() {\r\n        return this.Bottom - this.Top;\r\n    }\r\n\r\n\r\n    MidWidth() {\r\n        return ((this.Right - this.Left) / 2) + this.Left;\r\n    }\r\n\r\n    MidHeight() {\r\n        return ((this.Top - this.Bottom) / 2) + this.Bottom;\r\n    }\r\n\r\n    constructor(Left:number=0.0, Top:number=0.0, Width:number=0.0, Height:number=0.0)\r\n    {\r\n        this.Left = Left;\r\n        this.Top = Top;\r\n        this.Right = Left + Width;\r\n        this.Bottom = Top + Height;\r\n    }\r\n\r\n    diag_distance()\r\n    {\r\n        // Pythagoras\r\n        return Math.sqrt(Math.pow(this.Width(), 2) + Math.pow(this.Height(), 2));\r\n    }\r\n\r\n}\r\n\r\nfunction remove_item_from_array(array:any[], item:any) {\r\n    const index = array.indexOf(item);\r\n    if (index > -1)\r\n        array.splice(index, 1);\r\n}\r\n\r\n// Add an angle while normalizing output in the range 0...360\r\nfunction AddAngle(angle:number, degrees:number) {\r\n    angle += degrees;\r\n    angle = angle % 360;\r\n\r\n    if (angle < 0)\r\n        angle += 360;\r\n\r\n    return angle;\r\n}\r\n\r\nfunction FindLineIntersection(start1:UTMPos, end1:UTMPos, start2:UTMPos, end2:UTMPos) {\r\n    let denom = ((end1.x - start1.x) * (end2.y - start2.y)) - ((end1.y - start1.y) * (end2.x - start2.x));\r\n    //  AB & CD are parallel\r\n    if (denom == 0)\r\n        return new UTMPos();\r\n    let numerator = ((start1.y - start2.y) * (end2.x - start2.x)) - ((start1.x - start2.x) * (end2.y - start2.y));\r\n    let r = numerator / denom;\r\n    let numerator2 = ((start1.y - start2.y) * (end1.x - start1.x)) - ((start1.x - start2.x) * (end1.y - start1.y));\r\n    let s = numerator2 / denom;\r\n    if ((r < 0 || r > 1) || (s < 0 || s > 1))\r\n        return new UTMPos();\r\n    // Find intersection point\r\n    return new UTMPos(\r\n        start1.x + (r * (end1.x - start1.x)),\r\n        start1.y + (r * (end1.y - start1.y)),\r\n        start1.zone\r\n    );\r\n}\r\n\r\nfunction getPolyMinMax(utmpos:UTMPos[]) {\r\n    if (utmpos.length == 0)\r\n        return new Rect();\r\n\r\n    let min_x, min_y, max_x, max_y = 0.0;\r\n\r\n    min_x = max_x = utmpos[0].x;\r\n    min_y = max_y = utmpos[0].y;\r\n\r\n    for(const pnt of utmpos) {\r\n        min_x = Math.min(min_x, pnt.x);\r\n        max_x = Math.max(max_x, pnt.x);\r\n\r\n        min_y = Math.min(min_y, pnt.y);\r\n        max_y = Math.max(max_y, pnt.y);\r\n    }\r\n\r\n    return new Rect(min_x, max_y, max_x - min_x, min_y - max_y);\r\n}\r\n\r\nfunction PointInPolygon(p:UTMPos, poly:UTMPos[]) {\r\n    let p1 = new UTMPos()\r\n    let p2 = new UTMPos();\r\n    let inside = false;\r\n\r\n    if (poly.length < 3)\r\n    {\r\n        return inside;\r\n    }\r\n    let oldPoint = poly[poly.length - 1].copy();\r\n\r\n    for (let i = 0; i < poly.length; i++)\r\n    {\r\n\r\n        let newPoint = poly[i].copy();\r\n\r\n        if (newPoint.y > oldPoint.y)\r\n        {\r\n            p1 = oldPoint;\r\n            p2 = newPoint;\r\n        }\r\n        else\r\n        {\r\n            p1 = newPoint;\r\n            p2 = oldPoint;\r\n        }\r\n\r\n        if ((newPoint.y < p.y) == (p.y <= oldPoint.y)\r\n            && (p.x - p1.x) * (p2.y - p1.y)\r\n            < (p2.x - p1.x) * (p.y - p1.y))\r\n        {\r\n            inside = !inside;\r\n        }\r\n        oldPoint = newPoint;\r\n    }\r\n    return inside;\r\n}\r\n\r\nfunction FindLineIntersectionExtension(start1:UTMPos, end1:UTMPos, start2:UTMPos, end2:UTMPos) {\r\n    let denom = ((end1.x - start1.x) * (end2.y - start2.y)) - ((end1.y - start1.y) * (end2.x - start2.x));\r\n    //  AB & CD are parallel\r\n    if (denom == 0)\r\n        return new UTMPos();\r\n    let numerator = ((start1.y - start2.y) * (end2.x - start2.x)) - ((start1.x - start2.x) * (end2.y - start2.y));\r\n    let r = numerator / denom;\r\n    let numerator2 = ((start1.y - start2.y) * (end1.x - start1.x)) - ((start1.x - start2.x) * (end1.y - start1.y));\r\n    let s = numerator2 / denom;\r\n    if ((r < 0 || r > 1) || (s < 0 || s > 1)) {\r\n        // line intersection is outside our lines.\r\n    }\r\n\r\n    // Find intersection point\r\n    let result = new UTMPos(\r\n        start1.x + (r * (end1.x - start1.x)),\r\n        start1.y + (r * (end1.y - start1.y)),\r\n        start1.zone\r\n    );\r\n\r\n    return result;\r\n}\r\n\r\nfunction findClosestPoint(start:UTMPos, list:UTMPos[])\r\n{\r\n    let answer = new UTMPos();\r\n    let current_best = Number.MAX_VALUE;\r\n\r\n    for(const pnt of list) {\r\n        const dist1 = start.GetDistance2D(pnt);\r\n\r\n        if (dist1 < current_best) {\r\n            answer = pnt;\r\n            current_best = dist1;\r\n        }\r\n    }\r\n\r\n    return answer;\r\n}\r\n\r\nfunction findClosestLine(start:UTMPos, list:UTMLine[], min_distance:number, angle:number):UTMLine {\r\n    if (min_distance != 0) {\r\n        // By now, just add 5.000 km to our lines so they are long enough to allow intersection\r\n        let METERS_TO_EXTEND = 5000;\r\n        let perpendicularOrientation = AddAngle(angle, 90);\r\n\r\n        // Calculation of a perpendicular line to the grid lines containing the \"start\" point\r\n        /*\r\n        *  --------------------------------------|------------------------------------------\r\n        *  --------------------------------------|------------------------------------------\r\n        *  -------------------------------------start---------------------------------------\r\n        *  --------------------------------------|------------------------------------------\r\n        *  --------------------------------------|------------------------------------------\r\n        *  --------------------------------------|------------------------------------------\r\n        *  --------------------------------------|------------------------------------------\r\n        *  --------------------------------------|------------------------------------------\r\n        */\r\n        let start_perpendicular_line = start.relative_point_from_dist_bearing(perpendicularOrientation, -METERS_TO_EXTEND);\r\n        let stop_perpendicular_line = start.relative_point_from_dist_bearing(perpendicularOrientation, METERS_TO_EXTEND);\r\n\r\n        // Store one intersection point per grid line\r\n        let intersectedPoints:Map<UTMPos,UTMLine> = new Map();\r\n        // lets order distances from every intersected point per line with the \"start\" point\r\n        let ordered_min_to_max:Map<number,UTMPos> = new Map();\r\n\r\n        for(const line of list) {\r\n            // Calculate intersection point\r\n            let p = FindLineIntersectionExtension(line.p1, line.p2, start_perpendicular_line, stop_perpendicular_line);\r\n\r\n            // Store it\r\n            intersectedPoints.set(p, line);\r\n\r\n            // Calculate distances between intersect point and \"start\" (i.e. line and start)\r\n            let distance_p = start.GetDistance2D(p);\r\n\r\n            if (!ordered_min_to_max.has(distance_p))\r\n                ordered_min_to_max.set(distance_p, p);\r\n        }\r\n\r\n        // Acquire keys and sort them.\r\n        let ordered_keys = Array.from(ordered_min_to_max.keys());\r\n        ordered_keys.sort(function(a, b) {\r\n            return a - b;\r\n        });\r\n\r\n        // Lets select a line that is the closest to \"start\" point but \"min_distance\" away at least.\r\n        // If we have only one line, return that line whatever the minDistance says\r\n        let key = Number.MAX_VALUE;\r\n        let i = 0;\r\n        while (key == Number.MAX_VALUE && i < ordered_keys.length) {\r\n            if (ordered_keys[i] >= min_distance)\r\n                key = ordered_keys[i];\r\n            i++;\r\n        }\r\n\r\n        // If no line is selected (because all of them are closer than minDistance, then get the farthest one\r\n        if (key == Number.MAX_VALUE)\r\n            key = ordered_keys[ordered_keys.length - 1];\r\n\r\n        let filtered_map = Array.from(intersectedPoints.entries()).filter(a => a[0].GetDistance2D(start) >= key);\r\n        let filtered_lines = filtered_map.map(a => a[1]);\r\n\r\n        return findClosestLine(start, filtered_lines, 0, angle);\r\n    } else {\r\n        let answer = list[0];\r\n        let shortest = Number.MAX_VALUE;\r\n\r\n        for(const line of list) {\r\n            let ans1 = start.GetDistance2D(line.p1);\r\n            let ans2 = start.GetDistance2D(line.p2);\r\n            let shorter_pnt = ans1 < ans2 ? line.p1 : line.p2;\r\n\r\n            if (shortest > start.GetDistance2D(shorter_pnt)) {\r\n                answer = line;\r\n                shortest = start.GetDistance2D(shorter_pnt);\r\n            }\r\n        }\r\n\r\n        return answer;\r\n    }\r\n}\r\n\r\nexport enum GridPointTags {\r\n    START = \"S\",\r\n    END = \"E\",\r\n    MIDDLE = \"M\",\r\n    MIDDLE_START= \"MS\",\r\n    MIDDLE_END = \"ME\",\r\n}\r\n\r\nconst min_distance = 0.5;\r\n/**\r\n * @param  {NeuronInterfacePoint[]} polygon List of points that define the survey polygon\r\n * @param  {number} altitude altitude to map to the final points\r\n * @param  {number} distance distance between lines\r\n * @param  {number} spacing Additional spacing between polygon and turns?  TODO: Figure out what this is meant to do?\r\n * @param  {number} angle angle of the survey pattern to follow (lane angle)\r\n * @param  {number} overshoot1 overshoot distance at the first \"end\" of the survey pattern\r\n * @param  {number} overshoot2 overshoot distance at the second \"end\" of the survey pattern\r\n * @param  {StartPosition} startpos selector for where the starting position should be\r\n * @param  {number} minLaneSeparation minimum lane separation/skip parameter (causes the lanes to alternate)\r\n * @param  {number} leadin additional lead-in to assist with mission planning for planes (allows more time for the plane to complete the turn before entering the survey stretch)\r\n */\r\nexport function CreateGrid(\r\n    polygon:NeuronInterfacePoint[],\r\n    altitude:number,\r\n    distance:number,\r\n    spacing:number,\r\n    angle:number,\r\n    overshoot1:number,\r\n    overshoot2:number,\r\n    startpos:StartPosition,\r\n    // shutter:boolean,\r\n    minLaneSeparation:number,\r\n    leadin:number,\r\n    // HomeLocation:NeuronInterfacePoint\r\n    ) {\r\n\r\n    if (spacing < 0.1 && spacing != 0)\r\n        spacing = 0.1;\r\n\r\n    if (distance < min_distance)\r\n        distance = min_distance;\r\n\r\n    if (polygon.length == 0)\r\n        return [];\r\n\r\n\r\n    // Make a non round number in case of corner cases\r\n    if (minLaneSeparation != 0)\r\n        minLaneSeparation += 0.5;\r\n\r\n    // Lane Separation in meters\r\n    const minLaneSeparationINMeters = minLaneSeparation * distance;\r\n\r\n    const utm_zone = polygon[0].to_UTM().zone;\r\n    // utm position list\r\n    let utm_positions = polygon.map(x => x.to_UTM(utm_zone));\r\n    // utm zone distance calcs will be done in\r\n    // let utm_positions = utmpos.ToList(NeuronInterfacePoint.ToUTM(utm_zone, polygon), utm_zone);\r\n    // let utm_positions = polygon;\r\n\r\n    // close the loop if its not already\r\n    if (!utm_positions[0].equals(utm_positions[utm_positions.length - 1]))\r\n        utm_positions.push(utm_positions[0]); // make a full loop\r\n\r\n    // get min/max of coverage area\r\n    let area = getPolyMinMax(utm_positions);\r\n\r\n    // get initial grid\r\n\r\n    // used to determine the size of the outer grid area\r\n    let diag_dist = area.diag_distance();\r\n\r\n    // somewhere to store out generated lines\r\n    let grid:UTMLine[] = [];\r\n    // number of lines we need\r\n    let lines = 0;\r\n\r\n    // get start point middle\r\n    let x = area.MidWidth();\r\n    let y = area.MidHeight();\r\n    let start_p = new UTMPos(x,y,utm_zone);\r\n\r\n    // //UTMLine(new utmpos(x, y, utm_zone), \"Base\");\r\n\r\n    // // get left extent\r\n    // let xb1 = x;\r\n    // let yb1 = y;\r\n    // // to the left\r\n    // new_pos(ref xb1, ref yb1, angle - 90, diag_dist / 2 + distance);\r\n    // // backwards\r\n    // new_pos(ref xb1, ref yb1, angle + 180, diag_dist / 2 + distance);\r\n\r\n    // utmpos left = new utmpos(xb1, yb1, utm_zone);\r\n    let left = start_p.relative_point_from_dist_bearing(angle - 90, diag_dist / 2 + distance).relative_point_from_dist_bearing(angle + 180, diag_dist / 2 + distance);\r\n\r\n    ////UTMLine(left, \"left\");\r\n\r\n    // get right extent\r\n    // // double xb2 = x;\r\n    // // double yb2 = y;\r\n    // // // to the right\r\n    // // new_pos(ref xb2, ref yb2, angle + 90, diag_dist / 2 + distance);\r\n    // // // backwards\r\n    // // new_pos(ref xb2, ref yb2, angle + 180, diag_dist / 2 + distance);\r\n\r\n    // // utmpos right = new utmpos(xb2, yb2, utm_zone);\r\n    // let right = start_p.relative_point_from_dist_bearing(angle + 90, diag_dist / 2 + distance).relative_point_from_dist_bearing(angle + 180, diag_dist / 2 + distance);\r\n\r\n    ////UTMLine(right, \"right\");\r\n\r\n    // set start point to left hand side\r\n    x = left.x;\r\n    y = left.y;\r\n\r\n    // draw the outer grid, this is a grid that cover the entire area of the rectangle plus more.\r\n    while (lines < ((diag_dist + distance * 2) / distance))\r\n    {\r\n        // copy the start point to generate the end point\r\n        let l_start = new UTMPos(x, y, utm_zone);\r\n        let l_end = l_start.relative_point_from_dist_bearing(angle, diag_dist + distance * 2);\r\n        // let nx = x;\r\n        // let ny = y;\r\n        // new_pos(ref nx, ref ny, angle, diag_dist + distance * 2);\r\n\r\n        let line = new UTMLine(l_start, l_end, l_start.copy());\r\n        // line.p1 = new utmpos(x, y, utm_zone);\r\n        // line.p2 = new utmpos(nx, ny, utm_zone);\r\n        // line.base_pnt = new utmpos(x, y, utm_zone);\r\n        grid.push(line);\r\n\r\n        // //UTMLine(line);\r\n\r\n        // new_pos(ref x, ref y, angle + 90, distance);\r\n        let l_next = l_start.relative_point_from_dist_bearing(angle + 90, distance);\r\n        x = l_next.x;\r\n        y = l_next.y;\r\n        lines++;\r\n    }\r\n\r\n    // find intersections with our polygon\r\n\r\n    // store lines that dont have any intersections\r\n    let remove:UTMLine[] = [];\r\n\r\n    let grid_no = grid.length;\r\n\r\n    // cycle through our grid\r\n    for (let a = 0; a < grid_no; a++) {\r\n        let closest_distance = Number.MAX_VALUE;\r\n        let farthest_distance = Number.MIN_VALUE;\r\n\r\n        let closest_point = new UTMPos();\r\n        let farthest_point = new UTMPos();\r\n\r\n        // somewhere to store our intersections\r\n        let matches:UTMPos[] = [];\r\n\r\n        let crosses = 0;\r\n        for (let b = 1; b < utm_positions.length; b++) {\r\n            const utm_p1 = utm_positions[b-1];\r\n            const utm_p2 = utm_positions[b];\r\n\r\n            let new_utmpos = FindLineIntersection(utm_p1, utm_p2, grid[a].p1, grid[a].p2);\r\n            if (!(new_utmpos.equals(new UTMPos()))) {\r\n                crosses++;\r\n                matches.push(new_utmpos);\r\n                if (closest_distance > grid[a].p1.GetDistance2D(new_utmpos))\r\n                {\r\n                    closest_point.y = new_utmpos.y;\r\n                    closest_point.x = new_utmpos.x;\r\n                    closest_point.zone = new_utmpos.zone;\r\n                    closest_distance = grid[a].p1.GetDistance2D(new_utmpos);\r\n                }\r\n                if (farthest_distance < grid[a].p1.GetDistance2D(new_utmpos))\r\n                {\r\n                    farthest_point.y = new_utmpos.y;\r\n                    farthest_point.x = new_utmpos.x;\r\n                    farthest_point.zone = new_utmpos.zone;\r\n                    farthest_distance = grid[a].p1.GetDistance2D(new_utmpos);\r\n                }\r\n            }\r\n        }\r\n        if (crosses == 0) // outside our polygon\r\n        {\r\n            if (!PointInPolygon(grid[a].p1, utm_positions) && !PointInPolygon(grid[a].p2, utm_positions))\r\n                remove.push(grid[a]);\r\n        }\r\n        else if (crosses == 1) // bad - shouldn't happen\r\n        {\r\n\r\n        }\r\n        else if (crosses == 2) // simple start and finish\r\n        {\r\n            let line = grid[a];\r\n            line.p1 = closest_point;\r\n            line.p2 = farthest_point;\r\n            grid[a] = line;\r\n        }\r\n        else // multiple intersections\r\n        {\r\n            let line = grid[a];\r\n            remove.push(line);\r\n\r\n            while (matches.length > 1)\r\n            {\r\n                closest_point = findClosestPoint(closest_point, matches);\r\n                const p1 = closest_point;\r\n                remove_item_from_array(matches, closest_point);\r\n\r\n                closest_point = findClosestPoint(closest_point, matches);\r\n                const p2 = closest_point;\r\n                remove_item_from_array(matches, closest_point);\r\n\r\n                let newline = new UTMLine(\r\n                    p1,\r\n                    p2,\r\n                    line.base_pnt.copy()\r\n                );\r\n\r\n                grid.push(newline);\r\n            }\r\n        }\r\n    }\r\n\r\n    // let grid_debug = [...grid];\r\n    // let debug_points = [];\r\n    // for(const line of grid_debug) {\r\n    //     debug_points.push(line.p1);\r\n    //     debug_points.push(line.p2);\r\n    // }\r\n\r\n    // cleanup and keep only lines that pass though our polygon\r\n    for(const line of remove)\r\n        remove_item_from_array(grid, line);\r\n\r\n    if (grid.length == 0)\r\n        return [];\r\n        // return NeuronInterfacePoint.from_UTMs(debug_points);\r\n\r\n    // pick start position based on initial point rectangle\r\n    let start_pos_utm:UTMPos = null;\r\n\r\n    switch (startpos)\r\n    {\r\n        default:\r\n        // case StartPosition.Home:\r\n        //     start_pos_utm = HomeLocation.to_UTM(utm_zone);\r\n        //     break;\r\n        case StartPosition.BottomLeft:\r\n            start_pos_utm = new UTMPos(area.Left, area.Bottom, utm_zone);\r\n            break;\r\n        case StartPosition.BottomRight:\r\n            start_pos_utm = new UTMPos(area.Right, area.Bottom, utm_zone);\r\n            break;\r\n        case StartPosition.TopLeft:\r\n            start_pos_utm = new UTMPos(area.Left, area.Top, utm_zone);\r\n            break;\r\n        case StartPosition.TopRight:\r\n            start_pos_utm = new UTMPos(area.Right, area.Top, utm_zone);\r\n            break;\r\n        // case StartPosition.Point:\r\n        //     start_pos_utm = new UTMPos();\r\n        //     start_pos_utm.zone = utm_zone;\r\n        //     break;\r\n    }\r\n\r\n    // find the closes polygon point based from our startpos selection\r\n    start_pos_utm = findClosestPoint(start_pos_utm, utm_positions);\r\n\r\n    // find closest line point to startpos\r\n    let closest = findClosestLine(start_pos_utm, grid, 0 /*Lane separation does not apply to starting point*/, angle);\r\n\r\n    let last_pnt = new UTMPos();\r\n\r\n    // get the closes point from the line we picked\r\n    if (closest.p1.GetDistance2D(start_pos_utm) < closest.p2.GetDistance2D(start_pos_utm))\r\n    {\r\n        last_pnt = closest.p1;\r\n    }\r\n    else\r\n    {\r\n        last_pnt = closest.p2;\r\n    }\r\n\r\n    let ans:UTMPos[] = [];\r\n    while (grid.length > 0) {\r\n        // for each line, check which end of the line is the next closest\r\n        if (closest.p1.GetDistance2D(last_pnt) < closest.p2.GetDistance2D(last_pnt))\r\n        {\r\n            let new_start = closest.p1.relative_point_from_dist_bearing(angle, -leadin);\r\n            new_start.tag = GridPointTags.START;\r\n            //UTMLine(new_start, \"S\");\r\n            ans.push(new_start);\r\n\r\n            if (leadin < 0) {\r\n                var p2 = new_start.copy();\r\n                p2.tag = GridPointTags.MIDDLE_START;\r\n                //UTMLine(p2, \"SM\");\r\n                ans.push(p2);\r\n            } else if (leadin > 0) {\r\n                closest.p1.tag = GridPointTags.MIDDLE_START;\r\n                //UTMLine(closest.p1, \"SM\");\r\n                ans.push(closest.p1);\r\n            }\r\n\r\n            if (spacing > 0) {\r\n                for (let d = (spacing - ((closest.base_pnt.GetDistance2D(closest.p1)) % spacing));\r\n                    d < (closest.p1.GetDistance2D(closest.p2));\r\n                    d += spacing) {\r\n                    // new_pos(ref ax, ref ay, angle, d);\r\n                    let utmpos1 = new UTMPos(closest.p1.x, closest.p1.y, utm_zone, GridPointTags.MIDDLE);\r\n                    //UTMLine(utmpos1, \"M\");\r\n                    ans.push(utmpos1);\r\n                }\r\n            }\r\n\r\n            let new_end = closest.p2.relative_point_from_dist_bearing(angle, overshoot1, GridPointTags.END);\r\n\r\n            if (overshoot1 < 0) {\r\n                var p2 = new_end.copy()\r\n                p2.tag = GridPointTags.MIDDLE_END;\r\n                //UTMLine(p2, \"ME\");\r\n                ans.push(p2);\r\n            } else if (overshoot1 > 0) {\r\n                closest.p2.tag = GridPointTags.MIDDLE_END;\r\n                //UTMLine(closest.p2, \"ME\");\r\n                ans.push(closest.p2);\r\n            }\r\n\r\n            // new_end.tag = GridPointTags.END;\r\n            //UTMLine(new_end, \"E\");\r\n            ans.push(new_end);\r\n\r\n            last_pnt = closest.p2;\r\n\r\n            remove_item_from_array(grid, closest);\r\n            if (grid.length == 0)\r\n                break;\r\n\r\n            closest = findClosestLine(new_end, grid, minLaneSeparationINMeters, angle);\r\n        } else {\r\n            let new_start = closest.p2.relative_point_from_dist_bearing(angle, leadin);\r\n            new_start.tag = GridPointTags.START;\r\n            //UTMLine(new_start, \"S\");\r\n            ans.push(new_start);\r\n\r\n            if (leadin < 0) {\r\n                var p2 = new_start.copy()\r\n                p2.tag = GridPointTags.MIDDLE_START;\r\n                //UTMLine(p2, \"SM\");\r\n                ans.push(p2);\r\n            } else if(leadin > 0) {\r\n                closest.p2.tag = GridPointTags.MIDDLE_START;\r\n                //UTMLine(closest.p2, \"SM\");\r\n                ans.push(closest.p2);\r\n            }\r\n\r\n            if (spacing > 0) {\r\n                for (let d = ((closest.base_pnt.GetDistance2D(closest.p2)) % spacing);\r\n                    d < (closest.p1.GetDistance2D(closest.p2));\r\n                    d += spacing) {\r\n                    // let ax = closest.p2.x;\r\n                    // let ay = closest.p2.y;\r\n                    let a = closest.p2.relative_point_from_dist_bearing(angle, -d);\r\n\r\n                    // new_pos(ref ax, ref ay, angle, -d);\r\n                    var utmpos2 = new UTMPos(a.x, a.y, utm_zone, GridPointTags.MIDDLE);\r\n                    //UTMLine(utmpos2, \"M\");\r\n                    ans.push(utmpos2);\r\n                }\r\n            }\r\n\r\n            let new_end = closest.p1.relative_point_from_dist_bearing(angle, -overshoot2, GridPointTags.END);\r\n            // utmpos new_end = new_pos(closest.p1, angle, -overshoot2);\r\n\r\n            if (overshoot2 < 0) {\r\n                // var p2 = new_end.copy(\"ME\");\r\n                //UTMLine(p2, \"ME\");\r\n                ans.push(new_end.copy(GridPointTags.MIDDLE_END));\r\n            } else if (overshoot2 > 0) {\r\n                // closest.p1.tag = \"ME\";\r\n                //UTMLine(closest.p1, \"ME\");\r\n                ans.push(closest.p1.copy(GridPointTags.MIDDLE_END));\r\n            }\r\n\r\n            // new_end.tag = \"E\";\r\n            //UTMLine(new_end, \"E\");\r\n            ans.push(new_end);\r\n\r\n            last_pnt = closest.p1;\r\n\r\n            // grid.Remove(closest);\r\n            remove_item_from_array(grid, closest);\r\n            if (grid.length == 0)\r\n                break;\r\n            closest = findClosestLine(new_end, grid, minLaneSeparationINMeters, angle);\r\n        }\r\n    }\r\n\r\n    const points = NeuronInterfacePoint.from_UTMs(ans);\r\n\r\n    // set the altitude on all points\r\n    for(let p of points)\r\n        p.altitude = altitude;\r\n\r\n    return points;\r\n}\r\n"],"names":[],"sourceRoot":""}